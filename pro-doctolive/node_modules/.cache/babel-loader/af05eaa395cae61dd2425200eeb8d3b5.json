{"ast":null,"code":"import _toConsumableArray from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\src\\\\components\\\\gestion\\\\Calandar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport { Row, Col } from 'react-bootstrap';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport DetailsModal from './../modals/DetailsModal';\nimport AddModal from './../modals/AddModals';\nimport UpdateModal from './../modals/UpdateModal';\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa';\nvar localizer = momentLocalizer(moment);\n\nfunction CreateEventWithNoOverlap(props) {\n  var _this = this;\n\n  var _useState = useState({\n    show: false,\n    slot: {}\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      addEvent = _useState2[0],\n      setAddEvent = _useState2[1];\n\n  var _useState3 = useState({\n    show: false,\n    slot: {}\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      updateEvent = _useState4[0],\n      setUpdateEvent = _useState4[1];\n\n  var _useState5 = useState({\n    show: false,\n    slot: {}\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showEvent = _useState6[0],\n      setShowEvent = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      eventsToShow = _useState8[0],\n      setEventsToShow = _useState8[1];\n\n  var _useState9 = useState(\"week\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      view = _useState10[0],\n      setView = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedDay = _useState12[0],\n      setSelectedDay = _useState12[1];\n\n  useEffect(function () {\n    if (props.events) {\n      setEventsToShow(_toConsumableArray(props.events));\n    }\n  }, [props.events]);\n\n  var onSelectEvent = function onSelectEvent(slot) {\n    setShowEvent({\n      show: true,\n      slot: slot\n    });\n  };\n\n  var onNavigate = function onNavigate(date) {\n    setSelectedDay(date);\n  };\n\n  var CustomToolbar = function CustomToolbar(toolbar) {\n    var goToBack = function goToBack() {\n      var newDate = moment(toolbar.date).subtract(4, 'weeks').toDate();\n      toolbar.onNavigate('prev', newDate);\n    };\n\n    var goToNext = function goToNext() {\n      var newDate = moment(toolbar.date).add(4, 'weeks').toDate();\n      toolbar.onNavigate('next', newDate);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rbc-toolbar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rbc-btn-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: goToBack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FaAngleLeft, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 38\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: goToNext,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FaAngleRight, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 38\n      }\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rbc-toolbar-label\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, toolbar.label));\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Events on \", selectedDay ? moment(selectedDay).format('LL') : 'Select a Day'), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, eventsToShow.filter(function (event) {\n    return moment(event.date).isSame(selectedDay, 'day');\n  }).map(function (event) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: event.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, event.title);\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Timeline for \", selectedDay ? moment(selectedDay).format('LL') : 'Select a Day')), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    localizer: localizer,\n    events: eventsToShow,\n    startAccessor: \"date\",\n    endAccessor: \"end\",\n    view: view,\n    onView: setView,\n    toolbar: true,\n    components: {\n      toolbar: CustomToolbar\n    },\n    onNavigate: onNavigate,\n    defaultView: \"week\",\n    views: ['week'],\n    step: 60,\n    timeslots: 4,\n    selectable: true,\n    popup: true,\n    onSelectSlot: function onSelectSlot(slotInfo) {\n      return setSelectedDay(slotInfo.start);\n    },\n    style: {\n      height: \"100vh\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), addEvent.slot && /*#__PURE__*/React.createElement(AddModal, {\n    addEvent: addEvent,\n    setModalShow: setAddEvent,\n    setNewEvent: props.setEvents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }), updateEvent.slot && /*#__PURE__*/React.createElement(UpdateModal, {\n    updateEvent: updateEvent,\n    setModalShow: setUpdateEvent,\n    setChanageUpdate: props.setEvents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 28\n    }\n  }), showEvent.slot && /*#__PURE__*/React.createElement(DetailsModal, {\n    DetailsEvent: showEvent,\n    setModalShow: setShowEvent,\n    updateEvent: setUpdateEvent,\n    deleteEvent: setDeletedEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 26\n    }\n  }));\n}\n\nexport default CreateEventWithNoOverlap;","map":{"version":3,"names":["React","useState","useEffect","Calendar","momentLocalizer","moment","Row","Col","DetailsModal","AddModal","UpdateModal","FaAngleLeft","FaAngleRight","localizer","CreateEventWithNoOverlap","props","show","slot","addEvent","setAddEvent","updateEvent","setUpdateEvent","showEvent","setShowEvent","eventsToShow","setEventsToShow","view","setView","selectedDay","setSelectedDay","events","onSelectEvent","onNavigate","date","CustomToolbar","toolbar","goToBack","newDate","subtract","toDate","goToNext","add","label","format","filter","event","isSame","map","id","title","slotInfo","start","height","width","setEvents","setDeletedEvent"],"sources":["C:/app/doctolive_code/pro-doctolive/src/components/gestion/Calandar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\n\r\nimport DetailsModal from './../modals/DetailsModal';\r\nimport AddModal from './../modals/AddModals';\r\nimport UpdateModal from './../modals/UpdateModal';\r\n\r\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa';\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nfunction CreateEventWithNoOverlap(props) {\r\n  const [addEvent, setAddEvent] = useState({ show: false, slot: {} });\r\n  const [updateEvent, setUpdateEvent] = useState({ show: false, slot: {} });\r\n  const [showEvent, setShowEvent] = useState({ show: false, slot: {} });\r\n  const [eventsToShow, setEventsToShow] = useState([]);\r\n  const [view, setView] = useState(\"week\");\r\n  const [selectedDay, setSelectedDay] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (props.events) {\r\n      setEventsToShow([...props.events]);\r\n    }\r\n  }, [props.events]);\r\n\r\n  const onSelectEvent = (slot) => {\r\n    setShowEvent({ show: true, slot });\r\n  };\r\n\r\n  const onNavigate = (date) => {\r\n    setSelectedDay(date);\r\n  };\r\n\r\n  const CustomToolbar = (toolbar) => {\r\n    const goToBack = () => {\r\n      const newDate = moment(toolbar.date).subtract(4, 'weeks').toDate();\r\n      toolbar.onNavigate('prev', newDate);\r\n    };\r\n\r\n    const goToNext = () => {\r\n      const newDate = moment(toolbar.date).add(4, 'weeks').toDate();\r\n      toolbar.onNavigate('next', newDate);\r\n    };\r\n\r\n    return (\r\n      <div className=\"rbc-toolbar\">\r\n        <span className=\"rbc-btn-group\">\r\n          <button onClick={goToBack}><FaAngleLeft /></button>\r\n          <button onClick={goToNext}><FaAngleRight /></button>\r\n        </span>\r\n        <span className=\"rbc-toolbar-label\">{toolbar.label}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={4}>\r\n        <h5>Events on {selectedDay ? moment(selectedDay).format('LL') : 'Select a Day'}</h5>\r\n        <ul>\r\n          {eventsToShow.filter(event => moment(event.date).isSame(selectedDay, 'day')).map(event => (\r\n            <li key={event.id}>{event.title}</li>\r\n          ))}\r\n        </ul>\r\n      </Col>\r\n\r\n      <Col md={4}>\r\n        <h5>Timeline for {selectedDay ? moment(selectedDay).format('LL') : 'Select a Day'}</h5>\r\n        {/* Display the timeline of events here */}\r\n      </Col>\r\n\r\n      <Col md={4}>\r\n        <Calendar\r\n          localizer={localizer}\r\n          events={eventsToShow}\r\n          startAccessor=\"date\"\r\n          endAccessor=\"end\"\r\n          view={view}\r\n          onView={setView}\r\n          toolbar={true}\r\n          components={{ toolbar: CustomToolbar }}\r\n          onNavigate={onNavigate}\r\n          defaultView=\"week\"\r\n          views={['week']}\r\n          step={60}\r\n          timeslots={4}\r\n          selectable\r\n          popup\r\n          onSelectSlot={(slotInfo) => setSelectedDay(slotInfo.start)}\r\n          style={{ height: \"100vh\", width: \"100%\" }}\r\n        />\r\n      </Col>\r\n\r\n      {addEvent.slot && <AddModal addEvent={addEvent} setModalShow={setAddEvent} setNewEvent={props.setEvents} />}\r\n      {updateEvent.slot && <UpdateModal updateEvent={updateEvent} setModalShow={setUpdateEvent} setChanageUpdate={props.setEvents} />}\r\n      {showEvent.slot && <DetailsModal DetailsEvent={showEvent} setModalShow={setShowEvent} updateEvent={setUpdateEvent} deleteEvent={setDeletedEvent} />}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default CreateEventWithNoOverlap;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
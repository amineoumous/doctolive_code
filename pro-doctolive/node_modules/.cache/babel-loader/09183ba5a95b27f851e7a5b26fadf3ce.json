{"ast":null,"code":"import _objectSpread from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Axios from'axios';import Config from'Config';import{useAuth}from'context/Auth';import Card from'components/Card/Card';import CardBody from'components/Card/CardBody';import moment from'moment';import{Row,Col}from'react-bootstrap';import{Link}from'react-router-dom';export default function Chat(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),teleconsultations=_useState2[0],setTeleconsultation=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useAuth=useAuth(),UserData=_useAuth.UserData;useEffect(function(){Axios.get(\"\".concat(Config.BACKEND_URL,\"/medecin/teleconsultation/venir\"),{headers:{'Content-Type':'application/json','Authorization':\"token \".concat(UserData.token)}}).then(function(response){if(response){if(!response.data.error){if(response.data.consultations){setTeleconsultation(response.data.consultations);}}else{setErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{events:true});});}}}).catch(function(err){if(err.response){if(err.response.status===500){}}});return function(){};},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\" Consultation \\xE0 distance \\xE0 venir \"),/*#__PURE__*/React.createElement(Row,null,teleconsultations?teleconsultations.length>0?teleconsultations.map(function(teleconsultation,index){return/*#__PURE__*/React.createElement(Col,{key:index,lg:\"4\",md:12,sm:12,xs:12},/*#__PURE__*/React.createElement(TeleconsultationCard,{teleconsultation:teleconsultation}));}):/*#__PURE__*/React.createElement(\"h3\",null,\" Aucune t\\xE9\\xE9l\\xE9consultation \\xE0 venir \"):/*#__PURE__*/React.createElement(\"h3\",null,\" Aucune t\\xE9\\xE9l\\xE9consultation \\xE0 venir \")));}function TeleconsultationCard(_ref){var teleconsultation=_ref.teleconsultation;return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h4\",null,\" \",teleconsultation.title,\"  \"),/*#__PURE__*/React.createElement(\"h5\",null,\" \",moment(teleconsultation.date+teleconsultation.time,\"YYYY/MM/DDHH:mm\").calendar(),\"  \"),/*#__PURE__*/React.createElement(\"p\",null,\" avec \",teleconsultation.patient.nom,\" \",teleconsultation.patient.prenom,\"   \"),/*#__PURE__*/React.createElement(Link,{to:\"/chat-video/\".concat(teleconsultation.id)},\" Rejoindre la consultation \")));}","map":{"version":3,"names":["React","useEffect","useState","Axios","Config","useAuth","Card","CardBody","moment","Row","Col","Link","Chat","props","teleconsultations","setTeleconsultation","errors","setErrors","UserData","get","BACKEND_URL","headers","token","then","response","data","error","consultations","events","catch","err","status","length","map","teleconsultation","index","TeleconsultationCard","title","date","time","calendar","patient","nom","prenom","id"],"sources":["C:/app/doctolive_code/pro-doctolive/src/views/Chat/Chat.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\n\r\nimport Axios from 'axios'\r\nimport Config from 'Config'\r\nimport { useAuth } from 'context/Auth';\r\n\r\nimport Card from 'components/Card/Card'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport moment from 'moment'\r\nimport {Row, Col} from 'react-bootstrap'\r\nimport {Link } from 'react-router-dom'\r\nexport default function Chat(props) {\r\n\r\n    const [teleconsultations, setTeleconsultation] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const {UserData} = useAuth();       \r\n\r\n        useEffect(() => {\r\n            Axios.get(`${Config.BACKEND_URL}/medecin/teleconsultation/venir`, {\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Authorization': `token ${UserData.token}`,\r\n              }})\r\n              .then(response =>{\r\n\r\n                if(response){\r\n                  if (!response.data.error) { \r\n                    if(response.data.consultations){\r\n                        setTeleconsultation(response.data.consultations)\r\n                    }\r\n                    \r\n                  }else{\r\n                    setErrors( (errors) => {return {...errors, events: true}})\r\n                  }\r\n                }\r\n               \r\n              })\r\n              .catch(err=> {\r\n\r\n                if(err.response){\r\n          \r\n                  if(err.response.status === 500){\r\n          \r\n                  }\r\n                }\r\n                \r\n              });\r\n          \r\n        return () => {\r\n            \r\n        }\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <h3> Consultation à distance à venir </h3>\r\n            <Row>\r\n                {\r\n                 teleconsultations ?\r\n                 teleconsultations.length > 0 ?\r\n                 teleconsultations.map((teleconsultation, index) => {\r\n                    return(\r\n                        <Col key={index} lg=\"4\" md={12} sm={12} xs={12} >\r\n                            <TeleconsultationCard teleconsultation={teleconsultation} />\r\n                        </Col>\r\n                    )\r\n                 }) \r\n                 : <h3> Aucune tééléconsultation à venir </h3>  \r\n                 : <h3> Aucune tééléconsultation à venir </h3>  \r\n                }\r\n            </Row>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TeleconsultationCard ({teleconsultation}){\r\n    return(\r\n        <Card>\r\n            <CardBody>\r\n                <h4> {teleconsultation.title}  </h4>\r\n                <h5> {moment(teleconsultation.date +  teleconsultation.time, \"YYYY/MM/DDHH:mm\").calendar()}  </h5>\r\n                <p> avec {teleconsultation.patient.nom} {teleconsultation.patient.prenom}   </p>\r\n                <Link to={`/chat-video/${teleconsultation.id}`}> Rejoindre la consultation </Link>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}"],"mappings":"mUAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CAEA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,QAAnB,CACA,OAASC,OAAT,KAAwB,cAAxB,CAEA,MAAOC,KAAP,KAAiB,sBAAjB,CACA,MAAOC,SAAP,KAAqB,0BAArB,CACA,MAAOC,OAAP,KAAmB,QAAnB,CACA,OAAQC,GAAR,CAAaC,GAAb,KAAuB,iBAAvB,CACA,OAAQC,IAAR,KAAoB,kBAApB,CACA,cAAe,SAASC,KAAT,CAAcC,KAAd,CAAqB,CAEhC,cAAiDX,QAAQ,CAAC,EAAD,CAAzD,wCAAOY,iBAAP,eAA0BC,mBAA1B,eACA,eAA4Bb,QAAQ,CAAC,EAAD,CAApC,yCAAOc,MAAP,eAAeC,SAAf,eACA,aAAmBZ,OAAO,EAA1B,CAAOa,QAAP,UAAOA,QAAP,CAEIjB,SAAS,CAAC,UAAM,CACZE,KAAK,CAACgB,GAAN,WAAaf,MAAM,CAACgB,WAApB,oCAAkE,CAC9DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,gCAA0BH,QAAQ,CAACI,KAAnC,CAFO,CADqD,CAAlE,EAKGC,IALH,CAKQ,SAAAC,QAAQ,CAAG,CAEf,GAAGA,QAAH,CAAY,CACV,GAAI,CAACA,QAAQ,CAACC,IAAT,CAAcC,KAAnB,CAA0B,CACxB,GAAGF,QAAQ,CAACC,IAAT,CAAcE,aAAjB,CAA+B,CAC3BZ,mBAAmB,CAACS,QAAQ,CAACC,IAAT,CAAcE,aAAf,CAAnB,CACH,CAEF,CALD,IAKK,CACHV,SAAS,CAAE,SAACD,MAAD,CAAY,CAAC,sCAAWA,MAAX,MAAmBY,MAAM,CAAE,IAA3B,GAAiC,CAAhD,CAAT,CACD,CACF,CAEF,CAlBH,EAmBGC,KAnBH,CAmBS,SAAAC,GAAG,CAAG,CAEX,GAAGA,GAAG,CAACN,QAAP,CAAgB,CAEd,GAAGM,GAAG,CAACN,QAAJ,CAAaO,MAAb,GAAwB,GAA3B,CAA+B,CAE9B,CACF,CAEF,CA5BH,EA8BJ,MAAO,WAAM,CAEZ,CAFD,CAGH,CAlCY,CAkCV,EAlCU,CAAT,CAmCJ,mBACI,4CACI,wEADJ,cAEI,oBAAC,GAAD,MAEKjB,iBAAiB,CACjBA,iBAAiB,CAACkB,MAAlB,CAA2B,CAA3B,CACAlB,iBAAiB,CAACmB,GAAlB,CAAsB,SAACC,gBAAD,CAAmBC,KAAnB,CAA6B,CAChD,mBACI,oBAAC,GAAD,EAAK,GAAG,CAAEA,KAAV,CAAiB,EAAE,CAAC,GAApB,CAAwB,EAAE,CAAE,EAA5B,CAAgC,EAAE,CAAE,EAApC,CAAwC,EAAE,CAAE,EAA5C,eACI,oBAAC,oBAAD,EAAsB,gBAAgB,CAAED,gBAAxC,EADJ,CADJ,CAKF,CAND,CADA,cAQE,+EATe,cAUf,+EAZP,CAFJ,CADJ,CAqBH,CAED,QAASE,qBAAT,MAAkD,IAAlBF,iBAAkB,MAAlBA,gBAAkB,CAC9C,mBACI,oBAAC,IAAD,mBACI,oBAAC,QAAD,mBACI,kCAAMA,gBAAgB,CAACG,KAAvB,MADJ,cAEI,kCAAM7B,MAAM,CAAC0B,gBAAgB,CAACI,IAAjB,CAAyBJ,gBAAgB,CAACK,IAA3C,CAAiD,iBAAjD,CAAN,CAA0EC,QAA1E,EAAN,MAFJ,cAGI,sCAAUN,gBAAgB,CAACO,OAAjB,CAAyBC,GAAnC,KAAyCR,gBAAgB,CAACO,OAAjB,CAAyBE,MAAlE,OAHJ,cAII,oBAAC,IAAD,EAAM,EAAE,uBAAiBT,gBAAgB,CAACU,EAAlC,CAAR,gCAJJ,CADJ,CADJ,CAUH"},"metadata":{},"sourceType":"module"}
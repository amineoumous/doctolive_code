{"ast":null,"code":"import _objectSpread from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\src\\\\views\\\\AgendaMedecin\\\\Gestion.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios'; // import Calandar from 'Components/gestion/Calandar'\n\nimport Category from 'components/gestion/Category';\nimport { Row } from 'react-bootstrap';\nimport Calandar from 'components/gestion/Calandar';\nimport Config from 'Config';\nimport { useAuth } from \"context/Auth\"; // import { Switch } from '@material-ui/core';\n\nimport { Switch, Route } from \"react-router-dom\";\nimport RendezVous from './RendezVous';\nimport { FaSearch } from \"react-icons/fa\";\n\nfunction Gestion() {\n  var _UserData$user, _UserData$user$prenom, _UserData$user2, _UserData$user3;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      events = _useState2[0],\n      setEvents = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var _useAuth = useAuth(),\n      UserData = _useAuth.UserData;\n\n  console.log(UserData);\n  useEffect(function () {\n    var today = new Date().toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format\n\n    Axios.get(\"\".concat(Config.BACKEND_URL, \"/medecin/consultation\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(UserData.token)\n      },\n      params: {\n        date: today // Add today's date as a query parameter\n\n      }\n    }).then(function (response) {\n      if (response) {\n        if (!response.data.error) {\n          if (response.data.consultation) {\n            setEvents(response.data.consultation);\n          }\n        } else {\n          setErrors(function (errors) {\n            return _objectSpread(_objectSpread({}, errors), {}, {\n              events: true\n            });\n          });\n        }\n      }\n    })[\"catch\"](function (err) {\n      if (err.response) {\n        if (err.response.status === 500) {}\n      }\n    });\n    return function () {};\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5 mx-0 bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-calendar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-letter-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 14\n    }\n  }, UserData === null || UserData === void 0 ? void 0 : (_UserData$user = UserData.user) === null || _UserData$user === void 0 ? void 0 : (_UserData$user$prenom = _UserData$user.prenom) === null || _UserData$user$prenom === void 0 ? void 0 : _UserData$user$prenom.charAt(0), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"color-red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 14\n    }\n  }, \".\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-and-name display-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-search-cal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FaSearch, {\n    color: \"#D3D5DF\",\n    size: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"name-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Bonjour \", UserData === null || UserData === void 0 ? void 0 : (_UserData$user2 = UserData.user) === null || _UserData$user2 === void 0 ? void 0 : _UserData$user2.prenom, \" \", UserData === null || UserData === void 0 ? void 0 : (_UserData$user3 = UserData.user) === null || _UserData$user3 === void 0 ? void 0 : _UserData$user3.nom))), /*#__PURE__*/React.createElement(Calandar, {\n    events: events,\n    setEvents: setEvents,\n    errors: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default function Agenda(props) {\n  return /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/agenda\",\n    exact: true,\n    component: Gestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/agenda/rendez-vous/:id\",\n    exact: true,\n    component: RendezVous,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","Axios","Category","Row","Calandar","Config","useAuth","Switch","Route","RendezVous","FaSearch","Gestion","events","setEvents","errors","setErrors","UserData","console","log","today","Date","toISOString","split","get","BACKEND_URL","headers","token","params","date","then","response","data","error","consultation","err","status","user","prenom","charAt","nom","Agenda","props"],"sources":["C:/app/doctolive_code/pro-doctolive/src/views/AgendaMedecin/Gestion.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport Axios from 'axios'\r\n\r\n\r\n// import Calandar from 'Components/gestion/Calandar'\r\nimport Category from 'components/gestion/Category'\r\nimport { Row } from 'react-bootstrap';\r\n\r\nimport Calandar from 'components/gestion/Calandar'\r\n\r\nimport Config from 'Config'\r\nimport { useAuth } from \"context/Auth\";\r\n// import { Switch } from '@material-ui/core';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport RendezVous from './RendezVous';\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nfunction Gestion() {\r\n  const [events, setEvents] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const {UserData} = useAuth();\r\n  console.log(UserData)\r\n\r\n  useEffect(() => {\r\n\r\n    const today = new Date().toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format\r\n\r\n    Axios.get(`${Config.BACKEND_URL}/medecin/consultation`, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `token ${UserData.token}`,\r\n        },\r\n        params: {\r\n            date: today, // Add today's date as a query parameter\r\n        }\r\n    })\r\n    .then(response =>{\r\n\r\n      if(response){\r\n        if (!response.data.error) { \r\n          if(response.data.consultation){\r\n            setEvents(response.data.consultation)\r\n          }\r\n          \r\n        }else{\r\n          setErrors( (errors) => {return {...errors, events: true}})\r\n        }\r\n      }\r\n     \r\n    })\r\n    .catch(err=> {\r\n      if(err.response){\r\n\r\n        if(err.response.status === 500){\r\n\r\n        }\r\n      }\r\n      \r\n    });\r\n\r\n \r\n\r\n\r\n    return () => {\r\n      \r\n    }\r\n    \r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"gestion\">\r\n\r\n      <Row className=\"mt-5 mx-0 bg-white\">\r\n        <div className='header-calendar'>\r\n         <div className='first-letter-name'>\r\n             <span>{UserData?.user?.prenom?.charAt(0)}\r\n             <span className='color-red'>.</span></span>\r\n         </div>\r\n         <div className='search-and-name display-flex'>\r\n          <div className='input-search-cal'>\r\n            <FaSearch  color='#D3D5DF' size={25}/>\r\n            <input className='' />\r\n          </div>\r\n          <span className='name-user'>\r\n            Bonjour {UserData?.user?.prenom} {UserData?.user?.nom}\r\n          </span>\r\n\r\n         </div>\r\n      \r\n        </div>\r\n        <Calandar    events={events} setEvents={setEvents} errors />\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default function Agenda(props) {\r\n  return(\r\n    <Switch>\r\n      <Route path=\"/agenda\" exact component={Gestion} />\r\n      <Route path=\"/agenda/rendez-vous/:id\" exact component={RendezVous} />\r\n    </Switch>\r\n  )\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{BiUpload}from'react-icons/bi';import{AiOutlineDelete}from'react-icons/ai';import{CSSTransition,TransitionGroup}from'react-transition-group';import styles from\"assets/jss/components/fileUpladerStyle.js\";var useStyles=makeStyles(styles);export default function FileUploader(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),inputKey=_useState2[0],setInputKey=_useState2[1];var classes=useStyles();var fileHandling=function fileHandling(event){event.preventDefault();var file=event.target.files[0];var reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=function(){if(file!==undefined){if(file.type.split('/')[0]===\"image\"){setInputKey(function(inputKey){return inputKey+1;});props.setUploadedFile({filePath:reader.result,realName:file.name,type:'file',fileType:file.type.split('/')[0]});}}};};return/*#__PURE__*/React.createElement(\"div\",{className:classes.container},/*#__PURE__*/React.createElement(\"input\",{key:inputKey,type:\"file\",id:props.id,name:props.name,className:classes.input,onChange:fileHandling}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:props.id,className:classes.label},\" \",/*#__PURE__*/React.createElement(BiUpload,null),\" \",props.label,\" \"),/*#__PURE__*/React.createElement(TransitionGroup,{className:\"w-100\"},props.uploadedFile.fileType===\"image\"?/*#__PURE__*/React.createElement(CSSTransition,{key:\"index\",timeout:500,classNames:\"listing\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.imageContainer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{height:\"60px\",src:props.uploadedFile.filePath}),/*#__PURE__*/React.createElement(\"p\",null,\" \",props.uploadedFile.realName,\" \")),/*#__PURE__*/React.createElement(\"span\",{onClick:props.onDelete},\" \",/*#__PURE__*/React.createElement(AiOutlineDelete,null),\" \"))):null));}","map":{"version":3,"names":["React","useState","makeStyles","BiUpload","AiOutlineDelete","CSSTransition","TransitionGroup","styles","useStyles","FileUploader","props","inputKey","setInputKey","classes","fileHandling","event","preventDefault","file","target","files","reader","FileReader","readAsDataURL","onloadend","undefined","type","split","setUploadedFile","filePath","result","realName","name","fileType","container","id","input","label","uploadedFile","imageContainer","onDelete"],"sources":["C:/app/doctolive_code/pro-doctolive/src/components/FileUploader/FileUploader.js"],"sourcesContent":["import React, {useState} from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {BiUpload} from 'react-icons/bi';\r\nimport {AiOutlineDelete} from 'react-icons/ai';\r\n\r\nimport {\r\n    CSSTransition,\r\n    TransitionGroup,\r\n  } from 'react-transition-group'; \r\n  \r\nimport styles from \"assets/jss/components/fileUpladerStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function FileUploader(props) {\r\n    const [inputKey, setInputKey] = useState(0);\r\n\r\n  const classes = useStyles();\r\n\r\n    const fileHandling = (event) => {\r\n        event.preventDefault()\r\n        const file = event.target.files[0];\r\n\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n        if(file !== undefined){\r\n            if(file.type.split('/')[0] === \"image\" ){\r\n                setInputKey(inputKey => inputKey+1);\r\n                props.setUploadedFile({filePath: reader.result, realName: file.name, type: 'file', fileType: file.type.split('/')[0]  });\r\n            }\r\n        }\r\n        };\r\n    }\r\n    \r\n\r\n  return (\r\n    <div className={classes.container} >\r\n        <input key={inputKey} type=\"file\" id={props.id} name={props.name} className={classes.input} onChange={fileHandling} />\r\n        <label htmlFor={props.id} className={classes.label} > <BiUpload /> {props.label} </label>\r\n        <TransitionGroup className=\"w-100\">\r\n            {props.uploadedFile.fileType === \"image\" ?\r\n            <CSSTransition\r\n                key={\"index\"}\r\n                timeout={500}\r\n                classNames=\"listing\"\r\n            >\r\n                <div className= {classes.imageContainer}> \r\n                  <div>\r\n                    <img height=\"60px\" src={props.uploadedFile.filePath} /> \r\n                    <p> {props.uploadedFile.realName} </p>\r\n                  </div>\r\n                    <span onClick= {props.onDelete} > <AiOutlineDelete /> </span>\r\n                </div>   \r\n            </CSSTransition>\r\n            : null \r\n            }\r\n        </TransitionGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nFileUploader.propTypes = {\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\"\r\n  ]),\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  onDelete: PropTypes.func,\r\n  setUploadedFile: PropTypes.func,\r\n  inputKey: PropTypes.number,\r\n  uploadedFile: PropTypes.object,\r\n};\r\n"],"mappings":"kKAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CAIA,OAASC,UAAT,KAA2B,0BAA3B,CAEA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAAQC,eAAR,KAA8B,gBAA9B,CAEA,OACIC,aADJ,CAEIC,eAFJ,KAGS,wBAHT,CAKA,MAAOC,OAAP,KAAmB,2CAAnB,CAEA,GAAMC,UAAS,CAAGN,UAAU,CAACK,MAAD,CAA5B,CAEA,cAAe,SAASE,aAAT,CAAsBC,KAAtB,CAA6B,CACxC,cAAgCT,QAAQ,CAAC,CAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eAEF,GAAMC,QAAO,CAAGL,SAAS,EAAzB,CAEE,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACA,GAAMC,KAAI,CAAGF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb,CAEA,GAAMC,OAAM,CAAG,GAAIC,WAAJ,EAAf,CACAD,MAAM,CAACE,aAAP,CAAqBL,IAArB,EACAG,MAAM,CAACG,SAAP,CAAmB,UAAM,CACzB,GAAGN,IAAI,GAAKO,SAAZ,CAAsB,CAClB,GAAGP,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA4B,OAA/B,CAAwC,CACpCd,WAAW,CAAC,SAAAD,QAAQ,QAAIA,SAAQ,CAAC,CAAb,EAAT,CAAX,CACAD,KAAK,CAACiB,eAAN,CAAsB,CAACC,QAAQ,CAAER,MAAM,CAACS,MAAlB,CAA0BC,QAAQ,CAAEb,IAAI,CAACc,IAAzC,CAA+CN,IAAI,CAAE,MAArD,CAA6DO,QAAQ,CAAEf,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAvE,CAAtB,EACH,CACJ,CACA,CAPD,CAQH,CAdD,CAiBF,mBACE,2BAAK,SAAS,CAAEb,OAAO,CAACoB,SAAxB,eACI,6BAAO,GAAG,CAAEtB,QAAZ,CAAsB,IAAI,CAAC,MAA3B,CAAkC,EAAE,CAAED,KAAK,CAACwB,EAA5C,CAAgD,IAAI,CAAExB,KAAK,CAACqB,IAA5D,CAAkE,SAAS,CAAElB,OAAO,CAACsB,KAArF,CAA4F,QAAQ,CAAErB,YAAtG,EADJ,cAEI,6BAAO,OAAO,CAAEJ,KAAK,CAACwB,EAAtB,CAA0B,SAAS,CAAErB,OAAO,CAACuB,KAA7C,mBAAsD,oBAAC,QAAD,MAAtD,KAAoE1B,KAAK,CAAC0B,KAA1E,KAFJ,cAGI,oBAAC,eAAD,EAAiB,SAAS,CAAC,OAA3B,EACK1B,KAAK,CAAC2B,YAAN,CAAmBL,QAAnB,GAAgC,OAAhC,cACD,oBAAC,aAAD,EACI,GAAG,CAAE,OADT,CAEI,OAAO,CAAE,GAFb,CAGI,UAAU,CAAC,SAHf,eAKI,2BAAK,SAAS,CAAGnB,OAAO,CAACyB,cAAzB,eACE,4CACE,2BAAK,MAAM,CAAC,MAAZ,CAAmB,GAAG,CAAE5B,KAAK,CAAC2B,YAAN,CAAmBT,QAA3C,EADF,cAEE,iCAAKlB,KAAK,CAAC2B,YAAN,CAAmBP,QAAxB,KAFF,CADF,cAKI,4BAAM,OAAO,CAAGpB,KAAK,CAAC6B,QAAtB,mBAAkC,oBAAC,eAAD,MAAlC,KALJ,CALJ,CADC,CAcC,IAfN,CAHJ,CADF,CAwBD"},"metadata":{},"sourceType":"module"}
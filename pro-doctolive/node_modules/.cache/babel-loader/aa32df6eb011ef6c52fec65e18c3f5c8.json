{"ast":null,"code":"import _objectSpread from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\src\\\\views\\\\Chat\\\\Chat.js\";\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport Config from 'Config';\nimport { useAuth } from 'context/Auth';\nimport Card from 'components/Card/Card';\nimport CardBody from 'components/Card/CardBody';\nimport moment from 'moment';\nimport { Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nexport default function Chat(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      teleconsultations = _useState2[0],\n      setTeleconsultation = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var _useAuth = useAuth(),\n      UserData = _useAuth.UserData;\n\n  useEffect(function () {\n    Axios.get(\"\".concat(Config.BACKEND_URL, \"/medecin/teleconsultation/venir\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(UserData.token)\n      }\n    }).then(function (response) {\n      if (response) {\n        if (!response.data.error) {\n          if (response.data.consultations) {\n            setTeleconsultation(response.data.consultations);\n          }\n        } else {\n          setErrors(function (errors) {\n            return _objectSpread(_objectSpread({}, errors), {}, {\n              events: true\n            });\n          });\n        }\n      }\n    })[\"catch\"](function (err) {\n      if (err.response) {\n        if (err.response.status === 500) {}\n      }\n    });\n    return function () {};\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \" Consultation \\xE0 distance \\xE0 venir \"));\n}\n\nfunction TeleconsultationCard(_ref) {\n  var teleconsultation = _ref.teleconsultation;\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \" \", teleconsultation.title, \"  \"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \" \", moment(teleconsultation.date + teleconsultation.time, \"YYYY/MM/DDHH:mm\").calendar(), \"  \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \" avec \", teleconsultation.patient.nom, \" \", teleconsultation.patient.prenom, \"   \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/chat-video/\".concat(teleconsultation.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \" Rejoindre la consultation \")));\n}","map":{"version":3,"names":["React","useEffect","useState","Axios","Config","useAuth","Card","CardBody","moment","Row","Col","Link","Chat","props","teleconsultations","setTeleconsultation","errors","setErrors","UserData","get","BACKEND_URL","headers","token","then","response","data","error","consultations","events","err","status","TeleconsultationCard","teleconsultation","title","date","time","calendar","patient","nom","prenom","id"],"sources":["C:/app/doctolive_code/pro-doctolive/src/views/Chat/Chat.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\n\r\nimport Axios from 'axios'\r\nimport Config from 'Config'\r\nimport { useAuth } from 'context/Auth';\r\n\r\nimport Card from 'components/Card/Card'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport moment from 'moment'\r\nimport {Row, Col} from 'react-bootstrap'\r\nimport {Link } from 'react-router-dom'\r\nexport default function Chat(props) {\r\n\r\n    const [teleconsultations, setTeleconsultation] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const {UserData} = useAuth();       \r\n\r\n        useEffect(() => {\r\n            Axios.get(`${Config.BACKEND_URL}/medecin/teleconsultation/venir`, {\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Authorization': `token ${UserData.token}`,\r\n              }})\r\n              .then(response =>{\r\n\r\n                if(response){\r\n                  if (!response.data.error) { \r\n                    if(response.data.consultations){\r\n                        setTeleconsultation(response.data.consultations)\r\n                    }\r\n                    \r\n                  }else{\r\n                    setErrors( (errors) => {return {...errors, events: true}})\r\n                  }\r\n                }\r\n               \r\n              })\r\n              .catch(err=> {\r\n\r\n                if(err.response){\r\n          \r\n                  if(err.response.status === 500){\r\n          \r\n                  }\r\n                }\r\n                \r\n              });\r\n          \r\n        return () => {\r\n            \r\n        }\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <h3> Consultation à distance à venir </h3>\r\n      \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TeleconsultationCard ({teleconsultation}){\r\n    return(\r\n        <Card>\r\n            <CardBody>\r\n                <h4> {teleconsultation.title}  </h4>\r\n                <h5> {moment(teleconsultation.date +  teleconsultation.time, \"YYYY/MM/DDHH:mm\").calendar()}  </h5>\r\n                <p> avec {teleconsultation.patient.nom} {teleconsultation.patient.prenom}   </p>\r\n                <Link to={`/chat-video/${teleconsultation.id}`}> Rejoindre la consultation </Link>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,OAAT,QAAwB,cAAxB;AAEA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAAQC,GAAR,EAAaC,GAAb,QAAuB,iBAAvB;AACA,SAAQC,IAAR,QAAoB,kBAApB;AACA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAqB;EAEhC,gBAAiDX,QAAQ,CAAC,EAAD,CAAzD;EAAA;EAAA,IAAOY,iBAAP;EAAA,IAA0BC,mBAA1B;;EACA,iBAA4Bb,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOc,MAAP;EAAA,IAAeC,SAAf;;EACA,eAAmBZ,OAAO,EAA1B;EAAA,IAAOa,QAAP,YAAOA,QAAP;;EAEIjB,SAAS,CAAC,YAAM;IACZE,KAAK,CAACgB,GAAN,WAAaf,MAAM,CAACgB,WAApB,sCAAkE;MAC9DC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,iCAA0BH,QAAQ,CAACI,KAAnC;MAFO;IADqD,CAAlE,EAKGC,IALH,CAKQ,UAAAC,QAAQ,EAAG;MAEf,IAAGA,QAAH,EAAY;QACV,IAAI,CAACA,QAAQ,CAACC,IAAT,CAAcC,KAAnB,EAA0B;UACxB,IAAGF,QAAQ,CAACC,IAAT,CAAcE,aAAjB,EAA+B;YAC3BZ,mBAAmB,CAACS,QAAQ,CAACC,IAAT,CAAcE,aAAf,CAAnB;UACH;QAEF,CALD,MAKK;UACHV,SAAS,CAAE,UAACD,MAAD,EAAY;YAAC,uCAAWA,MAAX;cAAmBY,MAAM,EAAE;YAA3B;UAAiC,CAAhD,CAAT;QACD;MACF;IAEF,CAlBH,WAmBS,UAAAC,GAAG,EAAG;MAEX,IAAGA,GAAG,CAACL,QAAP,EAAgB;QAEd,IAAGK,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA3B,EAA+B,CAE9B;MACF;IAEF,CA5BH;IA8BJ,OAAO,YAAM,CAEZ,CAFD;EAGH,CAlCY,EAkCV,EAlCU,CAAT;EAmCJ,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,6CADJ,CADJ;AAOH;;AAED,SAASC,oBAAT,OAAkD;EAAA,IAAlBC,gBAAkB,QAAlBA,gBAAkB;EAC9C,oBACI,oBAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAAMA,gBAAgB,CAACC,KAAvB,OADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAAMzB,MAAM,CAACwB,gBAAgB,CAACE,IAAjB,GAAyBF,gBAAgB,CAACG,IAA3C,EAAiD,iBAAjD,CAAN,CAA0EC,QAA1E,EAAN,OAFJ,eAGI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAAUJ,gBAAgB,CAACK,OAAjB,CAAyBC,GAAnC,OAAyCN,gBAAgB,CAACK,OAAjB,CAAyBE,MAAlE,QAHJ,eAII,oBAAC,IAAD;IAAM,EAAE,wBAAiBP,gBAAgB,CAACQ,EAAlC,CAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iCAJJ,CADJ,CADJ;AAUH"},"metadata":{},"sourceType":"module"}
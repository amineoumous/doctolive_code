{"ast":null,"code":"import _objectSpread from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';// import Calandar from 'Components/gestion/Calandar'\nimport Category from'components/gestion/Category';import{Row}from'react-bootstrap';import Calandar from'components/gestion/Calandar';import Config from'Config';import{useAuth}from\"context/Auth\";// import { Switch } from '@material-ui/core';\nimport{Switch,Route}from\"react-router-dom\";import RendezVous from'./RendezVous';import{FaSearch}from\"react-icons/fa\";function Gestion(){var _UserData$user,_UserData$user$prenom,_UserData$user2,_UserData$user3;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useAuth=useAuth(),UserData=_useAuth.UserData;console.log(UserData);useEffect(function(){var today=new Date().toISOString().split('T')[0];// Get today's date in YYYY-MM-DD format\nAxios.get(\"\".concat(Config.BACKEND_URL,\"/medecin/consultation\"),{headers:{'Content-Type':'application/json','Authorization':\"token \".concat(UserData.token)},params:{date:today// Add today's date as a query parameter\n}}).then(function(response){if(response){if(!response.data.error){if(response.data.consultation){setEvents(response.data.consultation);}}else{setErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},{events:true});});}}}).catch(function(err){if(err.response){if(err.response.status===500){}}});return function(){};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"gestion\"},/*#__PURE__*/React.createElement(Row,{className:\"mt-5 mx-0 bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-calendar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"first-letter-name\"},/*#__PURE__*/React.createElement(\"span\",null,UserData===null||UserData===void 0?void 0:(_UserData$user=UserData.user)===null||_UserData$user===void 0?void 0:(_UserData$user$prenom=_UserData$user.prenom)===null||_UserData$user$prenom===void 0?void 0:_UserData$user$prenom.charAt(0),/*#__PURE__*/React.createElement(\"span\",{className:\"color-red\"},\".\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"search-and-name display-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-search-cal\"},/*#__PURE__*/React.createElement(FaSearch,{color:\"#D3D5DF\",size:25}),/*#__PURE__*/React.createElement(\"input\",{className:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"name-user\"},\"Bonjour \",UserData===null||UserData===void 0?void 0:(_UserData$user2=UserData.user)===null||_UserData$user2===void 0?void 0:_UserData$user2.prenom,\" \",UserData===null||UserData===void 0?void 0:(_UserData$user3=UserData.user)===null||_UserData$user3===void 0?void 0:_UserData$user3.nom))),/*#__PURE__*/React.createElement(Calandar,{events:events,setEvents:setEvents,errors:true})));}export default function Agenda(props){return/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/agenda\",exact:true,component:Gestion}),/*#__PURE__*/React.createElement(Route,{path:\"/agenda/rendez-vous/:id\",exact:true,component:RendezVous}));}","map":{"version":3,"names":["React","useState","useEffect","Axios","Category","Row","Calandar","Config","useAuth","Switch","Route","RendezVous","FaSearch","Gestion","events","setEvents","errors","setErrors","UserData","console","log","today","Date","toISOString","split","get","BACKEND_URL","headers","token","params","date","then","response","data","error","consultation","catch","err","status","user","prenom","charAt","nom","Agenda","props"],"sources":["C:/app/doctolive_code/pro-doctolive/src/views/AgendaMedecin/Gestion.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport Axios from 'axios'\r\n\r\n\r\n// import Calandar from 'Components/gestion/Calandar'\r\nimport Category from 'components/gestion/Category'\r\nimport { Row } from 'react-bootstrap';\r\n\r\nimport Calandar from 'components/gestion/Calandar'\r\n\r\nimport Config from 'Config'\r\nimport { useAuth } from \"context/Auth\";\r\n// import { Switch } from '@material-ui/core';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport RendezVous from './RendezVous';\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nfunction Gestion() {\r\n  const [events, setEvents] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const {UserData} = useAuth();\r\n  console.log(UserData)\r\n\r\n  useEffect(() => {\r\n\r\n    const today = new Date().toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format\r\n\r\n    Axios.get(`${Config.BACKEND_URL}/medecin/consultation`, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `token ${UserData.token}`,\r\n        },\r\n        params: {\r\n            date: today, // Add today's date as a query parameter\r\n        }\r\n    })\r\n    .then(response =>{\r\n\r\n      if(response){\r\n        if (!response.data.error) { \r\n          if(response.data.consultation){\r\n            setEvents(response.data.consultation)\r\n          }\r\n          \r\n        }else{\r\n          setErrors( (errors) => {return {...errors, events: true}})\r\n        }\r\n      }\r\n     \r\n    })\r\n    .catch(err=> {\r\n      if(err.response){\r\n\r\n        if(err.response.status === 500){\r\n\r\n        }\r\n      }\r\n      \r\n    });\r\n\r\n \r\n\r\n\r\n    return () => {\r\n      \r\n    }\r\n    \r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"gestion\">\r\n\r\n      <Row className=\"mt-5 mx-0 bg-white\">\r\n        <div className='header-calendar'>\r\n         <div className='first-letter-name'>\r\n             <span>{UserData?.user?.prenom?.charAt(0)}\r\n             <span className='color-red'>.</span></span>\r\n         </div>\r\n         <div className='search-and-name display-flex'>\r\n          <div className='input-search-cal'>\r\n            <FaSearch  color='#D3D5DF' size={25}/>\r\n            <input className='' />\r\n          </div>\r\n          <span className='name-user'>\r\n            Bonjour {UserData?.user?.prenom} {UserData?.user?.nom}\r\n          </span>\r\n\r\n         </div>\r\n      \r\n        </div>\r\n        <Calandar    events={events} setEvents={setEvents} errors />\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default function Agenda(props) {\r\n  return(\r\n    <Switch>\r\n      <Route path=\"/agenda\" exact component={Gestion} />\r\n      <Route path=\"/agenda/rendez-vous/:id\" exact component={RendezVous} />\r\n    </Switch>\r\n  )\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
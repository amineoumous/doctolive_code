{"ast":null,"code":"import _slicedToArray from\"C:\\\\app\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Col,Collapse,Alert}from'react-bootstrap';import SubmitButton from'components/CustomButtons/SubmitButton.js';import TextFieldM from'@material-ui/core/TextField';import Autocomplete from'@material-ui/lab/Autocomplete';import{getSpecialities,StoreSpeciality}from'services/medecin/MedecinService';import{useAuth}from\"context/Auth\";export default function About(props){var _useAuth=useAuth(),UserData=_useAuth.UserData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),specialitiesChoiced=_useState2[0],setSpecialitiesChoiced=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),Specialities=_useState4[0],setSpecialities=_useState4[1];var _useState5=useState({success:false,sending:false,donneIncorrect:false}),_useState6=_slicedToArray(_useState5,2),etatRequest=_useState6[0],setEtatRequest=_useState6[1];useEffect(function(){getSpecialities().then(function(result){setSpecialities(result.data.specialities);}).catch(function(err){});return function(){};},[]);useEffect(function(){if(props.specialites){setSpecialitiesChoiced(props.specialites);var cloneS=Specialities.filter(function(element){return props.specialites.findIndex(function(e){return e.id===element.id;})<0;});setSpecialities(cloneS);}return function(){};},[props.specialites]);var handleSubmit=function handleSubmit(e){e.preventDefault();setEtatRequest({sending:true,success:false,donneIncorrect:false});var data={specialities:specialitiesChoiced};StoreSpeciality(data,UserData.token).then(function(res){setEtatRequest({sending:false,success:true,donneIncorrect:false});}).catch(function(error){if(error.response){if(error.response.data.error){if(error.response.data.message===\"token invalid or expired\"){// handling disconect\n}}}setEtatRequest({sending:false,success:false,donneIncorrect:true});});};return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"w-100\",autoComplete:\"off\"},/*#__PURE__*/React.createElement(Row,{className:\"w-100 mb-5\"},/*#__PURE__*/React.createElement(Col,{xs:\"12\",md:\"12\",className:\"mt-5\"},specialitiesChoiced!==null&&specialitiesChoiced!==undefined?/*#__PURE__*/React.createElement(Autocomplete,{multiple:true,options:Specialities,limitTags:2,getOptionLabel:function getOptionLabel(option){return option.name;},onChange:function onChange(event,newValue){setSpecialitiesChoiced(newValue);},value:specialitiesChoiced,filterSelectedOptions:true,renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextFieldM,Object.assign({},params,{variant:\"outlined\",label:\"Sp\\xE9cialit\\xE9s\",placeholder:\"Tapez pour filtrer\"}));}}):null)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Collapse,{in:etatRequest.donneIncorecte},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},\"les information sont incorrecte\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Collapse,{in:etatRequest.success},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Alert,{variant:\"success\"},\"Vos sp\\xE9cialit\\xE9 est mis \\xE0 jours avec succ\\xE9es\")))),/*#__PURE__*/React.createElement(Row,{className:\"align-items-center justify-content-around mt-4 \"},/*#__PURE__*/React.createElement(SubmitButton,{sending:etatRequest.sending,successRequest:etatRequest.success,type:\"submit\",color:\"primary\"},\" Enregistrer \")));}","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Collapse","Alert","SubmitButton","TextFieldM","Autocomplete","getSpecialities","StoreSpeciality","useAuth","About","props","UserData","specialitiesChoiced","setSpecialitiesChoiced","Specialities","setSpecialities","success","sending","donneIncorrect","etatRequest","setEtatRequest","then","result","data","specialities","catch","err","specialites","cloneS","filter","element","findIndex","e","id","handleSubmit","preventDefault","token","res","error","response","message","undefined","option","name","event","newValue","params","donneIncorecte"],"sources":["C:/app/doctolive_code/pro-doctolive/src/components/profilMedecin/editProfil/About.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport {Row, Col, Collapse, Alert} from 'react-bootstrap'\r\n\r\nimport  SubmitButton  from 'components/CustomButtons/SubmitButton.js';\r\n\r\nimport TextFieldM from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\n\r\nimport {getSpecialities, StoreSpeciality} from 'services/medecin/MedecinService'\r\nimport { useAuth } from \"context/Auth\";\r\n\r\nexport default function About (props)  {\r\n    const {UserData} = useAuth();\r\n\r\n    const [specialitiesChoiced, setSpecialitiesChoiced] = useState([])\r\n    const [Specialities, setSpecialities] = useState([])  \r\n    const [etatRequest, setEtatRequest] = useState({success: false, sending:false, donneIncorrect: false});\r\n    useEffect(() => {\r\n        getSpecialities()\r\n        .then(result => {\r\n           \r\n            setSpecialities(result.data.specialities)\r\n        })\r\n        .catch(err => {\r\n\r\n        })\r\n        return () => {\r\n            \r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(props.specialites){\r\n            setSpecialitiesChoiced(props.specialites);\r\n            let cloneS = Specialities.filter((element) => props.specialites.findIndex(e => e.id === element.id) < 0)\r\n            setSpecialities(cloneS)\r\n        }\r\n       \r\n        return () => {\r\n            \r\n        }\r\n    }, [props.specialites])\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setEtatRequest({sending: true,success: false, donneIncorrect: false})\r\n        let data = {specialities: specialitiesChoiced };\r\n\r\n        StoreSpeciality(data, UserData.token)\r\n        .then(res => {\r\n            setEtatRequest({sending: false,success: true, donneIncorrect: false});\r\n        })\r\n        .catch(error =>{ \r\n\r\n            if(error.response){\r\n                if(error.response.data.error){\r\n                    if(error.response.data.message === \"token invalid or expired\"){\r\n                        // handling disconect\r\n                    }\r\n                }\r\n            }\r\n            setEtatRequest({sending: false,success: false, donneIncorrect: true})\r\n        })\r\n    }\r\n\r\n    return (\r\n            <form onSubmit={handleSubmit} className=\"w-100\" autoComplete=\"off\">      \r\n                <Row className=\"w-100 mb-5\">\r\n                    \r\n                    <Col xs=\"12\" md=\"12\" className=\"mt-5\"> \r\n                    {\r\n                        (specialitiesChoiced !== null && specialitiesChoiced !== undefined) ?\r\n                            <Autocomplete\r\n                                multiple\r\n                                options={Specialities}\r\n                                limitTags={2}\r\n                                getOptionLabel={(option) => option.name}\r\n                                onChange={ (event, newValue) => {\r\n                                    setSpecialitiesChoiced(newValue);          \r\n                                }}\r\n                                value={specialitiesChoiced}\r\n                                filterSelectedOptions\r\n                                renderInput={(params) => (\r\n                                <TextFieldM\r\n                                    {...params}\r\n                                    variant=\"outlined\"\r\n                                    label=\"Spécialités\"\r\n                                    placeholder=\"Tapez pour filtrer\"\r\n                                />\r\n                                )}\r\n                            />\r\n                            :null\r\n                    }\r\n                        \r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Collapse in={ etatRequest.donneIncorecte}>\r\n                        <div>\r\n                            <Alert  variant=\"danger\">\r\n                                les information sont incorrecte\r\n                            </Alert>\r\n                        </div>\r\n                    </Collapse>\r\n                </Row>\r\n                <Row>\r\n                    <Collapse in={etatRequest.success}>\r\n                        <div >\r\n                            <Alert  variant=\"success\">\r\n                                Vos spécialité est mis à jours avec succées\r\n                            </Alert>\r\n                        </div>\r\n                    </Collapse>\r\n                </Row>\r\n                <Row className=\"align-items-center justify-content-around mt-4 \">\r\n                    <SubmitButton sending={etatRequest.sending} successRequest={etatRequest.success} type=\"submit\" color=\"primary\"> Enregistrer </SubmitButton>\r\n                </Row>\r\n            </form>\r\n    );\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
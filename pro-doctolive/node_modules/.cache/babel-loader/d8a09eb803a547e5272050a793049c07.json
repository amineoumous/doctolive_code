{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\CARRE\\\\Documents\\\\GitHub\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\CARRE\\\\Documents\\\\GitHub\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\CARRE\\\\Documents\\\\GitHub\\\\doctolive_code\\\\pro-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\CARRE\\\\Documents\\\\GitHub\\\\doctolive_code\\\\pro-doctolive\\\\src\\\\views\\\\AgendaMedecin\\\\Gestion.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios'; // import Calandar from 'Components/gestion/Calandar'\n\nimport Category from 'components/gestion/Category';\nimport { Row } from 'react-bootstrap';\nimport Calandar from 'components/gestion/Calandar';\nimport Config from 'Config';\nimport { useAuth } from \"context/Auth\"; // import { Switch } from '@material-ui/core';\n\nimport { Switch, Route } from \"react-router-dom\";\nimport RendezVous from './RendezVous';\n\nfunction Gestion() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      events = _useState4[0],\n      setEvents = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  var _useAuth = useAuth(),\n      UserData = _useAuth.UserData;\n\n  useEffect(function () {\n    Axios.get(\"\".concat(Config.BACKEND_URL, \"/medecin/consultation\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(UserData.token)\n      }\n    }).then(function (response) {\n      if (response) {\n        if (!response.data.error) {\n          if (response.data.consultation) {\n            setEvents(response.data.consultation);\n          }\n        } else {\n          setErrors(function (errors) {\n            return _objectSpread(_objectSpread({}, errors), {}, {\n              events: true\n            });\n          });\n        }\n      }\n    })[\"catch\"](function (err) {\n      if (err.response) {\n        if (err.response.status === 500) {}\n      }\n    });\n    Axios.get(\"\".concat(Config.BACKEND_URL, \"/medecin/tarifs\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(UserData.token)\n      }\n    }).then(function (response) {\n      if (response) {\n        if (!response.data.error) {\n          if (response.data.typeConsultation) {\n            setCategories(response.data.typeConsultation.reverse());\n          }\n        } else {// setErrors( (errors) => {return {events: true}})\n        }\n      }\n    })[\"catch\"](function (err) {\n      if (err.response) {\n        if (err.response.data.errors) {\n          if (err.response.data.errors.name === \"SequelizeConnectionError\") {}\n\n          if (err.response.status === 500) {}\n\n          if (err.response.status === 403) {}\n        }\n      }\n    });\n    return function () {};\n  }, []);\n\n  var setNewCategory = function setNewCategory(newCategory) {\n    setCategories(function (categories) {\n      return [newCategory].concat(_toConsumableArray(categories));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, \" G\\xE9stion des \\xE9v\\xE9nements \"), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5 mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Category, {\n    categories: categories,\n    setCategories: setCategories,\n    events: events,\n    setNewCategory: setNewCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5 mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calandar, {\n    categories: categories,\n    events: events,\n    setEvents: setEvents,\n    errors: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default function Agenda(props) {\n  return /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/agenda\",\n    exact: true,\n    component: Gestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/agenda/rendez-vous/:id\",\n    exact: true,\n    component: RendezVous,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","Axios","Category","Row","Calandar","Config","useAuth","Switch","Route","RendezVous","Gestion","categories","setCategories","events","setEvents","errors","setErrors","UserData","get","BACKEND_URL","headers","token","then","response","data","error","consultation","err","status","typeConsultation","reverse","name","setNewCategory","newCategory","Agenda","props"],"sources":["C:/Users/CARRE/Documents/GitHub/doctolive_code/pro-doctolive/src/views/AgendaMedecin/Gestion.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport Axios from 'axios'\r\n\r\n\r\n// import Calandar from 'Components/gestion/Calandar'\r\nimport Category from 'components/gestion/Category'\r\nimport { Row } from 'react-bootstrap';\r\n\r\nimport Calandar from 'components/gestion/Calandar'\r\n\r\nimport Config from 'Config'\r\nimport { useAuth } from \"context/Auth\";\r\n// import { Switch } from '@material-ui/core';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport RendezVous from './RendezVous';\r\n\r\nfunction Gestion() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const {UserData} = useAuth();\r\n\r\n  useEffect(() => {\r\n\r\n    Axios.get(`${Config.BACKEND_URL}/medecin/consultation`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `token ${UserData.token}`,\r\n    }})\r\n    .then(response =>{\r\n\r\n      if(response){\r\n        if (!response.data.error) { \r\n          if(response.data.consultation){\r\n            setEvents(response.data.consultation)\r\n          }\r\n          \r\n        }else{\r\n          setErrors( (errors) => {return {...errors, events: true}})\r\n        }\r\n      }\r\n     \r\n    })\r\n    .catch(err=> {\r\n      if(err.response){\r\n\r\n        if(err.response.status === 500){\r\n\r\n        }\r\n      }\r\n      \r\n    });\r\n\r\n \r\n\r\n    Axios.get(`${Config.BACKEND_URL}/medecin/tarifs`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `token ${UserData.token}`,\r\n      }})\r\n    .then(response =>{\r\n\r\n      if(response){\r\n        if (!response.data.error) { \r\n\r\n          if(response.data.typeConsultation){\r\n            setCategories(response.data.typeConsultation.reverse())\r\n          }\r\n          \r\n        }else{\r\n          // setErrors( (errors) => {return {events: true}})\r\n        }\r\n      }\r\n     \r\n    })\r\n    .catch(err=> {\r\n      if(err.response){\r\n\r\n        if(err.response.data.errors){\r\n          if(err.response.data.errors.name === \"SequelizeConnectionError\"){\r\n\r\n          }\r\n          if(err.response.status === 500){\r\n  \r\n          }\r\n          if(err.response.status === 403){\r\n  \r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n    });\r\n\r\n    return () => {\r\n      \r\n    }\r\n    \r\n  }, []);\r\n  const setNewCategory =(newCategory) => {\r\n    setCategories( (categories) => [newCategory, ...categories]);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"gestion\">\r\n      <h1> Géstion des événements </h1>\r\n      <Row className=\"mt-5 mx-0\">\r\n        <Category categories={categories} setCategories={setCategories} events={events} setNewCategory={setNewCategory} />\r\n      </Row>\r\n      <Row className=\"mt-5 mx-0\">\r\n        <Calandar categories={categories}  events={events} setEvents={setEvents} errors />\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default function Agenda(props) {\r\n  return(\r\n    <Switch>\r\n      <Route path=\"/agenda\" exact component={Gestion} />\r\n      <Route path=\"/agenda/rendez-vous/:id\" exact component={RendezVous} />\r\n    </Switch>\r\n  )\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\CARRE\\\\Documents\\\\GitHub\\\\doctolive_code\\\\admin-doctolive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import{Switch,Route,Redirect}from\"react-router-dom\";// creates a beautiful scrollbar\nimport PerfectScrollbar from\"perfect-scrollbar\";import\"perfect-scrollbar/css/perfect-scrollbar.css\";// @material-ui/core components\nimport{makeStyles}from\"@material-ui/core/styles\";// core components\nimport Navbar from\"components/Navbars/Navbar.js\";import Footer from\"components/Footer/Footer.js\";import Sidebar from\"components/Sidebar/Sidebar.js\";// import BaseUrl from 'Config.js'\n// import io from \"socket.io-client\";\nimport routes from\"routes.js\";import styles from\"assets/jss/layouts/adminStyle.js\";import bgImage from\"assets/img/sidebar.jpeg\";import logo from\"assets/img/doctolive.png\";var ps;var switchRoutes=/*#__PURE__*/React.createElement(Switch,null,routes.admin.map(function(prop,key){return/*#__PURE__*/React.createElement(Route,{path:prop.layout+prop.path,component:prop.component,key:key});}),/*#__PURE__*/React.createElement(Redirect,{from:\"/admin\",to:\"/admin/dashboard\"}));var useStyles=makeStyles(styles);export default function Admin(_ref){var rest=Object.assign({},_ref);var classes=useStyles();var mainPanel=React.createRef();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),mobileOpen=_React$useState2[0],setMobileOpen=_React$useState2[1];var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var getRoute=function getRoute(){return window.location.pathname!==\"/admin/maps\"&&window.location.pathname.slice(0,16)!==\"/admin/livreurs/\"&&window.location.pathname.slice(0,13)!==\"/admin/medecins/\";};var resizeFunction=function resizeFunction(){if(window.innerWidth>=960){setMobileOpen(false);}};useEffect(function(){if(navigator.platform.indexOf(\"Win\")>-1){ps=new PerfectScrollbar(mainPanel.current,{suppressScrollX:true,suppressScrollY:false});document.body.style.overflow=\"hidden\";}window.addEventListener(\"resize\",resizeFunction);// Specify how to clean up after this effect:\nreturn function cleanup(){if(navigator.platform.indexOf(\"Win\")>-1){ps.destroy();}window.removeEventListener(\"resize\",resizeFunction);};},[mainPanel]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.wrapper},/*#__PURE__*/React.createElement(Sidebar,Object.assign({routes:routes.admin,logoText:\"DOCTOLIVE ADMIN\",logo:logo,image:bgImage,handleDrawerToggle:handleDrawerToggle,open:mobileOpen,color:\"purple\"},rest)),/*#__PURE__*/React.createElement(\"div\",{className:classes.mainPanel+\" main-panel\",ref:mainPanel},/*#__PURE__*/React.createElement(Navbar,Object.assign({routes:routes.admin,handleDrawerToggle:handleDrawerToggle},rest)),getRoute()?/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(\"div\",{className:classes.container},switchRoutes)):/*#__PURE__*/React.createElement(\"div\",{className:classes.map},switchRoutes),/*#__PURE__*/React.createElement(Footer,null)));}","map":{"version":3,"names":["React","useEffect","Switch","Route","Redirect","PerfectScrollbar","makeStyles","Navbar","Footer","Sidebar","routes","styles","bgImage","logo","ps","switchRoutes","admin","map","prop","key","layout","path","component","useStyles","Admin","rest","classes","mainPanel","createRef","useState","mobileOpen","setMobileOpen","handleDrawerToggle","getRoute","window","location","pathname","slice","resizeFunction","innerWidth","navigator","platform","indexOf","current","suppressScrollX","suppressScrollY","document","body","style","overflow","addEventListener","cleanup","destroy","removeEventListener","wrapper","content","container"],"sources":["C:/Users/CARRE/Documents/GitHub/doctolive_code/admin-doctolive/src/layouts/Admin.js"],"sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n// creates a beautiful scrollbar\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// core components\r\nimport Navbar from \"components/Navbars/Navbar.js\";\r\nimport Footer from \"components/Footer/Footer.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\n// import BaseUrl from 'Config.js'\r\n\r\n// import io from \"socket.io-client\";\r\n\r\nimport routes from \"routes.js\";\r\n\r\nimport styles from \"assets/jss/layouts/adminStyle.js\";\r\n\r\nimport bgImage from \"assets/img/sidebar.jpeg\";\r\nimport logo from \"assets/img/doctolive.png\";\r\n\r\nlet ps;\r\n\r\nconst switchRoutes = (\r\n  <Switch>\r\n    {routes.admin.map((prop, key) => {        \r\n      return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            component={prop.component}\r\n            key={key}\r\n          />\r\n        );\r\n    })}\r\n    <Redirect from=\"/admin\" to=\"/admin/dashboard\" />\r\n  </Switch>\r\n);\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Admin({ ...rest }) {\r\n\r\n\r\n  const classes = useStyles();\r\n  const mainPanel = React.createRef();\r\n  \r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const getRoute = () => {\r\n    return window.location.pathname !== \"/admin/maps\" && window.location.pathname.slice(0, 16) !== \"/admin/livreurs/\" && window.location.pathname.slice(0, 13) !== \"/admin/medecins/\";\r\n  };\r\n\r\n  const resizeFunction = () => {\r\n    if (window.innerWidth >= 960) {\r\n      setMobileOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      ps = new PerfectScrollbar(mainPanel.current, {\r\n        suppressScrollX: true,\r\n        suppressScrollY: false\r\n      });\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    window.addEventListener(\"resize\", resizeFunction);\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n      }\r\n      window.removeEventListener(\"resize\", resizeFunction);\r\n    };\r\n  }, [mainPanel]);\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Sidebar\r\n        routes={routes.admin}\r\n        logoText={\"DOCTOLIVE ADMIN\"}\r\n        logo={logo}\r\n        image={bgImage}\r\n        handleDrawerToggle={handleDrawerToggle}\r\n        open={mobileOpen}\r\n        color={\"purple\"}\r\n        {...rest}\r\n      />\r\n      <div className={classes.mainPanel+ \" main-panel\"} ref={mainPanel}>\r\n        <Navbar\r\n          routes={routes.admin}\r\n          handleDrawerToggle={handleDrawerToggle}\r\n          {...rest}\r\n        />\r\n        {/* On the /maps route we want the map to be on full screen - this is not possible if the content and conatiner classes are present because they have some paddings which would make the map smaller */}\r\n       \r\n        { getRoute() ? (\r\n          <div className={classes.content}>\r\n            <div className={classes.container}>{switchRoutes}</div>\r\n          </div>\r\n        ) : (\r\n          <div className={classes.map}>{switchRoutes}</div>\r\n        )}\r\n         <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[40],{"+qE3":function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(l(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function b(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},s.prototype.listenerCount=b,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},1:function(e,t){},"1imz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)return void console.error("Autobind error: No context provided.");var t=Object.getPrototypeOf(e);i=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t);i.forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);void 0!==n?-1===r.indexOf(e)&&"function"===typeof n.value&&Object.defineProperty(t,e,a(t,e,n)):console.warn('Autobind: "'+e+'" method not found in class.')}))};var r=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],i=[];function a(e,t,n){var r=n.value;return{configurable:!0,get:function(){if(this===e||this.hasOwnProperty(t))return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n}}}e.exports=t.default},2:function(e,t){},"3BRs":function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=E,E.WritableState=x;var o={deprecate:n("t9FE")},s=n("QpuX"),c=n("HDXh").Buffer,l=t.Uint8Array||function(){};var u,d=n("RoFp"),f=n("DbZ5").getHighWaterMark,h=n("ybjB").codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,j=h.ERR_STREAM_WRITE_AFTER_END,O=h.ERR_UNKNOWN_ENCODING,_=d.errorOrDestroy;function w(){}function x(e,t,o){a=a||n("sZro"),e=e||{},"boolean"!==typeof o&&(o=t instanceof a),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if("function"!==typeof a)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(T,e,t),e._writableState.errorEmitted=!0,_(e,i)):(a(i),e._writableState.errorEmitted=!0,_(e,i),T(e,t))}(e,n,i,t,a);else{var o=k(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||C(e,n),i?r.nextTick(S,e,n,o,a):S(e,n,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(e){var t=this instanceof(a=a||n("sZro"));if(!t&&!u.call(E,this))return new E(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)a[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;a.allBuffers=c,R(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(R(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=k(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(N,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n("P7XM")(E,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===E&&(e&&e._writableState instanceof x)}})):u=function(e){return e instanceof this},E.prototype.pipe=function(){_(this,new g)},E.prototype.write=function(e,t,n){var i,a=this._writableState,o=!1,s=!a.objectMode&&(i=e,c.isBuffer(i)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof n&&(n=w),a.ending?function(e,t){var n=new j;_(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var a;return null===n?a=new v:"string"===typeof n||t.objectMode||(a=new p("chunk",["string","Buffer"],n)),!a||(_(e,a),r.nextTick(i,a),!1)}(this,a,e,n))&&(a.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,s,r,i,a);return l}(this,a,s,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||C(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new O(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new b("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this,n("ntbh"),n("8oxB"))},"3oOE":function(e,t){e.exports=function(){if("undefined"===typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},"43KI":function(e,t,n){(t=e.exports=n("rXFu")).Stream=t,t.Readable=t,t.Writable=n("3BRs"),t.Duplex=n("sZro"),t.Transform=n("J78i"),t.PassThrough=n("eA/Y"),t.finished=n("kDxh"),t.pipeline=n("XRzD")},"5xQ7":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consultation/[id]",function(){return n("y7+m")}])},"6FTQ":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"8rE2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("6FTQ");function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},A2So:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("nKUr"),i=n("cpVT"),a=n("dhJC"),o=(n("q1tI"),n("TSYQ")),s=n.n(o),c=n("R/WZ"),l=n("LGnN"),u={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+Object(l.g)(l.a)+", 0.87)",background:l.r,width:"100%",boxShadow:"0 1px 4px 0 rgba("+Object(l.g)(l.a)+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(c.a)(u);function p(e){var t,n=h(),o=e.className,c=e.children,l=e.plain,u=e.profile,d=e.chart,p=Object(a.a)(e,["className","children","plain","profile","chart"]),b=s()((t={},Object(i.a)(t,n.card,!0),Object(i.a)(t,n.cardPlain,l),Object(i.a)(t,n.cardProfile,u),Object(i.a)(t,n.cardChart,d),Object(i.a)(t,o,void 0!==o),t));return Object(r.jsx)("div",f(f({className:b},p),{},{children:c}))}},B8Yt:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},BRrH:function(e,t,n){const r=n("NOtv")("simple-peer"),i=n("3oOE"),a=n("Edxu"),o=n("43KI"),s=n("hxKs"),c=n("tqrP"),{Buffer:l}=n("HDXh"),u=65536;function d(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class f extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=a(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||a(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||f.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},f.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"===typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"===typeof window?c(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):c(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void this.destroy(c(t,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"===typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"===typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(c(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(c(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(c(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{var n;!t.address||t.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):this.destroy(c(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(n){this.destroy(c(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(e)||new Map;let r=n.get(t);if(r)throw r.removed?c(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):c(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw c(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(c(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw c(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(i){"NS_ERROR_UNEXPECTED"===i.name?this._sendersAwaitingStable.push(r):this.destroy(c(i,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,s((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),s((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(c(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"===typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=u),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{const t=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:${e.colno}`);this.destroy(c(t,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(c(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(r){return this.destroy(c(r,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>u?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=d(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(c(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=d(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(c(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(c(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(c(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(c(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((n=>{const r=[];n.forEach((e=>{r.push(t(e))})),e(null,r)}),(t=>e(t))):this._pc.getStats.length>0?this._pc.getStats((n=>{if(this.destroyed)return;const r=[];n.result().forEach((e=>{const n={};e.names().forEach((t=>{n[t]=e.stat(t)})),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,r.push(t(n))})),e(null,r)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,n)=>{if(this.destroyed)return;t&&(n=[]);const r={},i={},a={};let o=!1;n.forEach((e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(r[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(a[e.id]=e)}));const s=e=>{o=!0;let t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"===typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=r[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"===typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&s(a[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&s(e)})),o||Object.keys(a).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(c(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"number"!==typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>u||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=l.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),s((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}f.WEBRTC_SUPPORT=!!i(),f.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},f.channelConfig={},e.exports=f},DbZ5:function(e,t,n){"use strict";var r=n("ybjB").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(i?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},Edxu:function(e,t,n){"use strict";(function(t,r){var i=65536,a=4294967295;var o=n("hwdV").Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(e);if(e>0)if(e>i)for(var c=0;c<e;c+=i)s.getRandomValues(n.slice(c,c+i));else s.getRandomValues(n);if("function"===typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n("ntbh"),n("8oxB"))},J78i:function(e,t,n){"use strict";e.exports=u;var r=n("ybjB").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n("sZro");function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}n("P7XM")(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},P7XM:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},QpuX:function(e,t,n){e.exports=n("+qE3").EventEmitter},RoFp:function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!a&&e?o._writableState?o._writableState.errorEmitted?t.nextTick(r,o):(o._writableState.errorEmitted=!0,t.nextTick(n,o,e)):t.nextTick(n,o,e):a?(t.nextTick(r,o),a(e)):t.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n("8oxB"))},TUci:function(e,t,n){"use strict";var r,i=n("wx14"),a=n("zLVn"),o=n("eC2I"),s=n.n(o),c=n("q1tI"),l=n.n(c),u=n("y8DL"),d=n("ZCiN"),f=n("vUet"),h=n("dRu9"),p=n("wsUu"),b=n("z+q/"),m=["className","children"],g=((r={})[h.b]="show",r[h.a]="show",r),y=l.a.forwardRef((function(e,t){var n=e.className,r=e.children,o=Object(a.a)(e,m),u=Object(c.useCallback)((function(e){Object(b.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return l.a.createElement(h.e,Object(i.a)({ref:t,addEndListener:p.a},o,{onEnter:u}),(function(e,t){return l.a.cloneElement(r,Object(i.a)({},t,{className:s()("fade",n,r.props.className,g[e])}))}))}));y.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},y.displayName="Fade";var v=y,j=n("17x9"),O=n.n(j),_=["label","onClick","className"],w={label:O.a.string.isRequired,onClick:O.a.func},x=l.a.forwardRef((function(e,t){var n=e.label,r=e.onClick,o=e.className,c=Object(a.a)(e,_);return l.a.createElement("button",Object(i.a)({ref:t,type:"button",className:s()("close",o),onClick:r},c),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},n))}));x.displayName="CloseButton",x.propTypes=w,x.defaultProps={label:"Close"};var E,R=x,S=n("YdCC"),C=n("dbZe"),k=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],N=(E="h4",l.a.forwardRef((function(e,t){return l.a.createElement("div",Object(i.a)({},e,{ref:t,className:s()(e.className,E)}))})));N.displayName="DivStyledAsH4";var T=Object(S.a)("alert-heading",{Component:N}),D=Object(S.a)("alert-link",{Component:C.a}),P={show:!0,transition:v,closeLabel:"Close alert"},A=l.a.forwardRef((function(e,t){var n=Object(u.a)(e,{show:"onClose"}),r=n.bsPrefix,o=n.show,c=n.closeLabel,h=n.className,p=n.children,b=n.variant,m=n.onClose,g=n.dismissible,y=n.transition,j=Object(a.a)(n,k),O=Object(f.a)(r,"alert"),_=Object(d.a)((function(e){m&&m(!1,e)})),w=!0===y?v:y,x=l.a.createElement("div",Object(i.a)({role:"alert"},w?void 0:j,{ref:t,className:s()(h,O,b&&O+"-"+b,g&&O+"-dismissible")}),g&&l.a.createElement(R,{onClick:_,label:c}),p);return w?l.a.createElement(w,Object(i.a)({unmountOnExit:!0},j,{ref:void 0,in:o}),x):o?x:null}));A.displayName="Alert",A.defaultProps=P,A.Link=D,A.Heading=T;t.a=A},Udb8:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("nKUr"),i=n("cpVT"),a=n("dhJC"),o=(n("q1tI"),n("R/WZ")),s=n("LGnN"),c={checkboxLabel:{cursor:"pointer",fontSize:"16px",fontWeight:300,lineHeight:1,margin:"12px 7px"},span:{position:"relative",top:0,borderColor:s.k[2],border:"1px solid",borderRadius:"50%",float:"left",height:"14px",width:"14px",margin:"0 14px 0 0px",outlineColor:"#fff",transition:"all 0.2s ease-in-out",zIndex:1},spanText:{color:"black"},input:{display:"none","&:disabled + span":{borderColor:"#eee!important"},"&:checked + span":{borderRadius:"0%",top:"-2px",borderColor:s.k[0]+"!important"},"&.rtl:checked + span":{borderRight:"2px solid",borderBottom:"4px solid",transform:"rotate(45deg) scaleY(0.5)",borderTop:0,borderLeft:0},"&.ltr:checked + span":{transform:"rotate(-45deg) scaleY(0.5)",borderLeft:"2px solid",borderBottom:"4px solid",borderTop:0,borderRight:0}}};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(o.a)(c);function f(e){var t=e.name,n=e.label,i=e.rtl,o=Object(a.a)(e,["name","label","rtl"]),s=d();return Object(r.jsxs)("label",{className:s.checkboxLabel,children:[Object(r.jsx)("input",u({name:t,type:"checkbox",className:s.input+(i?" rtl":" ltr")},o)),Object(r.jsx)("span",{className:s.span}),Object(r.jsxs)("span",{className:s.spanText,children:[" ",n," "]})]})}f.defaultProps={checked:!1,onClick:function(){},label:"",name:"checkbox",rtl:!1}},UsYt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("nKUr"),i=n("cpVT"),a=n("dhJC"),o=(n("q1tI"),n("TSYQ")),s=n.n(o),c=n("R/WZ"),l={cardBody:{padding:"3rem 40px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative","@media (max-width: 768px)":{padding:"3rem 15px"}},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px","@media (max-width: 768px)":{paddingLeft:"15px",paddingRight:"15px"}},cardBodyProfile:{marginTop:"15px"}};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(c.a)(l);function h(e){var t,n=f(),o=e.className,c=e.children,l=e.plain,u=e.profile,h=Object(a.a)(e,["className","children","plain","profile"]),p=s()((t={},Object(i.a)(t,n.cardBody,!0),Object(i.a)(t,n.cardBodyPlain,l),Object(i.a)(t,n.cardBodyProfile,u),Object(i.a)(t,o,void 0!==o),t));return Object(r.jsx)("div",d(d({className:p},h),{},{children:c}))}},X1Co:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},XRzD:function(e,t,n){"use strict";var r;var i=n("ybjB").codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n("kDxh")),r(e,{readable:t,writable:i},(function(e){if(e)return a(e);s=!0,a()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map((function(e,n){var a=n<t.length-1;return c(e,a,n>0,(function(e){r||(r=e),e&&o.forEach(l),a||(o.forEach(l),i(r))}))}));return t.reduce(u)}},dJSo:function(e,t,n){e.exports=n("1imz")},"eA/Y":function(e,t,n){"use strict";e.exports=i;var r=n("J78i");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n("P7XM")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},"g/N5":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("nKUr"),i=n("cpVT"),a=n("dhJC"),o=(n("q1tI"),n("TSYQ")),s=n.n(o),c=n("R/WZ"),l=n("Z3vd"),u=n("57pr"),d=n("iae6"),f=n("ma3e"),h=n("IdFE");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=Object(c.a)(u.a);function g(e){var t,n=m(),o=e.color,c=e.round,u=e.children,p=e.disabled,g=e.simple,y=e.size,v=e.block,j=(e.successRequest,e.link),O=e.justIcon,_=e.className,w=e.muiClasses,x=e.sending,E=Object(a.a)(e,["color","round","children","disabled","simple","size","block","successRequest","link","justIcon","className","muiClasses","sending"]),R=s()((t={},Object(i.a)(t,n.button,!0),Object(i.a)(t,n[y],y),Object(i.a)(t,n[o],o),Object(i.a)(t,n.round,c),Object(i.a)(t,n.disabled,p),Object(i.a)(t,n.simple,g),Object(i.a)(t,n.block,v),Object(i.a)(t,n.link,j),Object(i.a)(t,n.justIcon,O),Object(i.a)(t,_,_),t));return Object(r.jsxs)("div",{className:n.wrapper,children:[Object(r.jsxs)(l.a,b(b({},E),{},{disabled:x,classes:w,className:R,children:[u,e.successRequest?Object(r.jsx)(f.a,{className:"mx-3"}):Object(r.jsx)(h.b,{className:"mx-3"})]})),e.sending&&Object(r.jsx)(d.a,{size:24,className:n.buttonProgress})]})}},hwdV:function(e,t,n){var r=n("HDXh"),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},hxKs:function(e,t,n){(function(t){let n;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:t):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))}).call(this,n("ntbh"))},iae6:function(e,t,n){"use strict";var r=n("wx14"),i=n("Ff2n"),a=n("q1tI"),o=(n("17x9"),n("iuhU")),s=n("H2TA"),c=n("NqtD"),l=44,u=a.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.color,d=void 0===u?"primary":u,f=e.disableShrink,h=void 0!==f&&f,p=e.size,b=void 0===p?40:p,m=e.style,g=e.thickness,y=void 0===g?3.6:g,v=e.value,j=void 0===v?0:v,O=e.variant,_=void 0===O?"indeterminate":O,w=Object(i.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},E={},R={};if("determinate"===_||"static"===_){var S=2*Math.PI*((l-y)/2);x.strokeDasharray=S.toFixed(3),R["aria-valuenow"]=Math.round(j),x.strokeDashoffset="".concat(((100-j)/100*S).toFixed(3),"px"),E.transform="rotate(-90deg)"}return a.createElement("div",Object(r.a)({className:Object(o.a)(n.root,s,"inherit"!==d&&n["color".concat(Object(c.a)(d))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[_]),style:Object(r.a)({width:b,height:b},E,m),ref:t,role:"progressbar"},R,w),a.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},a.createElement("circle",{className:Object(o.a)(n.circle,h&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[_]),style:x,cx:l,cy:l,r:(l-y)/2,fill:"none",strokeWidth:y})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},kDxh:function(e,t,n){"use strict";var r=n("ybjB").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,a){if("function"===typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(a||i);var o=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){s=!1,l=!0,o||a.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,d=!0,s||a.call(t)},h=function(e){a.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new r),a.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),a.call(t,e)):void 0},b=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",u),t.on("abort",p),t.req?b():t.on("request",b)),t.on("end",f),t.on("finish",u),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},nA4H:function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("kDxh"),o=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[f].read();null!==n&&(e[u]=null,e[o]=null,e[s]=null,t(h(n,!1)))}}function b(e){t.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[l])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[c]?r(e[c]):n(h(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(h(void 0,!0)):t[d](n,r)}),r)}}(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(h(a,!1));r=new Promise(this[d])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),m);e.exports=function(e){var t,n=Object.create(g,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[f].read();r?(n[u]=null,n[o]=null,n[s]=null,e(h(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[u]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[o]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[o];null!==r&&(n[u]=null,n[o]=null,n[s]=null,r(h(void 0,!0))),n[l]=!0})),e.on("readable",b.bind(null,n)),n}}).call(this,n("8oxB"))},ntbh:function(t,n){(function(n){t.exports=function(){var t={149:function(t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}t.exports=n}},r={};function i(e){if(r[e])return r[e].exports;var n=r[e]={exports:{}},a=!0;try{t[e](n,n.exports,i),a=!1}finally{a&&delete r[e]}return n.exports}return i.ab=n+"/",i(149)}()}).call(this,"/")},qiJe:function(e,t,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},rXFu:function(e,t,n){"use strict";(function(t,r){var i;e.exports=E,E.ReadableState=x;n("+qE3").EventEmitter;var a=function(e,t){return e.listeners(t).length},o=n("QpuX"),s=n("HDXh").Buffer,c=t.Uint8Array||function(){};var l,u=n(1);l=u&&u.debuglog?u.debuglog("stream"):function(){};var d,f,h,p=n("xq54"),b=n("RoFp"),m=n("DbZ5").getHighWaterMark,g=n("ybjB").codes,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,j=g.ERR_METHOD_NOT_IMPLEMENTED,O=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("P7XM")(E,o);var _=b.errorOrDestroy,w=["error","close","destroy","pause","resume"];function x(e,t,r){i=i||n("sZro"),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n("qiJe").StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||n("sZro"),!(this instanceof E))return new E(e);var t=this instanceof i;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function R(e,t,n,r,i){l("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,o);else if(i||(a=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(o,t)),a)_(e,a);else if(o.objectMode||t&&t.length>0)if("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)o.endEmitted?_(e,new O):S(e,o,t,!0);else if(o.ended)_(e,new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):D(e,o)):S(e,o,t,!1)}else r||(o.reading=!1,D(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&N(e)),D(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=b.destroy,E.prototype._undestroy=b.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),R(this,e,t,!1,n)},E.prototype.unshift=function(e){return R(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){d||(d=n("qiJe").StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(T,e))}function T(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function D(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function A(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){l("readable nexttick read 0"),e.read(0)}function I(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):N(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){_(this,new j("_read()"))},E.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:m;function s(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",m),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){l("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",u);var d=!1;function f(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==q(i.pipes,e))&&!d&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){l("onerror",t),m(),e.removeListener("error",h),0===a(e,"error")&&_(e,t)}function p(){e.removeListener("finish",b),m()}function b(){l("onfinish"),e.removeListener("close",p),m()}function m(){l("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",b),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?N(this):i.reading||r.nextTick(L,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(A,this),n},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(A,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(I,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<w.length;a++)e.on(w[a],this.emit.bind(this,w[a]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n("nA4H")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=F,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(E.from=function(e,t){return void 0===h&&(h=n("B8Yt")),h(E,e,t)})}).call(this,n("ntbh"),n("8oxB"))},rg98:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},sZro:function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n("rXFu"),a=n("3BRs");n("P7XM")(l,i);for(var o=r(a.prototype),s=0;s<o.length;s++){var c=o[s];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n("8oxB"))},t9FE:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("ntbh"))},tqrP:function(e,t,n){"use strict";function r(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,n){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"===typeof t&&(n=t,t=""),t&&(n.code=t);try{return r(e,n)}catch(i){n.message=e.message,n.stack=e.stack;const t=function(){};t.prototype=Object.create(Object.getPrototypeOf(e));return r(new t,n)}}},xq54:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n("HDXh").Buffer,s=n(2).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,l;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=i,r=s,o.prototype.copy.call(t,n,r),s+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?r+=i:r+=i.slice(0,e),0===(e-=a)){a===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0===(e-=a)){a===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(a));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&a(t.prototype,n),l&&a(t,l),e}()},"y7+m":function(t,n,r){"use strict";r.r(n),r.d(n,"__N_SSP",(function(){return on})),r.d(n,"default",(function(){return sn}));var i=r("z7pX"),a=r("nKUr"),o=r("cpVT"),s=r("q1tI"),c=r.n(s),l=r("lIVJ"),u=r("A2So"),d=r("UsYt"),f=r("3Z9Z"),h=r("JI6e"),p=r("vYJ8"),b=r("TUci"),m=r("vJKn"),g=r.n(m),y=r("rg98"),v=r("g/N5"),j=r("17x9"),O=r.n(j);function _(t,n,r,i){return new(r||(r=Promise))((function(a,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function c(t){try{l(i.throw(t))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((i=i.apply(t,n||[])).next())}))}function w(t,n){var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}Object.create;function x(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}Object.create;var E=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function R(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=E.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var S=[".DS_Store","Thumbs.db"];function C(e){return(null!==e.target&&e.target.files?T(e.target.files):[]).map((function(e){return R(e)}))}function k(e,t){return _(this,void 0,void 0,(function(){var n;return w(this,(function(r){switch(r.label){case 0:return e.items?(n=T(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(D))]):[3,2];case 1:return[2,N(P(r.sent()))];case 2:return[2,N(T(e.files).map((function(e){return R(e)})))]}}))}))}function N(e){return e.filter((function(e){return-1===S.indexOf(e.name)}))}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function D(e){if("function"!==typeof e.webkitGetAsEntry)return A(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?I(t):A(e)}function P(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}(e,Array.isArray(t)?P(t):[t])}),[])}function A(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=R(t);return Promise.resolve(n)}function L(e){return _(this,void 0,void 0,(function(){return w(this,(function(t){return[2,e.isDirectory?I(e):M(e)]}))}))}function I(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return _(a,void 0,void 0,(function(){var a,o,s;return w(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),e(a),[3,4];case 3:return o=c.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(L)),r.push(s),i(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function M(e){return _(this,void 0,void 0,(function(){return w(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=R(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var F=r("X1Co"),B=r.n(F);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W="file-invalid-type",H="file-too-large",z="file-too-small",V="too-many-files",K=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:W,message:"File type must be ".concat(t)}},Y=function(e){return{code:H,message:"File is larger than ".concat(e," bytes")}},X=function(e){return{code:z,message:"File is smaller than ".concat(e," bytes")}},J={code:V,message:"Too many files"};function Z(e,t){var n="application/x-moz-file"===e.type||B()(e,t);return[n,n?null:K(t)]}function $(e,t,n){if(G(e.size))if(G(t)&&G(n)){if(e.size>n)return[!1,Y(n)];if(e.size<t)return[!1,X(t)]}else{if(G(t)&&e.size<t)return[!1,X(t)];if(G(n)&&e.size>n)return[!1,Y(n)]}return[!0,null]}function G(e){return void 0!==e&&null!==e}function Q(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=U(Z(e,n),1)[0],a=U($(e,r,i),1)[0];return t&&a}))}function ee(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function te(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function ne(e){e.preventDefault()}function re(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function ie(e){return-1!==e.indexOf("Edge/")}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return re(e)||ie(e)}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!ee(e)&&t&&t.apply(void 0,[e].concat(r)),ee(e)}))}}var se=["children"],ce=["open"],le=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ue=["refKey","onChange","onClick"];function de(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ve=Object(s.forwardRef)((function(e,t){var n=e.children,r=_e(ye(e,se)),i=r.open,a=ye(r,ce);return Object(s.useImperativeHandle)(t,(function(){return{open:i}}),[i]),c.a.createElement(s.Fragment,null,n(me(me({},a),{},{open:i})))}));ve.displayName="Dropzone";var je={disabled:!1,getFilesFromEvent:function(e){return _(this,void 0,void 0,(function(){return w(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?k(e.dataTransfer,e.type):C(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};ve.defaultProps=je,ve.propTypes={children:O.a.func,accept:O.a.oneOfType([O.a.string,O.a.arrayOf(O.a.string)]),multiple:O.a.bool,preventDropOnDocument:O.a.bool,noClick:O.a.bool,noKeyboard:O.a.bool,noDrag:O.a.bool,noDragEventsBubbling:O.a.bool,minSize:O.a.number,maxSize:O.a.number,maxFiles:O.a.number,disabled:O.a.bool,getFilesFromEvent:O.a.func,onFileDialogCancel:O.a.func,onDragEnter:O.a.func,onDragLeave:O.a.func,onDragOver:O.a.func,onDrop:O.a.func,onDropAccepted:O.a.func,onDropRejected:O.a.func,validator:O.a.func};var Oe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=me(me({},je),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,c=t.multiple,l=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,p=t.onDropAccepted,b=t.onDropRejected,m=t.onFileDialogCancel,g=t.preventDropOnDocument,y=t.noClick,v=t.noKeyboard,j=t.noDrag,O=t.noDragEventsBubbling,_=t.validator,w=Object(s.useRef)(null),x=Object(s.useRef)(null),E=Object(s.useReducer)(we,Oe),R=fe(E,2),S=R[0],C=R[1],k=S.isFocused,N=S.isFileDialogActive,T=S.draggedFiles,D=Object(s.useCallback)((function(){x.current&&(C({type:"openDialog"}),x.current.value=null,x.current.click())}),[C]),P=function(){N&&setTimeout((function(){x.current&&(x.current.files.length||(C({type:"closeDialog"}),"function"===typeof m&&m()))}),300)};Object(s.useEffect)((function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}}),[x,N,m]);var A=Object(s.useCallback)((function(e){w.current&&w.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),D()))}),[w,x]),L=Object(s.useCallback)((function(){C({type:"focus"})}),[]),I=Object(s.useCallback)((function(){C({type:"blur"})}),[]),M=Object(s.useCallback)((function(){y||(ae()?setTimeout(D,0):D())}),[x,y]),F=Object(s.useRef)([]),B=function(e){w.current&&w.current.contains(e.target)||(e.preventDefault(),F.current=[])};Object(s.useEffect)((function(){return g&&(document.addEventListener("dragover",ne,!1),document.addEventListener("drop",B,!1)),function(){g&&(document.removeEventListener("dragover",ne),document.removeEventListener("drop",B))}}),[w,g]);var U=Object(s.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e),F.current=[].concat(de(F.current),[e.target]),te(e)&&Promise.resolve(i(e)).then((function(t){ee(e)&&!O||(C({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[i,u,O]),q=Object(s.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e);var t=te(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,O]),W=Object(s.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e);var t=F.current.filter((function(e){return w.current&&w.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),F.current=t,t.length>0||(C({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),te(e)&&d&&d(e))}),[w,d,O]),H=Object(s.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e),F.current=[],te(e)&&Promise.resolve(i(e)).then((function(t){if(!ee(e)||O){var r=[],i=[];t.forEach((function(e){var t=fe(Z(e,n),2),s=t[0],c=t[1],l=fe($(e,o,a),2),u=l[0],d=l[1],f=_?_(e):null;if(s&&u&&!f)r.push(e);else{var h=[c,d];f&&(h=h.concat(f)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!c&&r.length>1||c&&l>=1&&r.length>l)&&(r.forEach((function(e){i.push({file:e,errors:[J]})})),r.splice(0)),C({acceptedFiles:r,fileRejections:i,type:"setFiles"}),h&&h(r,i,e),i.length>0&&b&&b(i,e),r.length>0&&p&&p(r,e)}})),C({type:"reset"})}),[c,n,o,a,l,i,h,p,b,O,_]),z=function(e){return r?null:e},V=function(e){return v?null:z(e)},K=function(e){return j?null:z(e)},Y=function(e){O&&e.stopPropagation()},X=Object(s.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onKeyDown,a=e.onFocus,o=e.onBlur,s=e.onClick,c=e.onDragEnter,l=e.onDragOver,u=e.onDragLeave,d=e.onDrop,f=ye(e,le);return me(me(ge({onKeyDown:V(oe(i,A)),onFocus:V(oe(a,L)),onBlur:V(oe(o,I)),onClick:z(oe(s,M)),onDragEnter:K(oe(c,U)),onDragOver:K(oe(l,q)),onDragLeave:K(oe(u,W)),onDrop:K(oe(d,H))},n,w),r||v?{}:{tabIndex:0}),f)}}),[w,A,L,I,M,U,q,W,H,v,j,r]),G=Object(s.useCallback)((function(e){e.stopPropagation()}),[]),re=Object(s.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=ye(e,ue),s=ge({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:z(oe(i,H)),onClick:z(oe(a,G)),autoComplete:"off",tabIndex:-1},r,x);return me(me({},s),o)}}),[x,n,c,H,r]),ie=T.length,se=ie>0&&Q({files:T,accept:n,minSize:o,maxSize:a,multiple:c,maxFiles:l}),ce=ie>0&&!se;return me(me({},S),{},{isDragAccept:se,isDragReject:ce,isFocused:k&&!r,getRootProps:X,getInputProps:re,rootRef:w,inputRef:x,open:z(D)})}function we(e,t){switch(t.type){case"focus":return me(me({},e),{},{isFocused:!0});case"blur":return me(me({},e),{},{isFocused:!1});case"openDialog":return me(me({},e),{},{isFileDialogActive:!0});case"closeDialog":return me(me({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return me(me({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return me(me({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return me({},Oe);default:return e}}var xe=r("T00j"),Ee=r("ofer"),Re=r("cD5v"),Se=r("rCLJ");function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 20px",cursor:"pointer",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Te={borderColor:"#2196f3"},De={borderColor:"#00e676"},Pe={borderColor:"#ff1744"};function Ae(e){var t=Object(xe.b)().userData,n=Object(s.useState)({success:!1,sending:!1,donneIncorrect:!1}),r=n[0],o=n[1],c=Object(s.useState)([]),u=c[0],d=c[1],m=Object(s.useState)([]),j=m[0],O=m[1],_=Object(s.useState)([]),w=_[0],x=_[1],E=Object(s.useState)([]),R=E[0],S=E[1];Object(s.useEffect)((function(){return e.documents&&x(e.documents),function(){}}),[e.documents]),Object(s.useEffect)((function(){return e.socket&&e.socket.on("newDocuments",(function(t){t.consultationId===e.consultation.id&&x((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.uploadedFiles))}))})),function(){e.socket&&e.socket.removeAllListeners("newDocuments")}}),[e.socket]);var C=function(){var n=Object(y.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o((function(e){return ke(ke({},e),{},{sending:!0})})),n.prev=2,n.next=5,fetch("".concat(l.a.BACKEND_URL,"/upload/document"),{method:"POST",body:JSON.stringify({data:u,consultation:e.consultation,sentTo:"medecin"}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"token ".concat(t.token)}});case 5:n.sent.json().then((function(t){t.error?o((function(e){return ke(ke({},e),{},{sending:!1,success:!1,donneIncorrect:!0})})):(o((function(e){return ke(ke({},e),{},{sending:!1,success:!0})})),t.savedPictures.length>0&&x((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.savedPictures))})),t.canceledData.length>0?(t.canceledData.map((function(e){S((function(t){return[].concat(Object(i.a)(t),[u[e.index]])}))})),d([]),O([])):(d([]),O([])),e.socket.emit("newDocuments",{uploadedFiles:t.savedPictures,consultationId:e.consultation.id,selectedUser:"m"+e.consultation.medecin.id},(function(e){})))})).catch((function(e){o((function(e){return ke(ke({},e),{},{sending:!1,success:!1,donneIncorrect:!0})}))})),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0),o((function(e){return ke(ke({},e),{},{sending:!1,success:!1,donneIncorrect:!0})}));case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}(),k=function(){var e=Object(y.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.a.BACKEND_URL,"/upload/document"),{method:"DELETE",body:JSON.stringify({path:n.path,id:n.id}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"token ".concat(t.token)}});case 2:e.sent.json().then((function(e){var t=w.findIndex((function(e){return e.id===n.id}));x((function(e){var n=Object(i.a)(e);return n.splice(t,1),n}))})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=_e({onDrop:Object(s.useCallback)((function(e,t){t.map((function(e){if("image"===e.file.type.split("/")[0]){var t=new FileReader;t.readAsDataURL(e.file),t.onloadend=function(){var n={filePath:t.result,realName:e.file.name,type:"file",fileType:e.file.type.split("/")[0]};O((function(t){return[].concat(Object(i.a)(t),[{file:n,errors:e.errors}])}))}}else{var n={realName:e.file.name,type:"file",fileType:e.file.type.split("/")[0]};O((function(t){return[].concat(Object(i.a)(t),[{file:n,errors:e.errors}])}))}})),e.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var n={filePath:t.result,realName:e.name,type:"file",fileType:"image",kind:e.type};d((function(e){return[].concat(Object(i.a)(e),[n])}))}}))}),[]),accept:"image/jpeg, image/png, image/jpg, application/pdf"}),T=N.getRootProps,D=N.getInputProps,P=N.isDragActive,A=N.isDragAccept,L=N.isDragReject,I=Object(s.useMemo)((function(){return ke(ke(ke(ke({},Ne),P?Te:{}),A?De:{}),L?Pe:{})}),[P,L,A]);return Object(a.jsx)("form",{onSubmit:C,autoComplete:"off",children:Object(a.jsxs)(h.a,{children:[w.length>0?Object(a.jsx)(f.a,{className:"mb-3",children:Object(a.jsx)(Ee.a,{variant:"h5",component:"h5",children:" Documents d\xe9j\xe0 partager dans cette consultation "})}):null,w.length>0?Object(a.jsx)(f.a,{className:"images-saved",children:w.map((function(e,t){return Object(a.jsx)(h.a,{className:"mt-5",lg:"2",md:"4",xs:"6",children:Object(a.jsxs)("div",{className:"image-saved",children:["application/pdf"===e.type?Object(a.jsxs)("a",{href:l.a.BACKEND_URL+e.path,download:e.name,target:"_blank",rel:"noopener noreferrer",children:["  ",Object(a.jsx)("img",{src:"/image/pdf.png",alt:"...",className:"img-fluid"})," "]}):Object(a.jsx)(Re.a,{thumbnail:"".concat(l.a.BACKEND_URL).concat(e.path),showCloseBtn:!1,image:"".concat(l.a.BACKEND_URL).concat(e.path)}),Object(a.jsxs)("span",{onClick:function(){return k(e)},className:"delete-button",children:[" ",Object(a.jsx)(Se.a,{})," "]})]})},t)}))}):null,Object(a.jsx)(f.a,{className:"align-items-center justify-content-around mt-4 ",children:Object(a.jsxs)("div",ke(ke({},T({style:I,className:"dropzone"})),{},{children:[Object(a.jsx)("input",ke({},D())),Object(a.jsx)("p",{children:"Glisser d\xe9poser des fichiers ici ou"})," ",Object(a.jsx)("h4",{children:" PARCOURIR SUR MON ORDINATEUR "})]}))}),R.length>0?Object(a.jsx)(f.a,{className:"mt-5",children:Object(a.jsx)(Ee.a,{variant:"h5",component:"h5",color:"error",children:" Ces documents n'on pas pus s'enregistrer au sein de nos serveur. essayer ult\xe9ri\xe9rement o\xf9 bien essayer d'autre images "})}):null,R.length>0?Object(a.jsx)(f.a,{className:"images-canceled",children:R.map((function(e,t){return Object(a.jsxs)(h.a,{className:"mt-5",lg:"2",md:"4",xs:"6",children:[Object(a.jsx)("div",{className:"image-canceled",children:Object(a.jsx)(Re.a,{thumbnail:e.filePath,showCloseBtn:!1,image:e.filePath})}),Object(a.jsx)("div",{children:Object(a.jsx)(Ee.a,{color:"error",children:" Le serveur n'a pas pus suporter ces fichier "})})]},t)}))}):null,Object(a.jsx)(f.a,{className:"align-items-center justify-content-around mt-4 ",children:u.map((function(e,t){return Object(a.jsxs)(h.a,{className:"mt-5",lg:"6",md:"6",xs:"6",children:[Object(a.jsxs)("div",{className:"selecting-img-container",children:[Object(a.jsx)(Re.a,{thumbnail:"application/pdf"===e.kind?"/image/fileaccepted.png":e.filePath,showCloseBtn:!1,image:"application/pdf"===e.kind?"/image/fileaccepted.png":e.filePath}),Object(a.jsxs)("span",{onClick:function(){return function(e){var t=u.findIndex((function(t){return t.id===e.id}));d((function(e){var n=Object(i.a)(e);return n.splice(t,1),n}))}(e)},className:"delete-button",children:[" ",Object(a.jsx)(Se.a,{})," "]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("p",{className:"mt-3",children:[" ",e.realName," "]})})]},t)}))}),j.length>0?Object(a.jsx)(f.a,{className:"mt-5",children:Object(a.jsx)(Ee.a,{variant:"h5",component:"h5",color:"error",children:" Fichier non acc\xe9pter ils ne seront pas enregistrer sur le serveur "})}):null,Object(a.jsx)(f.a,{className:"align-items-center mt-4 ",children:j.map((function(e,t){return Object(a.jsxs)(h.a,{className:"",lg:"6",md:"12",xs:"12",children:[Object(a.jsx)("div",{className:"rejected-img-container",children:Object(a.jsx)("img",{src:"/img/file-rejected.png",alt:"fichier rejeter",className:"img-fluid"})}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"mt-3",children:e.errors.map((function(t,n){return Object(a.jsx)("div",{children:"file-invalid-type"===t.code?Object(a.jsxs)(Ee.a,{color:"error",children:[" Ce fichier ",Object(a.jsxs)("span",{className:"type-file-span",children:[" ",e.file.realName," "]})," est de type ",Object(a.jsxs)("span",{className:"type-file-span",children:[" ",e.file.fileType," "]})," . Seulement les images ",Object(a.jsx)("span",{className:"type-file-span",children:"png, jpg et jpeg et document pdf  "}),"  sont acc\xe9pter "]}):""},n)}))})})]},t)}))}),Object(a.jsx)(f.a,{children:Object(a.jsx)(p.a,{in:r.donneIncorecte,children:Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{variant:"danger",children:"Un ou plusieur document n'a pas pus enregistrer"})})})}),Object(a.jsx)(f.a,{children:Object(a.jsx)(p.a,{in:r.success,children:Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{variant:"success",children:"Les document sont enregistrer avec succ\xe9s"})})})}),Object(a.jsx)(f.a,{className:"align-items-center justify-content-around mt-4 ",children:Object(a.jsx)(v.a,{disabled:u.length<=0,sending:r.sending,successRequest:r.success,type:"submit",color:"primary",children:" Enregistrer "})})]})})}var Le=function(e){var t=e.messages,n=e.storedMessages,r=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(null!==r&&null!==r){var e=setTimeout((function(){r.current&&r.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}),200);return function(){return clearTimeout(e)}}}),[t]),Object(a.jsx)("div",{className:"content",children:Object(a.jsxs)("div",{className:"messages",children:[n?n.map((function(e,t){return Object(a.jsx)(Me,{message:e},t)})):null,t?t.map((function(e,t){return Object(a.jsx)(Ie,{message:e},t)})):null,Object(a.jsx)("div",{ref:r})]})})},Ie=function(e){var t=e.message,n=t.data,r=t.isSentByCurrentUser;return Object(a.jsx)("div",{className:r?"messageContainer sent":"messageContainer replies",children:Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("p",{className:"messageText",children:n.message})})})},Me=function(e){var t=e.message;return Object(a.jsx)("div",{className:"medecin"===t.sentTo?"messageContainer sent":"messageContainer replies",children:Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("p",{className:"messageText",children:t.message})})})},Fe=r("X13+"),Be=r("R/WZ"),Ue=r("iuhU"),qe=r("wx14"),We=r("DSFK"),He=r("25BE"),ze=r("BsWD"),Ve=r("PYwp");var Ke=r("ODXe"),Ye=r("Ff2n"),Xe=(r("TOwV"),r("dRu9")),Je=r("H2TA"),Ze=r("wpWl"),$e=r("4Hym"),Ge=r("tr08"),Qe=r("bfFb"),et=s.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.collapsedHeight,o=e.collapsedSize,c=void 0===o?"0px":o,l=e.component,u=void 0===l?"div":l,d=e.disableStrictModeCompat,f=void 0!==d&&d,h=e.in,p=e.onEnter,b=e.onEntered,m=e.onEntering,g=e.onExit,y=e.onExited,v=e.onExiting,j=e.style,O=e.timeout,_=void 0===O?Ze.b.standard:O,w=e.TransitionComponent,x=void 0===w?Xe.e:w,E=Object(Ye.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),R=Object(Ge.a)(),S=s.useRef(),C=s.useRef(null),k=s.useRef(),N="number"===typeof(a||c)?"".concat(a||c,"px"):a||c;s.useEffect((function(){return function(){clearTimeout(S.current)}}),[]);var T=R.unstable_strictMode&&!f,D=s.useRef(null),P=Object(Qe.a)(t,T?D:void 0),A=function(e){return function(t,n){if(e){var r=T?[D.current,t]:[t,n],i=Object(Ke.a)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},L=A((function(e,t){e.style.height=N,p&&p(e,t)})),I=A((function(e,t){var n=C.current?C.current.clientHeight:0,r=Object($e.a)({style:j,timeout:_},{mode:"enter"}).duration;if("auto"===_){var i=R.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),k.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),m&&m(e,t)})),M=A((function(e,t){e.style.height="auto",b&&b(e,t)})),F=A((function(e){var t=C.current?C.current.clientHeight:0;e.style.height="".concat(t,"px"),g&&g(e)})),B=A(y),U=A((function(e){var t=C.current?C.current.clientHeight:0,n=Object($e.a)({style:j,timeout:_},{mode:"exit"}).duration;if("auto"===_){var r=R.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),k.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=N,v&&v(e)}));return s.createElement(x,Object(qe.a)({in:h,onEnter:L,onEntered:M,onEntering:I,onExit:F,onExited:B,onExiting:U,addEndListener:function(e,t){var n=T?e:t;"auto"===_&&(S.current=setTimeout(n,k.current||0))},nodeRef:T?D:void 0,timeout:"auto"===_?null:_},E),(function(e,t){return s.createElement(u,Object(qe.a)({className:Object(Ue.a)(r.root,r.container,i,{entered:r.entered,exited:!h&&"0px"===N&&r.hidden}[e]),style:Object(qe.a)({minHeight:N},j),ref:P},t),s.createElement("div",{className:r.wrapper,ref:C},s.createElement("div",{className:r.wrapperInner},n)))}))}));et.muiSupportAuto=!0;var tt=Object(Je.a)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(et),nt=r("kKAo");var rt=s.createContext({}),it=r("yCxk"),at=s.forwardRef((function(e,t){var n,r=e.children,i=e.classes,a=e.className,o=e.defaultExpanded,c=void 0!==o&&o,l=e.disabled,u=void 0!==l&&l,d=e.expanded,f=e.onChange,h=e.square,p=void 0!==h&&h,b=e.TransitionComponent,m=void 0===b?tt:b,g=e.TransitionProps,y=Object(Ye.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),v=Object(it.a)({controlled:d,default:c,name:"Accordion",state:"expanded"}),j=Object(Ke.a)(v,2),O=j[0],_=j[1],w=s.useCallback((function(e){_(!O),f&&f(e,!O)}),[O,f,_]),x=s.Children.toArray(r),E=(n=x,Object(We.a)(n)||Object(He.a)(n)||Object(ze.a)(n)||Object(Ve.a)()),R=E[0],S=E.slice(1),C=s.useMemo((function(){return{expanded:O,disabled:u,toggle:w}}),[O,u,w]);return s.createElement(nt.a,Object(qe.a)({className:Object(Ue.a)(i.root,a,O&&i.expanded,u&&i.disabled,!p&&i.rounded),ref:t,square:p},y),s.createElement(rt.Provider,{value:C},R),s.createElement(m,Object(qe.a)({in:O,timeout:"auto"},g),s.createElement("div",{"aria-labelledby":R.props.id,id:R.props["aria-controls"],role:"region"},S)))})),ot=Object(Je.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(at),st=s.forwardRef((function(e,t){var n=e.classes,r=e.className,i=Object(Ye.a)(e,["classes","className"]);return s.createElement("div",Object(qe.a)({className:Object(Ue.a)(n.root,r),ref:t},i))})),ct=Object(Je.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(st),lt=r("VD++"),ut=r("PsDL"),dt=s.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.expandIcon,o=e.focusVisibleClassName,c=e.IconButtonProps,l=void 0===c?{}:c,u=e.onClick,d=Object(Ye.a)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),f=s.useContext(rt),h=f.disabled,p=void 0!==h&&h,b=f.expanded,m=f.toggle;return s.createElement(lt.a,Object(qe.a)({focusRipple:!1,disableRipple:!0,disabled:p,component:"div","aria-expanded":b,className:Object(Ue.a)(r.root,i,p&&r.disabled,b&&r.expanded),focusVisibleClassName:Object(Ue.a)(r.focusVisible,r.focused,o),onClick:function(e){m&&m(e),u&&u(e)},ref:t},d),s.createElement("div",{className:Object(Ue.a)(r.content,b&&r.expanded)},n),a&&s.createElement(ut.a,Object(qe.a)({className:Object(Ue.a)(r.expandIcon,b&&r.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},l),a))})),ft=Object(Je.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(dt),ht=r("NIcq"),pt=Object(Be.a)((function(e){return{root:{width:"100%"},accordion:{backgroundColor:"#008ea2",borderRadius:"4px 4px 0 0",boxShadow:"none"},accordionContent:{"& .MuiAccordionSummary-content":{margin:0}},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(18),color:"#fff"},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%",display:"flex",alignItems:"center"},column2:{flexBasis:"50%",padding:10},columnend:{justifyContent:"flex-end"},columncenter:{justifyContent:"center"},title:{fontSize:e.typography.pxToRem(18),color:"#fff"},label:{fontSize:e.typography.pxToRem(16),color:"#fff",margin:0},paragraph:{fontSize:e.typography.pxToRem(14),color:"#eee",margin:0,marginLeft:15}}})),bt=function(e){var t=e.medecin,n=(e.onConsuting,e.teleconsultation),r=pt();return t?Object(a.jsx)("div",{className:r.root,children:Object(a.jsxs)(ot,{className:r.accordion,square:!0,children:[Object(a.jsxs)(ft,{className:r.accordionContent,expandIcon:Object(a.jsx)(ht.e,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:[Object(a.jsx)("div",{className:r.column,children:Object(a.jsxs)("div",{className:"leftInnerContainer",children:[Object(a.jsx)(Fe.a,{className:"circle_online"}),Object(a.jsx)("div",{className:"profile",children:Object(a.jsx)("img",{className:"profile-img",src:t.image?t.image:"/image/doctor.png",alt:""})})]})}),Object(a.jsx)("div",{className:Object(Ue.a)(r.column,r.columncenter),children:Object(a.jsx)(Ee.a,{className:r.secondaryHeading,children:t.nom?t.nom+" "+t.prenom:"Aucun nom \xe0 afficher"})}),Object(a.jsx)("div",{className:Object(Ue.a)(r.column,r.columnend)})]}),Object(a.jsxs)(ct,{className:r.details,children:[Object(a.jsxs)("div",{className:r.column2,children:[Object(a.jsx)(f.a,{className:"m-0",children:Object(a.jsx)("h4",{className:r.title,children:" Information du medecin "})}),Object(a.jsxs)(f.a,{className:"align-items-center m-0",children:[Object(a.jsx)("label",{className:r.label,children:" T\xe9l\xe9phone: "}),Object(a.jsxs)("p",{className:r.paragraph,children:[" ",n.medecin?n.medecin.phone:" "]})]}),Object(a.jsxs)(f.a,{className:"align-items-center m-0",children:[Object(a.jsx)("label",{className:r.label,children:" Email: "}),Object(a.jsxs)("p",{className:r.paragraph,children:[" ",n.medecin?n.medecin.email:" "]})]})]}),Object(a.jsxs)("div",{className:r.column2,children:[Object(a.jsx)(f.a,{className:"m-0",children:Object(a.jsx)("h4",{className:r.title,children:" Information du rendez-vous "})}),Object(a.jsxs)(f.a,{className:"align-items-center m-0",children:[Object(a.jsx)("label",{className:r.label,children:" Titre: "}),Object(a.jsxs)("p",{className:r.paragraph,children:[" ",n.title?n.title:"Aucun titre mentionn\xe9e"," "]})]}),Object(a.jsxs)(f.a,{className:"align-items-center m-0",children:[Object(a.jsx)("label",{className:r.label,children:" Description: "}),Object(a.jsxs)("p",{className:r.paragraph,children:[" ",n.description?n.description:"Aucune d\xe9scription mentionn\xe9e"," "]})]}),Object(a.jsxs)(f.a,{className:"align-items-center m-0",children:[Object(a.jsx)("label",{className:r.label,children:" Type de consultation: "}),Object(a.jsxs)("p",{className:r.paragraph,children:[" ",n.tarif?n.tarif.name:"Aucune cat\xe9gorie mentionn\xe9e"," "]})]})]})]})]})}):null},mt=r("H+61"),gt=r("UlJF"),yt=r("+Css"),vt=r("7LId"),jt=r("VIvw"),Ot=r("iHvq"),_t=r("BRrH"),wt=r.n(_t),xt=r("dJSo"),Et=r.n(xt),Rt=r("iae6"),St=r("zLVn"),Ct=r("eC2I"),kt=r.n(Ct),Nt=r("vUet"),Tt=r("dbZe"),Dt=["bsPrefix","variant","size","active","className","block","type","as"],Pt=c.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.size,a=e.active,o=e.className,s=e.block,l=e.type,u=e.as,d=Object(St.a)(e,Dt),f=Object(Nt.a)(n,"btn"),h=kt()(o,f,a&&"active",r&&f+"-"+r,s&&f+"-block",i&&f+"-"+i);if(d.href)return c.a.createElement(Tt.a,Object(qe.a)({},d,{as:u,ref:t,className:kt()(h,d.disabled&&"disabled")}));t&&(d.ref=t),l?d.type=l:u||(d.type="button");var p=u||"button";return c.a.createElement(p,Object(qe.a)({},d,{className:h}))}));Pt.displayName="Button",Pt.defaultProps={variant:"primary",active:!1,disabled:!1};var At=Pt,Lt=r("ma3e");function It(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Object(Ot.a)(t);if(n){var i=Object(Ot.a)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Object(jt.a)(this,e)}}var Mt=function(t){Object(vt.a)(r,t);var n=It(r);function r(e){var t;return Object(mt.a)(this,r),t=n.call(this,e),Et()(Object(yt.a)(t)),t.state={stream:null,respondingProcess:!0,errorMedia:{error:!1}},t}return Object(gt.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.initiatorCallVideo({video:{facingMode:"user",width:640,height:480,cursor:"motion"},audio:!0}).then((function(n){window.streamReference=n,t.props.socket.emit("patient-ready",{selectedUser:"m"+t.props.medecin.id},(function(){}));try{t.myVideo.srcObject=n}catch(e){t.myVideo.src=URL.createObjectURL(n)}t.myVideo.play(),t.setState({stream:n,respondingProcess:!1})})).catch((function(e){t.cameraAuthDenied(),console.log("Unable to fetsh stream ".concat(e))})),this.setupSocket()}},{key:"componentWillUnmount",value:function(){this.props.socket.removeAllListeners("patient-signal-call"),this.props.socket.removeAllListeners("patient-call"),this.props.socket.removeAllListeners("reject-call-patient"),this.state.peer&&this.state.peer.destroy()}},{key:"setupSocket",value:function(){var e=this,t=this.props.socket;t.on("patient-call",(function(e){})),t.on("reject-call-patient",(function(t){e.stopStream(),e.setState({respondingProcess:!1,passingCall:!1,responding:!1}),e.props.setonCalling(!1)})),t.on("patient-signal-call",(function(t){var n=t.data;e.setState({responding:!0}),e.state.peer.signal(n)}))}},{key:"cameraAuthDenied",value:function(e){this.setState({errorMedia:{error:!0,reason:e}})}},{key:"initiatorCallVideo",value:function(e){return new Promise((function(t,n){navigator.mediaDevices.getUserMedia(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"stopStream",value:function(){null!==this.callerTone&&(this.callerTone.muted=!0,this.callerTone=null),window.streamReference&&(window.streamReference.getAudioTracks().forEach((function(e){e.stop()})),window.streamReference.getVideoTracks().forEach((function(e){e.stop()})),window.streamReference=null)}},{key:"confirmCall",value:function(){var t=this,n=new wt.a({initiator:!0,stream:this.state.stream,config:{iceServers:[{urls:"stun:pelia.ma:3478"},{urls:"turn:pelia.ma:3478",username:"peliaturn",credential:"ejfLUNE6C=fM&4P!"}]},trickle:!1});n.on("signal",(function(e){t.props.socket.emit("confirm-call",{selectedUser:"m"+t.props.medecin.id,data:e},(function(){}))})),n.on("stream",(function(n){t.callerTone.pause();try{t.userVideo.srcObject=n}catch(e){t.userVideo.src=URL.createObjectURL(n)}t.userVideo.play(),t.setState({passingCall:!0,respondingProcess:!1,timeAppel:Date.now()})})),n.on("close",(function(){t.stopStream(),t.setState({respondingProcess:!1,passingCall:!1,responding:!1}),t.state.peer&&t.state.peer.destroy()})),n.on("error",(function(e){console.log("vous avez perdue la connextion avec votre patient ".concat(e))})),this.setState({respondingProcess:!0,peer:n})}},{key:"rejectCall",value:function(){this.stopStream(),this.setState({respondingProcess:!1,passingCall:!1,responding:!1}),this.props.socket.emit("patient-reject-call",{selectedUser:"m"+this.props.medecin.id}),this.props.setonCalling(!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.responding,r=t.passingCall,i=t.respondingProcess;return Object(a.jsxs)("div",{className:"video patient",children:[Object(a.jsx)("audio",{ref:function(t){return e.callerTone=t},playsInline:!0,loop:!0}),Object(a.jsxs)("div",{className:n?"repondre video-container":"video-container",children:[Object(a.jsx)("video",{id:"peerVid",ref:function(t){e.userVideo=t},playsInline:!0,autoPlay:!0}),Object(a.jsx)(f.a,{className:"justify-content-center m-0",children:Object(a.jsx)("video",{id:"myVid",muted:!0,ref:function(t){e.myVideo=t},playsInline:!0,autoPlay:!0})}),Object(a.jsx)(f.a,{className:r?"responding m-0":"responding process m-0",children:Object(a.jsxs)(h.a,{className:"p-0",children:[Object(a.jsx)("div",{className:"layer"}),Object(a.jsx)(f.a,{className:"mt-5",children:Object(a.jsx)(p.a,{in:this.state.errorMedia.error,children:Object(a.jsx)("div",{id:"example-collapse-text",style:{zIndex:999},children:Object(a.jsx)(b.a,{variant:"danger",children:"Vous ne autoris\xe9 pas l'acc\xe9s au camera pour le site ocp.pelia.ma. Changer vos param\xe9tre pour pouvoir communiquer avec votre m\xe9decin"})})})}),!r&&Object(a.jsx)(f.a,{className:"text-center d-flex justify-content-around w-100 p-4 ml-1 mt-5",children:Object(a.jsx)("p",{className:"text-center caller ",style:{maxHeight:"20%"},children:" Un appel entrant de la part de votre m\xe9decin"})}),Object(a.jsxs)(f.a,{className:"end-call",children:[Object(a.jsx)(Ft,{className:"action",onClick:this.rejectCall,type:"button",variant:"danger",sending:i,IconSuccess:Lt.a,Icon:Object(a.jsx)(Lt.f,{size:"1.5rem"})}),!r&&Object(a.jsx)(Ft,{className:"action",onClick:this.confirmCall,type:"button",variant:"success",sending:i,IconSuccess:Lt.a,Icon:Object(a.jsx)(Lt.e,{size:"1.5rem"})})]})]})})]})]})}}]),r}(s.Component);function Ft(e){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative"},children:[Object(a.jsx)(At,{onClick:e.onClick,className:e.className,type:e.type,variant:e.variant,disabled:e.sending,children:e.Icon}),e.sending&&Object(a.jsx)(Rt.a,{size:24,style:{color:"#8dc63f",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}var Bt=r("Lnxd");function Ut(e){return Object(Bt.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}var qt=function(e){var t=e.setMessage,n=e.sendMessage,r=e.message,i=e.active;e.inputKey;return Object(a.jsx)("form",{className:"messageForm",autoComplete:"off",children:Object(a.jsxs)(f.a,{className:"chatContainer m-0",children:[Object(a.jsx)(h.a,{lg:"10",md:"10",className:"input_width pl-5",children:i?Object(a.jsx)("input",{type:"text",name:"message",className:"inputChat",placeholder:"Ecrivez votre message ici",style:{width:"100%"},value:r,autoFocus:!0,autoComplete:"off",onChange:function(e){var n=e.target.value;return t(n.replace(/^\s+/g,""))},onKeyPress:function(e){return"Enter"===e.key&&n(e)}}):Object(a.jsx)("p",{className:"inputChat",children:" Cette consultation est t\xe9rminer vous pouvez plus envoyer des m\xe9ssage "})}),Object(a.jsx)(h.a,{lg:"2",className:"btn_width",children:Object(a.jsx)(f.a,{className:"justify-content-around",children:i?Object(a.jsxs)("button",{className:"SendMsgBtn",type:"button",onClick:function(e){return n(e)},children:[Object(a.jsx)(Ut,{size:"1.5rem"})," "]}):null})})]})})},Wt=r("wd/R"),Ht=r.n(Wt);function zt(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Object(Ot.a)(t);if(n){var i=Object(Ot.a)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Object(jt.a)(this,e)}}var Vt=function(e){Object(vt.a)(n,e);var t=zt(n);function n(){var e;Object(mt.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(Object(yt.a)(e),"state",{days:void 0,hours:void 0,minutes:void 0,seconds:void 0,difference:e.props.difference}),e}return Object(gt.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){if(e.state.difference>=1e3){var t=e.state.difference-1e3,n=Ht()(t).format("DDD")-1,r=Ht()(t).format("HH"),i=Ht()(t).format("mm"),a=Ht()(t).format("s");e.setState({days:n,hours:r,minutes:i,seconds:a,difference:t})}}),1e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.days,n=e.hours,r=e.minutes,i=e.seconds,o=Kt(t,30,0,0,360),s=Kt(n,24,0,0,360),c=Kt(r,60,0,0,360),l=Kt(i,60,0,0,360);return i?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{children:[" La consultation commancera  ",Ht.a.utc(this.props.now+this.props.difference).calendar()," "]}),Object(a.jsxs)("div",{className:"countdown-wrapper",children:[Object(a.jsxs)("div",{className:"countdown-item",children:[Object(a.jsx)(Yt,{radius:o}),Math.floor(t),Object(a.jsx)("span",{children:" jours "})]}),Object(a.jsxs)("div",{className:"countdown-item",children:[Object(a.jsx)(Yt,{radius:s}),Math.floor(n),Object(a.jsx)("span",{children:" heurs "})]}),Object(a.jsxs)("div",{className:"countdown-item",children:[Object(a.jsx)(Yt,{radius:c}),Math.floor(r),Object(a.jsx)("span",{children:" minutes "})]}),Object(a.jsxs)("div",{className:"countdown-item",children:[Object(a.jsx)(Yt,{radius:l}),i,Object(a.jsx)("span",{children:" secondes "})]})]})]}):null}}]),n}(c.a.Component);function Kt(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r}var Yt=function(e){var t=e.radius;return Object(a.jsx)("svg",{className:"countdown-svg",children:Object(a.jsx)("path",{fill:"none",stroke:"#333",strokeWidth:"4",d:Jt(50,50,48,0,t)})})};function Xt(e,t,n,r){var i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}function Jt(e,t,n,r,i){var a=Xt(e,t,n,i),o=Xt(e,t,n,r),s=i-r<=180?"0":"1";return["M",a.x,a.y,"A",n,n,0,s,0,o.x,o.y].join(" ")}var Zt=r("Kg+a"),$t=r("Udb8"),Gt=r("r9w1"),Qt=r("20a2"),en=r("kv0W"),tn=r("FT3n"),nn=r("ZkZy");function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on=!0;function sn(e){var t=e.teleconsultation,n=e.socket,r=Object(s.useState)(!1),i=r[0],c=r[1],m=Object(s.useState)({}),g=m[0],y=(m[1],Object(s.useState)({isCompleted:!1})),v=y[0],j=y[1],O=Object(s.useState)({sending:!1,success:!1,donneIncorecte:!1}),_=O[0],w=O[1],x=Object(Qt.useRouter)().locale,E="ar"===x?nn.a:"en"===x?tn.a:en.a,R=Object(xe.b)().userData,S=function(){},C=function(e){var t=e.target,n=t.value,r=t.name;j("isCompleted"===r?function(e){return an(an({},e),{},{isCompleted:!v.isCompleted})}:function(e){return an(an({},e),{},Object(o.a)({},r,n))})};return Object(a.jsx)("div",{className:"teleconsultation",children:Object(a.jsxs)(f.a,{className:"m-0",children:[Object(a.jsx)(h.a,{lg:"6",md:12,sm:12,xs:12,children:Object(a.jsx)(cn,{teleconsultation:t,socket:n})}),Object(a.jsxs)(h.a,{lg:"6",md:12,sm:12,xs:12,children:[Object(a.jsx)(u.a,{children:Object(a.jsx)(d.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:" Document \xe0 partager dans cette consultation "}),Object(a.jsx)(Ae,{documents:t?t.documents:[],socket:n,consultation:t})]})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(d.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:" Ajouter un rapport  "}),i?Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w((function(e){return an(an({},e),{},{sending:!0})}));var n=v;fetch("".concat(l.a.BACKEND_URL,"/feedback"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"token ".concat(R.token)},body:JSON.stringify(an(an({},n),{},{consultationId:t.id}))}).then((function(e){return e.json().then((function(e){e.error?(w({sending:!1,success:!1,donneIncorecte:!0}),e.validator):w({sending:!1,success:!0,donneIncorecte:!1})}))})).catch((function(e){console.log(e),w({sending:!1,success:!1,donneIncorecte:!0})}))},autoComplete:"off",children:[Object(a.jsxs)(f.a,{children:[Object(a.jsx)(h.a,{xs:"12",md:"6",className:"mt-3",children:Object(a.jsx)(Gt.a,{error:g.nomError,placeholder:"",label:E.report.labelNom,required:!1,variant:"outlined",name:"type",onBlur:S,value:v.nom,onChange:C})}),Object(a.jsx)(h.a,{xs:"12",md:"12",className:"mt-3",children:Object(a.jsx)(Gt.a,{placeholder:"",variant:"outlined",required:!1,error:g.prenomError,label:E.report.labelPrenom,onBlur:S,name:"description",fullWidth:!0,value:v.description,onChange:C})}),Object(a.jsx)(h.a,{xs:"12",md:"6",className:"mt-3",children:Object(a.jsx)($t.a,{placeholder:"",variant:"outlined",required:!1,error:g.prenomError,label:E.report.labelEnd,name:"isCompleted",checked:v.isCompleted,rtl:"ar"===x,onChange:C})})]}),Object(a.jsx)(f.a,{className:"justify-content-center",children:Object(a.jsx)(p.a,{in:_.donneIncorecte,children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(b.a,{variant:"danger",children:E.report.errorSignup})})})}),Object(a.jsx)(f.a,{className:"justify-content-center",children:Object(a.jsx)(p.a,{in:_.success,children:Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)(b.a,{variant:"success",children:E.report.successSignup})})})}),Object(a.jsx)(f.a,{className:"align-items-center justify-content-around mt-4 ",children:Object(a.jsxs)(Zt.a,{type:"submit",color:"primary",children:[" ",E.report.signup," "]})})]})}):Object(a.jsx)("div",{children:Object(a.jsx)(Zt.a,{color:"primary",onClick:function(){return c(!0)},children:" Ajouter rapport "})})]})})})]})]})})}function cn(e){var t=Object(s.useState)(!1),n=t[0],r=t[1],i=Object(s.useState)(!1),o=i[0],c=i[1],l=Object(s.useState)(0),u=l[0],d=l[1],p=Object(s.useState)(0),b=p[0],m=p[1];return Object(s.useEffect)((function(){e.socket&&(e.socket.on("call-entring",(function(){c(!0)})),e.socket.emit("check-time",{consultationId:e.teleconsultation.id},(function(e){d(e.diff),m(e.now),r(e.isTime)})))}),[e.socket]),Object(a.jsx)("div",{children:e.teleconsultation?Object(a.jsx)(f.a,{className:"justify-content-around m-0",children:Object(a.jsxs)(h.a,{lg:"12",className:"bg-white p-0 discussion-container",children:[Object(a.jsx)(f.a,{className:"m-0",children:Object(a.jsx)(bt,{onConsuting:n,medecin:e.teleconsultation.medecin,teleconsultation:e.teleconsultation})}),Object(a.jsx)(f.a,{className:"discussion m-0",children:Object(a.jsx)(ln,an({onConsuting:n,medecin:e.teleconsultation.medecin,difference:u,now:b,setonCalling:c,onCalling:o},e))})]})}):null})}function ln(t){if(Object(s.useEffect)((function(){return navigator&&navigator.permissions&&(navigator.permissions.query({name:"camera"}).then((function(e){return console.log(e)}),(function(e){return console.log(e.name+": "+e.message)})).catch((function(t){console.log(e.name+": "+e.message)})),navigator.permissions.query({name:"microphone"}).then((function(e){var t=e.state;return console.log(t)}),(function(e){return console.log(e.name+": "+e.message)}))),function(){}}),[]),t.onCalling)return Object(a.jsx)(Mt,an({},t));if(t.onConsuting)return Object(a.jsx)(un,an({},t));switch(!0){case t.difference>0:return Object(a.jsx)(dn,{difference:t.difference,now:t.now});case t.difference<0:return Object(a.jsx)(fn,{});default:return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:" Nous avons pas pus d\xe9duire le cr\xe9neau de cette consultation. Veillez rafr\xe9chir la page pour r\xe9ssayer "})})}}function un(e){var t=Object(s.useState)([]),n=t[0],r=t[1],o=Object(s.useState)(""),c=o[0],l=o[1];return Object(s.useEffect)((function(){return e.socket&&e.socket.on("message",(function(e){r((function(t){return[].concat(Object(i.a)(t),[e])}))})),function(){e.socket&&e.socket.removeAllListeners("message")}}),[e.socket]),Object(a.jsxs)(h.a,{lg:"12",md:"12",sm:"12",xs:"12",className:"chat-messages p-0",children:[Object(a.jsx)(Le,{messages:n,user:e.medecin,storedMessages:e.teleconsultation.messages}),Object(a.jsx)(qt,{message:c,setMessage:l,sendMessage:function(t){if(t.preventDefault(),c){l("");var n={message:c,type:"text",sentBy:"patient",sentTo:"medecin",selectedUser:"m"+e.medecin.id,consultationId:e.teleconsultation.id};r((function(e){return[].concat(Object(i.a)(e),[{isSentByCurrentUser:!0,data:n}])})),e.socket.emit("sendMessage",n,(function(){}))}},active:e.teleconsultation.active})]})}function dn(e){var t=e.difference,n=e.now;return Object(a.jsx)(h.a,{lg:"12",md:"12",sm:"12",xs:"12",className:"chat-messages p-5",children:Object(a.jsx)(f.a,{className:"justify-content-center align-items-center h-100",children:Object(a.jsx)(Vt,{difference:t,now:n})})})}function fn(e){return Object(a.jsx)(h.a,{lg:"12",md:"12",sm:"12",xs:"12",className:"chat-messages p-0",children:Object(a.jsx)(f.a,{className:"justify-content-center align-items-center h-100",children:Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:" consultation passer "})})})})}},ybjB:function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,s;if("string"===typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var c=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(a(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},z7pX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6FTQ");var i=n("8rE2");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["5xQ7",0,1,3,6,9,8,11,22,2,4,5,10,7,12,13,14,18]]]);
(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("zoAU"),a=n("7KCV");t.__esModule=!0,t.default=void 0;var c=a(n("q1tI")),o=n("elyg"),i=n("nOHt"),s=n("vNVm"),l={};function d(e,t,n,r){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;l[t+"%"+n+(a?"%"+a:"")]=!0}}var u=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),a=n&&n.pathname||"/",u=c.default.useMemo((function(){var t=(0,o.resolveHref)(a,e.href,!0),n=r(t,2),c=n[0],i=n[1];return{href:c,as:e.as?(0,o.resolveHref)(a,e.as):i||c}}),[a,e.href,e.as]),f=u.href,m=u.as,v=e.children,h=e.replace,j=e.shallow,b=e.scroll,p=e.locale;"string"===typeof v&&(v=c.default.createElement("a",null,v));var x=c.Children.only(v),O=x&&"object"===typeof x&&x.ref,g=(0,s.useIntersection)({rootMargin:"200px"}),y=r(g,2),H=y[0],N=y[1],M=c.default.useCallback((function(e){H(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[O,H]);(0,c.useEffect)((function(){var e=N&&t&&(0,o.isLocalURL)(f),r="undefined"!==typeof p?p:n&&n.locale,a=l[f+"%"+m+(r?"%"+r:"")];e&&!a&&d(n,f,m,{locale:r})}),[m,f,N,p,t,n]);var Y={ref:M,onClick:function(e){x.props&&"function"===typeof x.props.onClick&&x.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,c,i,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:c,locale:s,scroll:i}).then((function(e){e&&i&&document.body.focus()})))}(e,n,f,m,h,j,b,p)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(x.props&&"function"===typeof x.props.onMouseEnter&&x.props.onMouseEnter(e),d(n,f,m,{priority:!0}))}};if(e.passHref||"a"===x.type&&!("href"in x.props)){var w="undefined"!==typeof p?p:n&&n.locale,D=(0,o.getDomainLocale)(m,w,n&&n.locales,n&&n.domainLocales);Y.href=D||(0,o.addBasePath)((0,o.addLocale)(m,w,n&&n.defaultLocale))}return c.default.cloneElement(x,Y)};t.default=u},gV5c:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("vJKn"),a=n.n(r),c=n("rg98"),o=n("nKUr"),i=n("q1tI"),s=n("wd/R"),l=n.n(s),d=n("NIcq"),u=n("wb2y"),f=n("lIVJ"),m=n("T00j");function v(e){var t=Object(i.useState)(l()()),n=t[0],r=t[1],s=Object(i.useState)([]),v=s[0],h=s[1],j=Object(i.useState)(!1),b=j[0],p=j[1],x=Object(m.b)().userData,O=function(t,n,r){console.log(n),r||e.setSelectedHour(t.format("YYYY/MM/DD"),n)},g=function(e){"next"===e?r(l()(n).add(7,"days")):l()(n).isAfter(l()())&&r(l()(n).subtract(7,"days"))},y=function(t){var n,r=null===(n=e.medecin)||void 0===n?void 0:n.horaires.find((function(e){return e.jour===t.format("dddd")}));if(!r)return[];var a=[],c=l()(r.fin_soir,"HH:mm:ss"),i=l()(r.debut_soir,"HH:mm:ss"),s=0,d=2;b&&(d=100);for(var u=function(){var e=void 0;v&&(e=v.find((function(e){return e.time===i.format("HH:mm:ss")&&t.format("YYYY-MM-DD")===e.date})));var n=l()(l()(t).format("YYYY/MM/DD")+i.format("HH:mm"),"YYYY/MM/DDHH:mm"),c=void 0!==e||l()().isAfter(n),d=i.format("HH:mm"),u=c?Object(o.jsxs)("div",{className:" hours-element-disabled",children:[" ",Object(o.jsxs)("div",{className:"hour-empty",children:[Object(o.jsx)("span",{children:"-:-"}),"   "]})," "]},s):Object(o.jsx)("div",{disabled:c,className:c?"cell hours-element disabled":"cell hours-element",onClick:function(){return O(t,d,c)},children:Object(o.jsxs)("span",{className:"hour",children:[" ",i.format("HH:mm")," "]})},s);a.push(u),s++,i=i.add(r.duree,"minutes")};i.isBefore(c)&&s<d;)u();return a},H=function(t){var n,r=null===(n=e.medecin)||void 0===n?void 0:n.horaires.find((function(e){return e.jour===t.lang("fr").format("dddd")}));if(!r)return[];var a=[],c=l()(r.fin_matin,"HH:mm:ss"),i=l()(r.debut_matin,"HH:mm:ss"),s=0,d=2;b&&(d=100);for(var u=function(){var e=void 0;v&&(e=v.find((function(e){return e.time===i.format("HH:mm:ss")&&t.format("YYYY-MM-DD")===e.date})));var n=l()(l()(t).format("YYYY/MM/DD")+i,"YYYY/MM/DDHH:mm"),c=i.format("HH:mm"),d=void 0!==e||l()().isAfter(n),u=d?Object(o.jsxs)("div",{className:" hours-element-disabled",children:[" ",Object(o.jsx)("div",{className:"hour-empty",children:Object(o.jsx)("span",{children:"-:-"})})," "]},s):Object(o.jsx)("div",{disabled:d,className:d?"cell hours-element disabled":"cell hours-element",onClick:function(){return O(t,c,d)},children:Object(o.jsxs)("span",{className:"hour",children:[i.format("HH:mm"),"  "]})},s);a.push(u),s++,i=i.add(r.duree,"minutes")};i.isBefore(c)&&s<d;)u();return a};Object(i.useEffect)(Object(c.a)(a.a.mark((function t(){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f.a.BACKEND_URL,"/consultation/medecin-calendar/").concat(null===(r=e.medecin)||void 0===r?void 0:r.id,"/").concat(n),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"token ".concat(x.token)}});case 2:return c=t.sent,t.next=5,c.json();case 5:o=t.sent,h(o.medecinCalendar);case 7:case"end":return t.stop()}}),t)}))),[n]);return Object(o.jsxs)("section",{children:[Object(o.jsx)("div",{className:"date-range-calendar",style:"ar"===e.locale?{direction:"rtl",textAlign:"right"}:{direction:"ltr"},children:Object(o.jsxs)("div",{className:"range-calendar",children:[Object(o.jsx)("div",{className:"calendar-pagination",children:Object(o.jsxs)("button",{className:"",id:"date-range-preview",onClick:function(){return g("preview")},children:["  ","ar"===e.locale?Object(o.jsx)(d.d,{color:"#1AB9B9"}):Object(o.jsx)(d.c,{color:"#1AB9B9"}),"  "]})}),Object(o.jsx)("div",{className:"calendar",children:e.medecin?function(){for(var e=[],t=0;t<=6;t++){var r=l()(n).add(t,"days"),a=Object(o.jsxs)("div",{className:"calendar-day",children:[Object(o.jsx)("div",{className:"calendar-day-title",children:Object(o.jsxs)("div",{className:"cell-content",children:[Object(o.jsxs)("div",{className:"calendar-day-name",children:[r.format("dddd")," "]}),Object(o.jsx)("div",{className:"calendar-day-date",children:r.format("D")+" "+r.format("MMM")})]})}),Object(o.jsxs)("div",{children:[H(r),Object(o.jsx)(u.a,{}),y(r)]})]},t);e.push(a)}return e}():null}),Object(o.jsx)("div",{className:"calendar-pagination",children:Object(o.jsxs)("button",{className:"",id:"date-range-next",onClick:function(){return g("next")},children:["  ","ar"===e.locale?Object(o.jsx)(d.c,{color:"#1AB9B9"}):Object(o.jsx)(d.d,{color:"#1AB9B9"})," "]})})]})}),Object(o.jsx)("div",{className:"text-center w-100 divider-t",children:Object(o.jsx)("a",{href:"javascript:void(0)",className:"show-all",onClick:function(){return p(!b)},children:"VOIRE PLUS D\u2019HORAIRES"})})]})}},rg98:function(e,t,n){"use strict";function r(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var o=e.apply(t,n);function i(e){r(o,a,c,i,s,"next",e)}function s(e){r(o,a,c,i,s,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return a}))},vNVm:function(e,t,n){"use strict";var r=n("zoAU"),a=n("AroE");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!i,a=(0,c.useRef)(),l=(0,c.useState)(!1),d=r(l,2),u=d[0],f=d[1],m=(0,c.useCallback)((function(e){a.current&&(a.current(),a.current=void 0),n||u||e&&e.tagName&&(a.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=s.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return s.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,c=r.observer,o=r.elements;return o.set(e,t),c.observe(e),function(){o.delete(e),c.unobserve(e),0===o.size&&(c.disconnect(),s.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,u]);return(0,c.useEffect)((function(){i||u||(0,o.default)((function(){return f(!0)}))}),[u]),[m,u]};var c=n("q1tI"),o=a(n("0G5g")),i="undefined"!==typeof IntersectionObserver;var s=new Map},wb2y:function(e,t,n){"use strict";var r=n("wx14"),a=n("Ff2n"),c=n("q1tI"),o=(n("17x9"),n("iuhU")),i=n("H2TA"),s=n("ye/S"),l=c.forwardRef((function(e,t){var n=e.absolute,i=void 0!==n&&n,s=e.classes,l=e.className,d=e.component,u=void 0===d?"hr":d,f=e.flexItem,m=void 0!==f&&f,v=e.light,h=void 0!==v&&v,j=e.orientation,b=void 0===j?"horizontal":j,p=e.role,x=void 0===p?"hr"!==u?"separator":void 0:p,O=e.variant,g=void 0===O?"fullWidth":O,y=Object(a.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return c.createElement(u,Object(r.a)({className:Object(o.a)(s.root,l,"fullWidth"!==g&&s[g],i&&s.absolute,m&&s.flexItem,h&&s.light,"vertical"===b&&s.vertical),role:x,ref:t},y))}));t.a=Object(i.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.a)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(l)}}]);
{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Config from './../../EndPoint';\nimport Button from './../../components/CustomButtons/Button';\nimport { useAuth } from './../../context/AuthContext';\nimport { useRouter } from 'next/router';\nimport contentFR from './../../contentFR';\nimport contentEN from './../../contentEN';\nimport contentAR from './../../contentAR';\nexport default function Confirm({\n  data\n}) {\n  const {\n    userData\n  } = useAuth();\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n\n  const GenererLink = () => {\n    fetch(`${Config.BACKEND_URL}/patient/generer-link`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `token ${userData.token}`\n      }\n    }).then(r => r.json().then(res => {})).catch(error => {});\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"container mt-5 pt-5 text-center\",\n    children: data.updatedUser ? data.updatedUser.active ? /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\" \", content.validation.confirm, \" \"]\n      })\n    }) : /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        children: [\" \", content.validation.expired, \"  \"]\n      }), /*#__PURE__*/_jsxs(Button, {\n        color: \"primary\",\n        onClick: GenererLink,\n        children: [\" \", content.validation.generateNew, \" \"]\n      })]\n    }) : /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        children: [\" \", content.validation.expired, \" \"]\n      }), /*#__PURE__*/_jsxs(Button, {\n        color: \"primary\",\n        onClick: GenererLink,\n        children: [\"  \", content.validation.generateNew, \" \"]\n      })]\n    })\n  });\n}\nexport async function getServerSideProps(context) {\n  const res = await fetch(`${Config.BACKEND_URL}/patient/confirm/${context.params.token}`);\n  const data = await res.json(); // console.log(data)\n\n  return {\n    props: {\n      data\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}
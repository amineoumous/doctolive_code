{"ast":null,"code":"import _defineProperty from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\components\\\\MedecinWidget\\\\MedecinWidget.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Config from './../../EndPoint';\nimport { useRouter } from 'next/router';\nimport { useAppContext } from './../../context/AppointementContext';\nimport { MdVideocam } from 'react-icons/md';\nimport { Row } from 'react-bootstrap';\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox';\nimport Button from './../CustomButtons/Button';\nimport Link from 'next/link';\nimport CalendarAvailability from './CalendarAvailability';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport Review from './../../components/review/Review';\nimport moment from 'moment';\nexport default function MedecinWidget(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(),\n      showDisponibilite = _useState[0],\n      setShowDisponibilite = _useState[1];\n\n  var content = props.content,\n      locale = props.locale;\n\n  var _useState2 = useState(),\n      selectedHour = _useState2[0],\n      setSelectedHour = _useState2[1];\n\n  var _useState3 = useState(),\n      selectedDate = _useState3[0],\n      setSelectedDate = _useState3[1];\n\n  var _useAppContext = useAppContext(),\n      setUserTemporary = _useAppContext.setUserTemporary;\n\n  var router = useRouter();\n\n  var setDetails = function setDetails(day, hour) {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  var validateTime = function validateTime() {\n    var _props$medecin;\n\n    setUserTemporary({\n      date: selectedDate,\n      time: selectedHour,\n      medecinId: props.medecin.id\n    });\n    return router.push({\n      pathname: \"/doctor/\".concat((_props$medecin = props.medecin) === null || _props$medecin === void 0 ? void 0 : _props$medecin.id, \"/appointment\")\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card br-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doctor-widget\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doc-info-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doctor-img\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/doctor/\" + props.medecin.id,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: props.medecin.image ? \"\".concat(Config.BACKEND_URL, \"/\").concat(props.medecin.image) : \"/image/medecin/homme.jpg\",\n                className: \"img-fluid img-100\",\n                alt: \"User Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Review, {\n              medium: true,\n              rating: 5,\n              className: 'show-only-mobile',\n              size: 26,\n              color: \"red\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-info-cont\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"doc-name\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/doctor/\" + props.medecin.id,\n                className: \"doc-name\",\n                children: [\"Dr. \", \"\".concat(props.medecin.nom, \" \").concat(props.medecin.prenom)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this), props.medecin.specialites.map(function (specialite, index) {\n              return /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"doc-department-md\",\n                children: [!specialite.icon ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"\".concat(Config.BACKEND_URL, \"/\").concat(specialite.icon),\n                  className: \"img-fluid\",\n                  alt: \"Speciality\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 114\n                }, _this), specialite.name]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 41\n              }, _this);\n            }), !props.medecin.teleconsultationIsDisponible ? null : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mt-2\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(MdVideocam, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 104\n              }, this), \" \", content.availableVideo, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 80\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clinic-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"doc-location\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-map-marker-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 57\n                }, this), !props.medecin.adress ? content.notSpecified : (props.medecin.adress.streetName ? props.medecin.adress.streetName : \"\") + \" \" + (props.medecin.adress.buildingName ? props.medecin.adress.buildingName : \"\") + \" \" + (props.medecin.adress.floor ? \"étage \" + props.medecin.adress.floor : \"\") + \" \" + (props.medecin.adress.sector ? props.medecin.adress.sector : \"\") + \", \" + (props.medecin.adress.codePostal ? props.medecin.adress.codePostal : \"\") + \" - \" + (props.medecin.city ? props.medecin.city.name : \"\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: props.medecin.pictures.map(function (picture, index) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cabinet-img-container ml-2\",\n                    children: /*#__PURE__*/_jsxDEV(ReactFancyBox, {\n                      thumbnail: \"\".concat(Config.BACKEND_URL, \"/\").concat(picture.path),\n                      showCloseBtn: false,\n                      image: \"\".concat(Config.BACKEND_URL, \"/\").concat(picture.path)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 41\n                    }, _this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 41\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Review, {\n                medium: true,\n                rating: 5,\n                className: 'show-only-desktop',\n                size: 26,\n                color: \"red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'show-only-mobile',\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: 'bolde-7',\n                  onClick: function onClick() {\n                    return setShowDisponibilite(props.medecin);\n                  },\n                  color: \"primary\",\n                  children: [\" \", content.seeDispo, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: 'show-only-desktop',\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: 'bolde-7',\n                  disabled: !selectedHour,\n                  onClick: validateTime,\n                  color: \"primary\",\n                  children: content.confirm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: locale === \"ar\" ? \"doc-info-leftr show-only-desktop\" : \"doc-info-right show-only-desktop\",\n          children: [/*#__PURE__*/_jsxDEV(CalendarAvailability, _objectSpread(_objectSpread({}, props), {}, {\n            setSelectedHour: setDetails\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: !selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clinic-booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), showDisponibilite ? /*#__PURE__*/_jsxDEV(ShowDisponibilite, _objectSpread(_objectSpread({\n      showDisponibilite: showDisponibilite\n    }, props), {}, {\n      handleClose: function handleClose() {\n        return setShowDisponibilite();\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MedecinWidget, \"cWjTxRDekNwDEEW8QgJubZz2aDo=\", false, function () {\n  return [useAppContext, useRouter];\n});\n\n_c = MedecinWidget;\nvar Transition = /*#__PURE__*/React.forwardRef(_c2 = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, _objectSpread({\n    direction: \"up\",\n    ref: ref\n  }, props), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 12\n  }, this);\n});\n_c3 = Transition;\n\nfunction ShowDisponibilite(props) {\n  _s2();\n\n  var _useState4 = useState(),\n      selectedHour = _useState4[0],\n      setSelectedHour = _useState4[1];\n\n  var _useState5 = useState(),\n      selectedDate = _useState5[0],\n      setSelectedDate = _useState5[1];\n\n  var content = props.content,\n      locale = props.locale;\n\n  var _useAppContext2 = useAppContext(),\n      setUserTemporary = _useAppContext2.setUserTemporary;\n\n  var router = useRouter();\n\n  var setDetails = function setDetails(day, hour) {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  var validateTime = function validateTime() {\n    setUserTemporary({\n      date: selectedDate,\n      time: selectedHour,\n      medecinId: props.medecin.id\n    });\n    return router.push({\n      pathname: \"/doctor/\".concat(props.medecin.id, \"/appointment\")\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      open: true,\n      maxWidth: \"lg\" // fullWidth={true}\n      ,\n      style: locale === \"ar\" ? {\n        direction: \"rtl\",\n        textAlign: \"right\"\n      } : {\n        direction: \"ltr\"\n      },\n      TransitionComponent: Transition,\n      keepMounted: true // onClose={props.handleClose}\n      ,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.dispo, \"  \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(CalendarAvailability, _objectSpread(_objectSpread({}, props), {}, {\n          setSelectedHour: setDetails\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: !selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: props.handleClose,\n            color: \"transparent\",\n            children: content.cancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !selectedHour,\n            onClick: validateTime,\n            color: \"primary\",\n            children: content.confirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(ShowDisponibilite, \"36W9UpsaDvhkRDOS3giunSK8j1A=\", false, function () {\n  return [useAppContext, useRouter];\n});\n\n_c4 = ShowDisponibilite;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"MedecinWidget\");\n$RefreshReg$(_c2, \"Transition$React.forwardRef\");\n$RefreshReg$(_c3, \"Transition\");\n$RefreshReg$(_c4, \"ShowDisponibilite\");","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/components/MedecinWidget/MedecinWidget.js"],"names":["React","useState","useEffect","Config","useRouter","useAppContext","MdVideocam","Row","ReactFancyBox","Button","Link","CalendarAvailability","Dialog","DialogActions","DialogContent","DialogTitle","Slide","Review","moment","MedecinWidget","props","showDisponibilite","setShowDisponibilite","content","locale","selectedHour","setSelectedHour","selectedDate","setSelectedDate","setUserTemporary","router","setDetails","day","hour","validateTime","date","time","medecinId","medecin","id","push","pathname","image","BACKEND_URL","nom","prenom","specialites","map","specialite","index","icon","name","teleconsultationIsDisponible","availableVideo","adress","notSpecified","streetName","buildingName","floor","sector","codePostal","city","pictures","picture","path","seeDispo","confirm","timeSelected","calendar","Transition","forwardRef","ref","ShowDisponibilite","direction","textAlign","dispo","handleClose","cancel"],"mappings":";;;;;;;;;;;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAAQC,aAAR,QAA4B,qCAA5B;AAEA,SAAQC,UAAR,QAAyB,gBAAzB;AAGA,SAAQC,GAAR,QAAkB,iBAAlB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AAGA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,oBAAP,MAAiC,wBAAjC;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AAEA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AACA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAAA;;AAAA,kBACSnB,QAAQ,EADjB;AAAA,MAClCoB,iBADkC;AAAA,MACfC,oBADe;;AAAA,MAElCC,OAFkC,GAEfH,KAFe,CAElCG,OAFkC;AAAA,MAEzBC,MAFyB,GAEfJ,KAFe,CAEzBI,MAFyB;;AAAA,mBAKDvB,QAAQ,EALP;AAAA,MAKlCwB,YALkC;AAAA,MAKpBC,eALoB;;AAAA,mBAMDzB,QAAQ,EANP;AAAA,MAMlC0B,YANkC;AAAA,MAMpBC,eANoB;;AAAA,uBASZvB,aAAa,EATD;AAAA,MASjCwB,gBATiC,kBASjCA,gBATiC;;AAWzC,MAAMC,MAAM,GAAG1B,SAAS,EAAxB;;AAEA,MAAM2B,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC9BL,IAAAA,eAAe,CAACI,GAAD,CAAf;AACAN,IAAAA,eAAe,CAACO,IAAD,CAAf;AACH,GAHD;;AAIA,MAAMC,YAAY,GAAI,SAAhBA,YAAgB,GAAM;AAAA;;AACxBL,IAAAA,gBAAgB,CAAC;AAAEM,MAAAA,IAAI,EAAER,YAAR;AAAsBS,MAAAA,IAAI,EAAEX,YAA5B;AAA0CY,MAAAA,SAAS,EAAEjB,KAAK,CAACkB,OAAN,CAAcC;AAAnE,KAAD,CAAhB;AAEA,WAAOT,MAAM,CAACU,IAAP,CAAY;AACfC,MAAAA,QAAQ,sCAAarB,KAAK,CAACkB,OAAnB,mDAAa,eAAeC,EAA5B;AADO,KAAZ,CAAP;AAGH,GAND;;AAOA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,4BACA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAG,cAAA,IAAI,EAAE,aAAWnB,KAAK,CAACkB,OAAN,CAAcC,EAAlC;AAAA,qCACI;AAAK,gBAAA,GAAG,EAAEnB,KAAK,CAACkB,OAAN,CAAcI,KAAd,aAAyBvC,MAAM,CAACwC,WAAhC,cAA+CvB,KAAK,CAACkB,OAAN,CAAcI,KAA7D,IAAuE,0BAAjF;AAA8G,gBAAA,SAAS,EAAC,mBAAxH;AAA4I,gBAAA,GAAG,EAAC;AAAhJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,MAAD;AAAQ,cAAA,MAAM,MAAd;AAAe,cAAA,MAAM,EAAE,CAAvB;AAA0B,cAAA,SAAS,EAAE,kBAArC;AAAyD,cAAA,IAAI,EAAE,EAA/D;AAAmE,cAAA,KAAK,EAAE;AAA1E;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAQI;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,oCACI;AAAI,cAAA,SAAS,EAAC,UAAd;AAAA,qCAAyB;AAAG,gBAAA,IAAI,EAAE,aAAWtB,KAAK,CAACkB,OAAN,CAAcC,EAAlC;AAAsC,gBAAA,SAAS,EAAC,UAAhD;AAAA,6CAAmEnB,KAAK,CAACkB,OAAN,CAAcM,GAAjF,cAAwFxB,KAAK,CAACkB,OAAN,CAAcO,MAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB;AAAA;AAAA;AAAA;AAAA,oBADJ,EAIQzB,KAAK,CAACkB,OAAN,CAAcQ,WAAd,CAA0BC,GAA1B,CAA8B,UAACC,UAAD,EAAaC,KAAb,EAAuB;AACjD,kCAAQ;AAAgB,gBAAA,SAAS,EAAC,mBAA1B;AAAA,2BAA+C,CAACD,UAAU,CAACE,IAAZ,GAAmB,IAAnB,gBAA0B;AAAK,kBAAA,GAAG,YAAK/C,MAAM,CAACwC,WAAZ,cAA2BK,UAAU,CAACE,IAAtC,CAAR;AAAsD,kBAAA,SAAS,EAAC,WAAhE;AAA4E,kBAAA,GAAG,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA,yBAAzE,EAA0KF,UAAU,CAACG,IAArL;AAAA,iBAASF,KAAT;AAAA;AAAA;AAAA;AAAA,uBAAR;AACH,aAFD,CAJR,EASM,CAAC7B,KAAK,CAACkB,OAAN,CAAcc,4BAAf,GAA8C,IAA9C,gBAAqD;AAAM,cAAA,SAAS,EAAC,MAAhB;AAAA,2CAAwB,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,sBAAxB,OAAwC7B,OAAO,CAAC8B,cAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAT3D,eAWI;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAC,cAAb;AAAA,wCAA4B;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,wBAA5B,EAEI,CAACjC,KAAK,CAACkB,OAAN,CAAcgB,MAAf,GACA/B,OAAO,CAACgC,YADR,GAEA,CAACnC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBE,UAArB,GAAiCpC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBE,UAAtD,GAAmE,EAApE,IAA0E,GAA1E,IACCpC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBG,YAArB,GAAmCrC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBG,YAAxD,GAAuE,EADxE,IAC8E,GAD9E,IAECrC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBI,KAArB,GAA4B,WAAWtC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBI,KAA5D,GAAoE,EAFrE,IAE2E,GAF3E,IAGCtC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBK,MAArB,GAA6BvC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBK,MAAlD,GAA2D,EAH5D,IAGkE,IAHlE,IAICvC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBM,UAArB,GAAiCxC,KAAK,CAACkB,OAAN,CAAcgB,MAAd,CAAqBM,UAAtD,GAAmE,EAJpE,IAI0E,KAJ1E,IAKCxC,KAAK,CAACkB,OAAN,CAAcuB,IAAd,GAAqBzC,KAAK,CAACkB,OAAN,CAAcuB,IAAd,CAAmBV,IAAxC,GAAgD,EALjD,CAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAaI,QAAC,GAAD;AAAA,0BACM/B,KAAK,CAACkB,OAAN,CAAcwB,QAAd,CAAuBf,GAAvB,CAA2B,UAACgB,OAAD,EAAUd,KAAV,EAAoB;AAC7C,sCACI;AAAK,oBAAA,SAAS,EAAC,4BAAf;AAAA,2CACA,QAAC,aAAD;AACI,sBAAA,SAAS,YAAK9C,MAAM,CAACwC,WAAZ,cAA2BoB,OAAO,CAACC,IAAnC,CADb;AAEI,sBAAA,YAAY,EAAE,KAFlB;AAGI,sBAAA,KAAK,YAAK7D,MAAM,CAACwC,WAAZ,cAA2BoB,OAAO,CAACC,IAAnC;AAHT;AAAA;AAAA;AAAA;AAAA;AADA,qBAAiDf,KAAjD;AAAA;AAAA;AAAA;AAAA,2BADJ;AAQH,iBATC;AADN;AAAA;AAAA;AAAA;AAAA,sBAbJ,eA0BI,QAAC,MAAD;AAAQ,gBAAA,MAAM,MAAd;AAAe,gBAAA,MAAM,EAAE,CAAvB;AAA0B,gBAAA,SAAS,EAAE,mBAArC;AAA0D,gBAAA,IAAI,EAAE,EAAhE;AAAoE,gBAAA,KAAK,EAAE;AAA3E;AAAA;AAAA;AAAA;AAAA,sBA1BJ,eA4BI;AAAM,gBAAA,SAAS,EAAE,kBAAjB;AAAA,uCACJ,QAAC,MAAD;AAAQ,kBAAA,SAAS,EAAE,SAAnB;AAA8B,kBAAA,OAAO,EAAE;AAAA,2BAAM3B,oBAAoB,CAACF,KAAK,CAACkB,OAAP,CAA1B;AAAA,mBAAvC;AAAkF,kBAAA,KAAK,EAAC,SAAxF;AAAA,kCAAoGf,OAAO,CAAC0C,QAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,sBA5BJ,eAgCA;AAAM,gBAAA,SAAS,EAAE,mBAAjB;AAAA,uCACI,QAAC,MAAD;AAAQ,kBAAA,SAAS,EAAE,SAAnB;AAA8B,kBAAA,QAAQ,EAAE,CAACxC,YAAzC;AAAuD,kBAAA,OAAO,EAAES,YAAhE;AAA8E,kBAAA,KAAK,EAAC,SAApF;AAAA,4BACCX,OAAO,CAAC2C;AADT;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAhCA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eA6DI;AAAK,UAAA,SAAS,EAAE1C,MAAM,KAAK,IAAX,GAAkB,kCAAlB,GAAuD,kCAAvE;AAAA,kCACA,QAAC,oBAAD,kCAA0BJ,KAA1B;AAAiC,YAAA,eAAe,EAAEW;AAAlD;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA,sBACS,CAACN,YAAD,IAAiB,CAACE,YAAlB,GAAiC,IAAjC,GAAwCJ,OAAO,CAAC4C,YAAR,GAAuBjD,MAAM,CAACS,YAAY,GAAGF,YAAhB,EAA8B,iBAA9B,CAAN,CAAwD2C,QAAxD;AADxE;AAAA;AAAA;AAAA;AAAA,kBAFA,eAKI;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADA,EAkFI/C,iBAAiB,gBACjB,QAAC,iBAAD;AAAmB,MAAA,iBAAiB,EAAEA;AAAtC,OAA6DD,KAA7D;AAAoE,MAAA,WAAW,EAAE;AAAA,eAAME,oBAAoB,EAA1B;AAAA;AAAjF;AAAA;AAAA;AAAA;AAAA,YADiB,GAEf,IApFN;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0FH;;GAlHuBH,a;UASSd,a,EAEdD,S;;;KAXKe,a;AAqHxB,IAAMkD,UAAU,gBAAGrE,KAAK,CAACsE,UAAN,OAAiB,SAASD,UAAT,CAAoBjD,KAApB,EAA2BmD,GAA3B,EAAgC;AAChE,sBAAO,QAAC,KAAD;AAAO,IAAA,SAAS,EAAC,IAAjB;AAAsB,IAAA,GAAG,EAAEA;AAA3B,KAAoCnD,KAApC;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAFgB,CAAnB;MAAMiD,U;;AAIN,SAASG,iBAAT,CAA4BpD,KAA5B,EAAmC;AAAA;;AAAA,mBACSnB,QAAQ,EADjB;AAAA,MACxBwB,YADwB;AAAA,MACVC,eADU;;AAAA,mBAESzB,QAAQ,EAFjB;AAAA,MAExB0B,YAFwB;AAAA,MAEVC,eAFU;;AAAA,MAIxBL,OAJwB,GAILH,KAJK,CAIxBG,OAJwB;AAAA,MAIfC,MAJe,GAILJ,KAJK,CAIfI,MAJe;;AAAA,wBAMFnB,aAAa,EANX;AAAA,MAMvBwB,gBANuB,mBAMvBA,gBANuB;;AAQ/B,MAAMC,MAAM,GAAG1B,SAAS,EAAxB;;AAEA,MAAM2B,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC9BL,IAAAA,eAAe,CAACI,GAAD,CAAf;AACAN,IAAAA,eAAe,CAACO,IAAD,CAAf;AACH,GAHD;;AAIA,MAAMC,YAAY,GAAI,SAAhBA,YAAgB,GAAM;AACxBL,IAAAA,gBAAgB,CAAC;AAAEM,MAAAA,IAAI,EAAER,YAAR;AAAsBS,MAAAA,IAAI,EAAEX,YAA5B;AAA0CY,MAAAA,SAAS,EAAEjB,KAAK,CAACkB,OAAN,CAAcC;AAAnE,KAAD,CAAhB;AAEA,WAAOT,MAAM,CAACU,IAAP,CAAY;AACfC,MAAAA,QAAQ,oBAAarB,KAAK,CAACkB,OAAN,CAAcC,EAA3B;AADO,KAAZ,CAAP;AAGH,GAND;;AAQA,sBACI;AAAA,2BACG,QAAC,MAAD;AACK,MAAA,IAAI,EAAE,IADX;AAEK,MAAA,QAAQ,EAAC,IAFd,CAGK;AAHL;AAIK,MAAA,KAAK,EAAEf,MAAM,KAAK,IAAX,GAAkB;AAACiD,QAAAA,SAAS,EAAE,KAAZ;AAAmBC,QAAAA,SAAS,EAAE;AAA9B,OAAlB,GAA0D;AAACD,QAAAA,SAAS,EAAE;AAAZ,OAJtE;AAKK,MAAA,mBAAmB,EAAEJ,UAL1B;AAMK,MAAA,WAAW,MANhB,CAOK;AAPL;AAQK,yBAAgB,0BARrB;AASK,0BAAiB,gCATtB;AAAA,8BAWK,QAAC,WAAD;AAAa,QAAA,EAAE,EAAC,0BAAhB;AAAA,wBAA6C9C,OAAO,CAACoD,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA,cAXL,eAYK,QAAC,aAAD;AAAA,+BACK,QAAC,oBAAD,kCAA0BvD,KAA1B;AAAiC,UAAA,eAAe,EAAEW;AAAlD;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA,cAZL,eAeK,QAAC,aAAD;AAAA,gCACI;AAAA,oBACK,CAACN,YAAD,IAAiB,CAACE,YAAlB,GAAiC,IAAjC,GAAwCJ,OAAO,CAAC4C,YAAR,GAAuBjD,MAAM,CAACS,YAAY,GAAGF,YAAhB,EAA8B,iBAA9B,CAAN,CAAwD2C,QAAxD;AADpE;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAA,kCACI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAEhD,KAAK,CAACwD,WAAvB;AAAoC,YAAA,KAAK,EAAC,aAA1C;AAAA,sBACKrD,OAAO,CAACsD;AADb;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,MAAD;AAAQ,YAAA,QAAQ,EAAE,CAACpD,YAAnB;AAAiC,YAAA,OAAO,EAAES,YAA1C;AAAwD,YAAA,KAAK,EAAC,SAA9D;AAAA,sBACKX,OAAO,CAAC2C;AADb;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAfL;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,UADJ;AAiCH;;IAvDQM,iB;UAMwBnE,a,EAEdD,S;;;MARVoE,iB","sourcesContent":["\r\nimport React, {useState, useEffect} from 'react'\r\n\r\nimport Config from './../../EndPoint';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport {useAppContext} from './../../context/AppointementContext'\r\n\r\nimport {MdVideocam} from 'react-icons/md'\r\n\r\n\r\nimport {Row} from 'react-bootstrap'\r\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox'\r\n\r\n\r\nimport Button from './../CustomButtons/Button'\r\nimport Link from 'next/link'\r\n\r\nimport CalendarAvailability from './CalendarAvailability'\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Review from './../../components/review/Review'\r\n\r\nimport moment from 'moment'\r\nexport default function MedecinWidget(props) {\r\n    const [showDisponibilite, setShowDisponibilite] = useState();\r\n    const {content, locale} = props;\r\n\r\n\r\n    const [selectedHour, setSelectedHour] = useState()\r\n    const [selectedDate, setSelectedDate] = useState()\r\n\r\n\r\n    const { setUserTemporary } = useAppContext();\r\n\r\n    const router = useRouter()\r\n\r\n    const setDetails = (day, hour) => {\r\n        setSelectedDate(day);\r\n        setSelectedHour(hour)\r\n    }\r\n    const validateTime =  () => {\r\n        setUserTemporary({ date: selectedDate, time: selectedHour, medecinId: props.medecin.id });\r\n\r\n        return router.push({\r\n            pathname: `/doctor/${props.medecin?.id}/appointment`,\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"card br-10\">\r\n        <div className=\"card-body\">\r\n            <div className=\"doctor-widget\">\r\n                <div className=\"doc-info-left\">\r\n                    <div className=\"doctor-img\">\r\n                        <a href={\"/doctor/\"+props.medecin.id}>\r\n                            <img src={props.medecin.image ? `${Config.BACKEND_URL}/${props.medecin.image}` : \"/image/medecin/homme.jpg\" } className=\"img-fluid img-100\" alt=\"User Image\" />\r\n                        </a>\r\n                        <Review medium rating={5} className={'show-only-mobile'} size={26} color={\"red\"} />\r\n                      \r\n                    </div>\r\n                    <div className=\"doc-info-cont\">\r\n                        <h3 className=\"doc-name\"><a href={\"/doctor/\"+props.medecin.id} className='doc-name'>Dr. {`${props.medecin.nom} ${props.medecin.prenom}`}</a></h3>\r\n                        \r\n                        {\r\n                            props.medecin.specialites.map((specialite, index) => {\r\n                                return (<h4 key={index} className=\"doc-department-md\">{!specialite.icon ? null : <img src={`${Config.BACKEND_URL}/${specialite.icon}`} className=\"img-fluid\" alt=\"Speciality\" />}{specialite.name}</h4>)\r\n                            })\r\n                        }\r\n                        {/* <p className=\"doc-speciality\">MDS - Periodontology and Oral Implantology, BDS</p> */}\r\n                         {!props.medecin.teleconsultationIsDisponible ? null : <span className='mt-2'> <MdVideocam /> {content.availableVideo} </span> } \r\n                     \r\n                        <div className=\"clinic-details\">\r\n                            <p className=\"doc-location\"><i className=\"fas fa-map-marker-alt\"></i> \r\n                            {\r\n                                !props.medecin.adress ? \r\n                                content.notSpecified : \r\n                                (props.medecin.adress.streetName? props.medecin.adress.streetName : \"\") + \" \" + \r\n                                (props.medecin.adress.buildingName? props.medecin.adress.buildingName : \"\") + \" \" + \r\n                                (props.medecin.adress.floor? \"étage \" + props.medecin.adress.floor : \"\") + \" \" + \r\n                                (props.medecin.adress.sector? props.medecin.adress.sector : \"\") + \", \" + \r\n                                (props.medecin.adress.codePostal? props.medecin.adress.codePostal : \"\") + \" - \" + \r\n                                (props.medecin.city ? props.medecin.city.name  : \"\") \r\n                            } \r\n                            </p>\r\n                            <Row>\r\n                                { props.medecin.pictures.map((picture, index) => {\r\n                                    return (\r\n                                        <div className=\"cabinet-img-container ml-2\" key={index}>\r\n                                        <ReactFancyBox\r\n                                            thumbnail={`${Config.BACKEND_URL}/${picture.path}`}\r\n                                            showCloseBtn={false}\r\n                                            image={`${Config.BACKEND_URL}/${picture.path}`}/>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </Row>    \r\n                            <Review medium rating={5} className={'show-only-desktop'} size={26} color={\"red\"} />\r\n\r\n                            <div  className={'show-only-mobile'}>\r\n                        <Button className={'bolde-7'} onClick={() => setShowDisponibilite(props.medecin)} color=\"primary\"> {content.seeDispo} </Button> \r\n\r\n                        </div>\r\n                        <div  className={'show-only-desktop'}>\r\n                            <Button className={'bolde-7'} disabled={!selectedHour} onClick={validateTime} color=\"primary\">\r\n                            {content.confirm}\r\n                        </Button> \r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                \r\n                </div>\r\n                <div className={locale === \"ar\" ? \"doc-info-leftr show-only-desktop\" : \"doc-info-right show-only-desktop\"}>\r\n                <CalendarAvailability {...props} setSelectedHour={setDetails} />\r\n                <div>\r\n                        {!selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm' ).calendar()}\r\n                    </div>\r\n                    <div className=\"clinic-booking\">\r\n                    {/* <Link href={\"/doctor/\"+props.medecin.id}>\r\n                        <a className=\"view-pro-btn\"> {content.seeProfile} </a>\r\n                    </Link>\r\n\r\n                        <Button onClick={() => setShowDisponibilite(props.medecin)} color=\"primary\"> {content.seeDispo} </Button> */}\r\n                    </div>\r\n\r\n\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n        {\r\n            showDisponibilite ? \r\n            <ShowDisponibilite showDisponibilite={showDisponibilite} {...props} handleClose={() => setShowDisponibilite()} />\r\n            : null\r\n        }   \r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\nfunction ShowDisponibilite (props) {\r\n    const [selectedHour, setSelectedHour] = useState()\r\n    const [selectedDate, setSelectedDate] = useState()\r\n\r\n    const {content, locale} = props;\r\n\r\n    const { setUserTemporary } = useAppContext();\r\n\r\n    const router = useRouter()\r\n\r\n    const setDetails = (day, hour) => {\r\n        setSelectedDate(day);\r\n        setSelectedHour(hour)\r\n    }\r\n    const validateTime =  () => {\r\n        setUserTemporary({ date: selectedDate, time: selectedHour, medecinId: props.medecin.id });\r\n\r\n        return router.push({\r\n            pathname: `/doctor/${props.medecin.id}/appointment`,\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div >\r\n           <Dialog\r\n                open={true}\r\n                maxWidth=\"lg\"\r\n                // fullWidth={true}\r\n                style={locale === \"ar\" ? {direction: \"rtl\", textAlign: \"right\"}: {direction: \"ltr\"}}\r\n                TransitionComponent={Transition}\r\n                keepMounted\r\n                // onClose={props.handleClose}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-slide-title\"> {content.dispo}  </DialogTitle>\r\n                <DialogContent>\r\n                     <CalendarAvailability {...props} setSelectedHour={setDetails} />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <div>\r\n                        {!selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm' ).calendar()}\r\n                    </div>\r\n                    <div>\r\n                        <Button onClick={props.handleClose} color=\"transparent\">\r\n                            {content.cancel}\r\n                        </Button>\r\n                        <Button disabled={!selectedHour} onClick={validateTime} color=\"primary\">\r\n                            {content.confirm}\r\n                        </Button>\r\n                    </div>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}
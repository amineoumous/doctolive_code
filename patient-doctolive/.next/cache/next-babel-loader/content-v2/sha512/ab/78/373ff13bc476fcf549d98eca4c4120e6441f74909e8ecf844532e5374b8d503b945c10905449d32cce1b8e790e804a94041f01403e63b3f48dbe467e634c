{"ast":null,"code":"import _toConsumableArray from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\pages\\\\account\\\\appointments\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport Link from 'next/link';\nimport Config from './../../../EndPoint';\nimport moment from 'moment';\nimport Button from './../../../components/CustomButtons/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { BsX, BsFillCameraVideoFill } from 'react-icons/bs';\nimport { MdUpdate } from 'react-icons/md';\nimport { useAuth } from './../../../context/AuthContext';\nimport { useRouter } from 'next/router';\nimport MapAccess from './../../../components/MedecinWidget/MapAccess';\nimport CalendarAvailability from './../../../components/MedecinWidget/CalendarAvailability';\nimport contentFR from './../../../contentFR';\nimport contentEN from './../../../contentEN';\nimport contentAR from './../../../contentAR';\nvar Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, _objectSpread({\n    direction: \"up\",\n    ref: ref\n  }, props), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nfunction CardAppointment(_ref) {\n  var consultation = _ref.consultation,\n      app_id = _ref.app_id,\n      content = _ref.content;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: app_id == consultation.id ? \"card selected\" : \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), consultation.teleconsultation ? /*#__PURE__*/_jsxDEV(BsFillCameraVideoFill, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 53\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doctor-img\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: consultation.medecin.image ? \"\".concat(Config.BACKEND_URL, \"/\").concat(consultation.medecin.image) : \"/image/medecin/homme.jpg\",\n              className: \"img-fluid\",\n              alt: \"User Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doc-info-cont\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"  \", consultation.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"doc-name\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/doctor/\".concat(consultation.medecin.id),\n              children: [\"Dr. \", \"\".concat(consultation.medecin.nom, \" \").concat(consultation.medecin.prenom)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-action justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/account/appointments?app_id=\".concat(consultation.id),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link btn btn-primary\",\n            children: [\" \", content.appointments.cardApps.link, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_c3 = CardAppointment;\nexport default function Appointments() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      consultations = _useState[0],\n      setConsultations = _useState[1];\n\n  var _useState2 = useState(),\n      consultation = _useState2[0],\n      setConsultation = _useState2[1];\n\n  var router = useRouter();\n  var locale = router.locale;\n  var content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n  var app_id = router.query.app_id;\n\n  var _useAuth = useAuth(),\n      userData = _useAuth.userData;\n\n  console.log(userData);\n  useEffect(function () {\n    if (app_id) {\n      fetch(\"\".concat(Config.BACKEND_URL, \"/consultation/\").concat(app_id), {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': \"token \".concat(userData.token)\n        }\n      }).then(function (r) {\n        return r.json().then(function (res) {\n          if (!res.error) {\n            setConsultation(res.consultation);\n          }\n        })[\"catch\"](function (error) {});\n      })[\"catch\"](function (error) {});\n    } else {\n      setConsultation();\n    }\n\n    return function () {};\n  }, [app_id]);\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (userData.token) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", router.push('account/new'));\n\n          case 2:\n            _context.next = 4;\n            return fetch(\"\".concat(Config.BACKEND_URL, \"/patient/appointments/venir\"), {\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': \"token \".concat(userData.token)\n              }\n            });\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            data = _context.sent;\n            setConsultations(data.consultations);\n            return _context.abrupt(\"return\", function () {});\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var handleCanceledApp = function handleCanceledApp(id) {\n    var index = consultations.findIndex(function (cns) {\n      return cns.id === id;\n    });\n\n    if (index > -1) {\n      setConsultations(function (old) {\n        var cloneOld = _toConsumableArray(old);\n\n        cloneOld.splice(index, 1);\n        return cloneOld;\n      });\n    }\n  };\n\n  var handleUpdatedApp = function handleUpdatedApp(id, consultation) {\n    var index = consultations.findIndex(function (cns) {\n      return cns.id === id;\n    });\n\n    if (index > -1) {\n      setConsultations(function (old) {\n        var cloneOld = _toConsumableArray(old);\n\n        cloneOld[index] = consultation;\n        return cloneOld;\n      });\n    }\n  };\n\n  if (!consultations) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container section-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"  \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n\n  if (consultations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container section-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: [\" \", content.appointments.myapp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        children: [\" \", content.appointments.noApp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"m-0 justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/account/appointments/historique\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link black\",\n            children: [\" \", content.appointments.history, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link btn btn-primary\",\n            children: [\" \", content.appointments.takeapp, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"section-content-app\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"m-0 justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" \", content.appointments.myapp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"m-0 justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/account/appointments/historique\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"link black\",\n          children: [\" \", content.appointments.history, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"m-0\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"3\",\n        className: \"apointements-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient-appointments\",\n          children: consultations.map(function (consultation, index) {\n            return /*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center patient-appointment m-0\",\n              children: /*#__PURE__*/_jsxDEV(CardAppointment, {\n                content: content,\n                consultation: consultation,\n                handleUpdatedApp: handleUpdatedApp,\n                handleCanceledApp: handleCanceledApp,\n                app_id: app_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 41\n              }, _this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 37\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"9\",\n        children: !consultation ? null : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center patient-appointment m-0\",\n          children: /*#__PURE__*/_jsxDEV(CardDetailsAppointment, {\n            content: content,\n            consultation: consultation,\n            handleUpdatedApp: handleUpdatedApp,\n            handleCanceledApp: handleCanceledApp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Appointments, \"fAn/lzgt2Rif4MLUb49u+OfcKaQ=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c4 = Appointments;\n\nfunction CardDetailsAppointment(_ref3) {\n  _s2();\n\n  var _consultation$medecin, _consultation$medecin2, _consultation$medecin3, _consultation$medecin4;\n\n  var consultation = _ref3.consultation,\n      handleCanceledApp = _ref3.handleCanceledApp,\n      content = _ref3.content,\n      handleUpdatedApp = _ref3.handleUpdatedApp;\n\n  var _useAuth2 = useAuth(),\n      userData = _useAuth2.userData;\n\n  var _useState3 = useState(false),\n      ShowonfirmCancel = _useState3[0],\n      setConfirmCancel = _useState3[1];\n\n  var _useState4 = useState(false),\n      ShowonfirmUpdate = _useState4[0],\n      setConfirmUpdate = _useState4[1];\n\n  var _useState5 = useState(),\n      selectedHour = _useState5[0],\n      setSelectedHour = _useState5[1];\n\n  var _useState6 = useState(),\n      selectedDate = _useState6[0],\n      setSelectedDate = _useState6[1];\n\n  var setDetails = function setDetails(day, hour) {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  var cancelAppointement = function cancelAppointement() {\n    fetch(\"\".concat(Config.BACKEND_URL, \"/consultation/cancel/\").concat(consultation.id), {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(userData.token)\n      },\n      body: JSON.stringify({})\n    }).then(function (r) {\n      return r.json().then(function (res) {\n        if (!res.error) {\n          setConfirmCancel(false);\n          handleCanceledApp(consultation.id);\n        } else {\n          if (res.validator) {} else {}\n        }\n      });\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var validateTime = function validateTime() {\n    fetch(\"\".concat(Config.BACKEND_URL, \"/consultation/deplacer/\").concat(consultation.id), {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"token \".concat(userData.token)\n      },\n      body: JSON.stringify({\n        date: selectedDate,\n        time: selectedHour\n      })\n    }).then(function (r) {\n      return r.json().then(function (res) {\n        if (!res.error) {\n          setConfirmUpdate(false);\n          handleUpdatedApp(consultation.id, res.consultation);\n        } else {\n          if (res.validator) {} else {}\n        }\n      });\n    })[\"catch\"](function (error) {\n      console.log(error); // setResponse({sending: false, success:false, donneIncorecte:true})\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), consultation.teleconsultation ? /*#__PURE__*/_jsxDEV(BsFillCameraVideoFill, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 53\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"7\",\n            md: \"12\",\n            xs: \"12\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doctor-img\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: consultation.medecin.image ? \"\".concat(Config.BACKEND_URL, \"/\").concat(consultation.medecin.image) : \"/image/medecin/homme.jpg\",\n                    className: \"img-fluid\",\n                    alt: \"User Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doc-info-cont\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"  \", consultation.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"doc-name\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/doctor/\".concat(consultation.medecin.id),\n                    children: [\"Dr. \", \"\".concat(consultation.medecin.nom, \" \").concat(consultation.medecin.prenom)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 62\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doc-info-cont ml-5\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"contacts\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\" \", content.appointments.cardApp.accessInfos, \"   \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 49\n                    }, this), !consultation.medecin.adress ? \"Vous n'avez pas encore spécifier vos information d'accés\" : (consultation.medecin.adress.streetName ? consultation.medecin.adress.streetName : \"\") + \" \" + (consultation.medecin.adress.buildingName ? consultation.medecin.adress.buildingName : \"\") + \" \" + (consultation.medecin.adress.floor ? \"étage \" + consultation.medecin.adress.floor : \"\") + \" \" + (consultation.medecin.adress.sector ? consultation.medecin.adress.sector : \"\") + \", \" + (consultation.medecin.adress.codePostal ? consultation.medecin.adress.codePostal : \"\") + \" - \" + (consultation.medecin.city ? consultation.medecin.city.name : \"\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\" \", content.appointments.cardApp.secretariat, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 49\n                    }, this), consultation.medecin.phone, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"5\",\n            md: \"12\",\n            xs: \"12\",\n            className: \"order-sm-last\",\n            children: /*#__PURE__*/_jsxDEV(MapAccess, {\n              apiKey: Config.apiKey,\n              locations: [{\n                latitude: consultation === null || consultation === void 0 ? void 0 : (_consultation$medecin = consultation.medecin) === null || _consultation$medecin === void 0 ? void 0 : (_consultation$medecin2 = _consultation$medecin.adress) === null || _consultation$medecin2 === void 0 ? void 0 : _consultation$medecin2.latitude,\n                longitude: consultation === null || consultation === void 0 ? void 0 : (_consultation$medecin3 = consultation.medecin) === null || _consultation$medecin3 === void 0 ? void 0 : (_consultation$medecin4 = _consultation$medecin3.adress) === null || _consultation$medecin4 === void 0 ? void 0 : _consultation$medecin4.longitude\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), !consultation.teleconsultation ? null : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"  \", content.appointments.cardApp.click, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/consultation/\".concat(consultation.id),\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"link btn btn-primary\",\n                children: [\" \", content.appointments.cardApp.rejoindre, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-action\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: function onClick() {\n            return setConfirmUpdate(true);\n          },\n          color: \"transparent\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(MdUpdate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 89\n          }, this), \" \", content.appointments.cardApp.deplacer, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"transparent\",\n          onClick: function onClick() {\n            return setConfirmCancel(true);\n          },\n          style: {\n            color: \"#f1000f\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(BsX, {\n            size: \"32px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 114\n          }, this), \" \", content.appointments.cardApp.annuler, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: ShowonfirmCancel,\n      maxWidth: \"lg\" // fullWidth={true}\n      ,\n      TransitionComponent: Transition,\n      keepMounted: false,\n      onClose: function onClose() {\n        return setConfirmCancel(false);\n      },\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.appointments.cardApp.confirmCancel, \"  \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [content.appointments.cardApp.wantYou, \"  \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar(), \" \", content.appointments.cardApp[\"with\"], \" Dr. \", \"\".concat(consultation.medecin.nom, \" \").concat(consultation.medecin.prenom)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: function onClick() {\n            return setConfirmCancel(false);\n          },\n          color: \"transparent\",\n          children: content.appointments.cardApp.retour\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: cancelAppointement,\n          color: \"danger\",\n          children: content.appointments.cardApp.annuler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }, this), !ShowonfirmUpdate ? null : /*#__PURE__*/_jsxDEV(Dialog, {\n      open: ShowonfirmUpdate,\n      maxWidth: \"lg\",\n      TransitionComponent: Transition,\n      keepMounted: true,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.appointments.cardApp.docAvai, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(CalendarAvailability, {\n          showDisponibilite: consultation.medecin,\n          setSelectedHour: setDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: !selectedHour && !selectedDate ? null : content.appointments.cardApp.selecTtime + \" : \" + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: function onClick() {\n              setConfirmUpdate(false);\n            },\n            color: \"transparent\",\n            children: content.appointments.cardApp.retour\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !selectedHour,\n            onClick: validateTime,\n            color: \"primary\",\n            children: content.appointments.cardApp.confirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(CardDetailsAppointment, \"KkfwR/qyYMz+sZ4uRV274OXlems=\", false, function () {\n  return [useAuth];\n});\n\n_c5 = CardDetailsAppointment;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"CardAppointment\");\n$RefreshReg$(_c4, \"Appointments\");\n$RefreshReg$(_c5, \"CardDetailsAppointment\");","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/pages/account/appointments/index.js"],"names":["React","useState","useEffect","Col","Row","Link","Config","moment","Button","Dialog","DialogActions","DialogContent","DialogTitle","Slide","BsX","BsFillCameraVideoFill","MdUpdate","useAuth","useRouter","MapAccess","CalendarAvailability","contentFR","contentEN","contentAR","Transition","forwardRef","props","ref","CardAppointment","consultation","app_id","content","id","date","time","calendar","teleconsultation","medecin","image","BACKEND_URL","title","nom","prenom","appointments","cardApps","link","Appointments","consultations","setConsultations","setConsultation","router","locale","query","userData","console","log","fetch","headers","token","then","r","json","res","error","push","data","handleCanceledApp","index","findIndex","cns","old","cloneOld","splice","handleUpdatedApp","length","myapp","noApp","history","takeapp","map","CardDetailsAppointment","ShowonfirmCancel","setConfirmCancel","ShowonfirmUpdate","setConfirmUpdate","selectedHour","setSelectedHour","selectedDate","setSelectedDate","setDetails","day","hour","cancelAppointement","method","body","JSON","stringify","validator","validateTime","cardApp","accessInfos","adress","streetName","buildingName","floor","sector","codePostal","city","name","secretariat","phone","apiKey","latitude","longitude","click","rejoindre","deplacer","color","annuler","confirmCancel","wantYou","retour","docAvai","selecTtime","confirm"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport {Col, Row} from 'react-bootstrap'\r\nimport  Link  from 'next/link';\r\nimport Config from './../../../EndPoint'\r\nimport moment from 'moment'\r\nimport Button from './../../../components/CustomButtons/Button'\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n\r\nimport {BsX, BsFillCameraVideoFill} from 'react-icons/bs'\r\nimport {MdUpdate} from 'react-icons/md'\r\nimport { useAuth } from './../../../context/AuthContext';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport MapAccess from './../../../components/MedecinWidget/MapAccess'\r\nimport CalendarAvailability from './../../../components/MedecinWidget/CalendarAvailability'\r\n\r\n\r\nimport contentFR from './../../../contentFR'\r\nimport contentEN from './../../../contentEN'\r\nimport contentAR from './../../../contentAR'\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\nfunction CardAppointment({consultation, app_id, content}){\r\n\r\n    return (\r\n        <>\r\n            <div className={app_id == consultation.id ? \"card selected\" : \"card\"}>\r\n                <div className=\"card-header\">\r\n                    <h2 > {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()}</h2>\r\n                    {consultation.teleconsultation? <BsFillCameraVideoFill /> : null}\r\n                </div>\r\n                \r\n                <div className=\"card-body d-flex\">\r\n                    <div className=\"doctor-img\">\r\n                        <a >\r\n                            <img src={consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\" } className=\"img-fluid\" alt=\"User Image\" />\r\n                        </a>\r\n                    </div>\r\n                    <div  className=\"doc-info-cont\">\r\n                        <h4>  {consultation.title} </h4>\r\n                        <h5 className=\"doc-name\"><a href={`/doctor/${consultation.medecin.id}`}>Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}</a></h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-action justify-content-center\">\r\n                <Link href={`/account/appointments?app_id=${consultation.id}`}>\r\n                    <a className=\"link btn btn-primary\"> {content.appointments.cardApps.link} </a>\r\n                </Link>\r\n                </div>\r\n                {/* <div className=\"card-action\">\r\n                    <Button onClick={() => setConfirmUpdate(true)} color=\"transparent\"> <MdUpdate /> Déplacer </Button>\r\n                    <Button color=\"transparent\"onClick={() => setConfirmCancel(true)} style={{color:\"#f1000f\"}}> <BsX size= \"32px\" />  Annuler le rendez-vous </Button>\r\n                </div> */}\r\n            </div>\r\n           \r\n            \r\n        </>\r\n    )\r\n}\r\nexport default function Appointments() {\r\n    const [consultations, setConsultations ] = useState([]);\r\n    const [consultation, setConsultation ] = useState();\r\n\r\n    const router = useRouter();\r\n    const {locale} = router;\r\n    const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\r\n\r\n    const { app_id } = router.query\r\n    const {userData} = useAuth();\r\n    console.log(userData)\r\n    useEffect(() => {\r\n        if(app_id){\r\n            fetch(`${Config.BACKEND_URL}/consultation/${app_id}`,{\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `token ${userData.token}`,\r\n                }\r\n            })\r\n            .then( (r) => r.json()\r\n                .then(res => {\r\n                    if(!res.error){\r\n                        setConsultation(res.consultation)\r\n                    }\r\n                }).catch(error =>{ \r\n    \r\n                })\r\n            ).catch(error =>{ \r\n    \r\n            })\r\n            \r\n        }else {\r\n            setConsultation()\r\n        }\r\n       \r\n        return () => {\r\n            \r\n        }\r\n    }, [app_id])\r\n\r\n    useEffect( async () => {\r\n    \r\n        if(!userData.token) return router.push('account/new')\r\n\r\n        const res = await fetch(`${Config.BACKEND_URL}/patient/appointments/venir`, {\r\n            headers: {\r\n                'Accept': 'application/json', \r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n              },\r\n        })\r\n        const data = await res.json()\r\n        setConsultations(data.consultations)\r\n        return () => {\r\n            \r\n        }\r\n    }, [])\r\n    const handleCanceledApp = (id) => {\r\n        let index = consultations.findIndex(cns => cns.id === id);\r\n        if(index > -1){\r\n            setConsultations(old => {\r\n                let cloneOld = [...old];\r\n                cloneOld.splice(index, 1);\r\n                return cloneOld\r\n            })\r\n        }\r\n    }\r\n    const handleUpdatedApp = (id, consultation) => {\r\n        let index = consultations.findIndex(cns => cns.id === id);\r\n        if(index > -1){\r\n            setConsultations(old => {\r\n                let cloneOld = [...old];\r\n                cloneOld[index] = consultation;\r\n                return cloneOld\r\n            })\r\n        }\r\n    }\r\n    if( !consultations) return (\r\n        <div className=\"container section-content\">\r\n            <h1 className=\"text-center\">  </h1>\r\n            <div className=\"text-center\">\r\n               \r\n            </div>\r\n        </div>\r\n    )\r\n    if(consultations.length === 0){\r\n        return (\r\n            <div className=\"container section-content\">\r\n                <h1 className=\"text-center\"> {content.appointments.myapp} </h1>\r\n                <p className=\"text-center\"> {content.appointments.noApp} </p>\r\n                <Row className=\"m-0 justify-content-center\">\r\n                    <Link href={`/account/appointments/historique`}>\r\n                        <a className=\"link black\"> {content.appointments.history}  </a>\r\n                    </Link> \r\n                </Row>\r\n                <div className=\"text-center\">\r\n                    <Link href=\"/\">\r\n                        <a className=\"link btn btn-primary\"> {content.appointments.takeapp}  </a>\r\n                    </Link>\r\n                </div>\r\n            \r\n                \r\n                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"section-content-app\">\r\n            <Row className=\"m-0 justify-content-center\">\r\n                <h1 > {content.appointments.myapp} </h1>\r\n            </Row>\r\n            <Row className=\"m-0 justify-content-center\">\r\n                <Link href={`/account/appointments/historique`}>\r\n                    <a className=\"link black\"> {content.appointments.history} </a>\r\n                </Link> \r\n            </Row>\r\n            \r\n            <Row className=\"m-0\">\r\n                <Col lg=\"3\" className=\"apointements-left\">\r\n                    \r\n                    <div className=\"patient-appointments\">\r\n                        {\r\n                            consultations.map((consultation, index)=> {\r\n                                return(\r\n                                    <Row className=\"justify-content-center patient-appointment m-0\" key={index}>\r\n                                        <CardAppointment content={content} consultation={consultation} handleUpdatedApp= {handleUpdatedApp} handleCanceledApp={handleCanceledApp} app_id={app_id} />\r\n                                    </Row>\r\n                                )\r\n                            })\r\n\r\n                        }\r\n                    </div>\r\n                </Col>\r\n                <Col lg=\"9\" >\r\n                    {\r\n                        ! consultation ? null :\r\n                        <Row className=\"justify-content-center patient-appointment m-0\" >\r\n                            <CardDetailsAppointment content={content} consultation={consultation} handleUpdatedApp= {handleUpdatedApp} handleCanceledApp={handleCanceledApp} />\r\n                        </Row>\r\n                    }\r\n                \r\n                </Col>\r\n            </Row>\r\n            \r\n            \r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\nfunction CardDetailsAppointment({consultation, handleCanceledApp, content, handleUpdatedApp}){\r\n    const {userData} = useAuth();\r\n    const [ShowonfirmCancel, setConfirmCancel] = useState(false);\r\n    const [ShowonfirmUpdate, setConfirmUpdate] = useState(false);\r\n    const [selectedHour, setSelectedHour] = useState()\r\n    const [selectedDate, setSelectedDate] = useState()\r\n\r\n\r\n    const setDetails = (day, hour) => {\r\n        setSelectedDate(day);\r\n        setSelectedHour(hour)\r\n    }\r\n\r\n    const cancelAppointement = () => {\r\n        fetch(`${Config.BACKEND_URL}/consultation/cancel/${consultation.id}`,{\r\n            method:\"PATCH\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n            },\r\n            body:JSON.stringify({})\r\n        })\r\n        .then(\r\n            (r) => r.json()\r\n            .then(res => {\r\n\r\n                if(!res.error){\r\n                    setConfirmCancel(false);\r\n                    handleCanceledApp(consultation.id)\r\n                }else {\r\n                    if(res.validator){\r\n\r\n                    }else{\r\n\r\n                    }\r\n                }\r\n           \r\n            })\r\n            ).catch(error =>{ \r\n                console.log(error)\r\n            })\r\n    }\r\n    const validateTime =() => {\r\n        fetch(`${Config.BACKEND_URL}/consultation/deplacer/${consultation.id}`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n            },\r\n            body:JSON.stringify({date: selectedDate, time: selectedHour })\r\n        })\r\n        .then(\r\n            (r) => r.json()\r\n            .then(res => {\r\n                if(!res.error){\r\n                    setConfirmUpdate(false);\r\n                    handleUpdatedApp(consultation.id, res.consultation)\r\n                }else {\r\n                    if(res.validator){\r\n\r\n                    }else{\r\n\r\n                    }\r\n                }\r\n           \r\n            })\r\n        ).catch(error =>{ \r\n            console.log(error)\r\n                // setResponse({sending: false, success:false, donneIncorecte:true})\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h2 > {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()}</h2>\r\n                    {consultation.teleconsultation? <BsFillCameraVideoFill /> : null}\r\n                </div>\r\n                \r\n                <div className=\"card-body\">\r\n                    <Row>\r\n\r\n                    \r\n                        <Col lg=\"7\" md=\"12\" xs=\"12\">\r\n                            <Row>   \r\n                                <div className=\"doctor-img\">\r\n                                    <a >\r\n                                        <img src={consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\" } className=\"img-fluid\" alt=\"User Image\" />\r\n                                    </a>\r\n                                </div>\r\n                                <div  className=\"doc-info-cont\">\r\n                                    <h4>  {consultation.title} </h4>\r\n                                    <h5 className=\"doc-name\"><a href={`/doctor/${consultation.medecin.id}`}>Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}</a></h5>\r\n                                </div>\r\n                                \r\n                                <div  className=\"doc-info-cont ml-5\">\r\n                                    <ul className=\"contacts\">\r\n                                            <li>\r\n                                                <h6> {content.appointments.cardApp.accessInfos}   </h6> \r\n                                                {\r\n                                                    !consultation.medecin.adress ? \r\n                                                    \"Vous n'avez pas encore spécifier vos information d'accés\" : \r\n                                                    (consultation.medecin.adress.streetName? consultation.medecin.adress.streetName : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.buildingName? consultation.medecin.adress.buildingName : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.floor? \"étage \" + consultation.medecin.adress.floor : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.sector? consultation.medecin.adress.sector : \"\") + \", \" + \r\n                                                    (consultation.medecin.adress.codePostal? consultation.medecin.adress.codePostal : \"\") + \" - \" + \r\n                                                    (consultation.medecin.city ? consultation.medecin.city.name  : \"\") \r\n                                                } \r\n                                            </li>\r\n                                            <li><h6> {content.appointments.cardApp.secretariat} </h6>{consultation.medecin.phone} </li>\r\n                                        </ul>\r\n                                </div>\r\n\r\n                            </Row>\r\n                            \r\n                        </Col>\r\n                            \r\n                        <Col lg=\"5\" md=\"12\" xs=\"12\" className=\"order-sm-last\">\r\n                            <MapAccess apiKey={Config.apiKey} locations={[{latitude: consultation?.medecin?.adress?.latitude, longitude: consultation?.medecin?.adress?.longitude}]} />\r\n                        </Col>\r\n                        </Row>  \r\n                        \r\n                        {! consultation.teleconsultation?  null:\r\n                            <Row className=\"mt-5\">\r\n                                <Col md=\"6\">\r\n                                    <p>  {content.appointments.cardApp.click} </p>\r\n                                </Col>\r\n                                <Col  md=\"6\">\r\n                                <Link href={`/consultation/${consultation.id}`}>\r\n                                    <a className=\"link btn btn-primary\"> {content.appointments.cardApp.rejoindre} </a>\r\n                                </Link> \r\n                                </Col>\r\n                            </Row>\r\n                        }                    \r\n                </div>\r\n                <div className=\"card-action\">\r\n                    <Button onClick={() => setConfirmUpdate(true)} color=\"transparent\"> <MdUpdate /> {content.appointments.cardApp.deplacer} </Button>\r\n                    <Button color=\"transparent\"onClick={() => setConfirmCancel(true)} style={{color:\"#f1000f\"}}> <BsX size= \"32px\" /> {content.appointments.cardApp.annuler} </Button>\r\n                </div>\r\n            </div>\r\n            <Dialog\r\n                open={ShowonfirmCancel}\r\n                maxWidth=\"lg\"\r\n                // fullWidth={true}\r\n                TransitionComponent={Transition}\r\n                keepMounted={false}\r\n                onClose={() => setConfirmCancel(false)}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-slide-title\"> {content.appointments.cardApp.confirmCancel}  </DialogTitle>\r\n                <DialogContent>\r\n                {content.appointments.cardApp.wantYou}  {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()} {content.appointments.cardApp.with} Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}\r\n                </DialogContent>\r\n                <DialogActions>                        \r\n                        <Button onClick={() => setConfirmCancel(false)} color=\"transparent\">\r\n                            {content.appointments.cardApp.retour}\r\n                        </Button>\r\n                        <Button onClick={cancelAppointement} color=\"danger\">\r\n                            {content.appointments.cardApp.annuler}\r\n                        </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            {\r\n                !ShowonfirmUpdate? null :\r\n                <Dialog\r\n                    open={ShowonfirmUpdate}\r\n                    maxWidth=\"lg\"\r\n                    TransitionComponent={Transition}\r\n                    keepMounted\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\"> {content.appointments.cardApp.docAvai} </DialogTitle>\r\n                    <DialogContent>\r\n                        <CalendarAvailability showDisponibilite={consultation.medecin}  setSelectedHour={setDetails} />\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <div>\r\n\r\n                            {!selectedHour && !selectedDate ? null : content.appointments.cardApp.selecTtime + \" : \" + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm' ).calendar()}\r\n                        </div>\r\n                        <div>\r\n                            <Button onClick={() => {setConfirmUpdate(false)}} color=\"transparent\">\r\n                                {content.appointments.cardApp.retour}\r\n                            </Button>\r\n                            <Button disabled={!selectedHour} onClick={validateTime} color=\"primary\">\r\n                                {content.appointments.cardApp.confirm}\r\n                            </Button>\r\n                        </div>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            }\r\n            \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}
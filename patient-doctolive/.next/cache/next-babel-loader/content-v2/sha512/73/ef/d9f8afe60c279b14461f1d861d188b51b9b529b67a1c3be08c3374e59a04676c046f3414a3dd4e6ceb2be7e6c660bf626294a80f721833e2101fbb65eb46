{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { Button, TextField, FormControlLabel, Checkbox, Box, Typography, Container } from '@material-ui/core';\nimport Config from './../EndPoint';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRouter } from 'next/router';\nimport contentFR from './../contentFR';\nimport contentEN from './../contentEN';\nimport contentAR from './../contentAR';\nimport { Row, Collapse, Alert } from 'react-bootstrap';\nvar useOutlinedInputStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      \"& $notchedOutline\": {\n        borderColor: \"#38869C\",\n        borderWidth: \"2px !important\"\n      },\n      \"&:hover $notchedOutline\": {\n        borderColor: \"#38869C\",\n        borderWidth: \"2px !important\"\n      },\n      \"&$focused $notchedOutline\": {\n        borderColor: \"#38869C\",\n        borderWidth: \"2px !important\"\n      }\n    },\n    focused: {},\n    notchedOutline: {}\n  };\n});\nvar useStyles = makeStyles(function (theme) {\n  return {\n    paper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    textField: {\n      borderRadius: 13,\n      borderColor: \"#38869C\",\n      color: \"#61788E\"\n    },\n    text_info: {\n      color: \"#61788E\",\n      fontSize: 14,\n      fontWeight: 500\n    },\n    notchedOutline: {\n      borderColor: '#38869C !important',\n      borderWidth: \"2px !important\"\n    }\n  };\n});\nexport default function AuthForm(props) {\n  _s();\n\n  var classes = useStyles();\n  var router = useRouter();\n  var locale = router.locale;\n  var content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      emailError = _useState3[0],\n      setEmailError = _useState3[1];\n\n  var _useState4 = useState(false),\n      passwordError = _useState4[0],\n      setPasswordError = _useState4[1];\n\n  var _useState5 = useState(\"Information incorrect\"),\n      messageError = _useState5[0],\n      setErrorMessage = _useState5[1];\n\n  var _useState6 = useState({\n    sending: false,\n    success: false,\n    donneIncorecte: false\n  }),\n      response = _useState6[0],\n      setResponse = _useState6[1];\n\n  var validateField = function validateField(e) {\n    if (e.target.name === \"email\") {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      var emailErr = !re.test(String(email).toLowerCase());\n      setEmailError(emailErr);\n    } else if (e.target.name === \"password\") {\n      var passwordLeng = password.length;\n      setPasswordError(passwordLeng < 8);\n    }\n  };\n\n  var submiting = function submiting(e) {\n    e.preventDefault();\n    setResponse(function (old) {\n      return _objectSpread(_objectSpread({}, old), {}, {\n        sending: true\n      });\n    });\n    alert(\"jj\");\n\n    if (!emailError && !passwordError) {\n      alert(\"jj1\");\n      var data = {\n        email: email,\n        password: password\n      };\n      fetch(\"\".concat(Config.BACKEND_URL, \"/patient/auth\"), {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(_objectSpread({}, data))\n      }).then(function (r) {\n        return r.json().then(function (res) {\n          console.log(res);\n\n          if (!res.error) {\n            props.submiting(res);\n            setResponse({\n              sending: false,\n              success: true,\n              donneIncorecte: false\n            });\n          } else {\n            setResponse({\n              sending: false,\n              success: false,\n              donneIncorecte: true\n            });\n\n            if (res.validator) {} else {\n              setErrorMessage(res.message);\n            }\n          }\n        })[\"catch\"](function (e) {\n          console.log(e.response);\n          setResponse({\n            sending: false,\n            success: false,\n            donneIncorecte: true\n          });\n\n          if (e.response.data.error) {\n            setErrorMessage(e.response.data.message);\n          } else {\n            setErrorMessage(\"Une éreur inconue est survenue\");\n          }\n        });\n      })[\"catch\"](function (e) {\n        console.log(e.response);\n        setResponse({\n          sending: false,\n          success: false,\n          donneIncorecte: true\n        });\n\n        if (e.response.data.error) {\n          setErrorMessage(e.response.data.message);\n        } else {\n          setErrorMessage(\"Une éreur inconue est survenue\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: function onSubmit(e) {\n          return submiting(e, {\n            email: email,\n            password: password\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          value: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          },\n          error: emailError,\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          InputProps: {\n            classes: {\n              notchedOutline: classes.notchedOutline\n            },\n            style: {\n              borderRadius: \"10px\"\n            }\n          },\n          InputLabelProps: {\n            style: {\n              color: '#61788E'\n            }\n          },\n          id: \"email\",\n          variant: \"outlined\",\n          onBlur: validateField,\n          label: content[\"new\"].emailLabel,\n          name: \"email\",\n          autoComplete: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          value: password,\n          variant: \"outlined\",\n          onChange: function onChange(e) {\n            return setPassword(e.target.value);\n          },\n          error: passwordError,\n          required: true,\n          fullWidth: true,\n          onBlur: validateField,\n          InputProps: {\n            classes: {\n              notchedOutline: classes.notchedOutline\n            },\n            style: {\n              borderRadius: \"10px\"\n            }\n          },\n          InputLabelProps: {\n            style: {\n              color: '#61788E'\n            }\n          },\n          name: \"password\",\n          label: content[\"new\"].passLabel,\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          children: content[\"new\"].signin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 8,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          \"in\": response.donneIncorecte,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"example-collapse-text\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              children: [\" \", messageError, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthForm, \"hmre8EMf0mwaZLyCHCQivohviCw=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = AuthForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/components/Login.js"],"names":["React","useState","Button","TextField","FormControlLabel","Checkbox","Box","Typography","Container","Config","makeStyles","useRouter","contentFR","contentEN","contentAR","Row","Collapse","Alert","useOutlinedInputStyles","theme","root","borderColor","borderWidth","focused","notchedOutline","useStyles","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","textField","borderRadius","color","text_info","fontSize","fontWeight","AuthForm","props","classes","router","locale","content","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","messageError","setErrorMessage","sending","success","donneIncorecte","response","setResponse","validateField","e","target","name","re","emailErr","test","String","toLowerCase","passwordLeng","length","submiting","preventDefault","old","alert","data","fetch","BACKEND_URL","method","headers","body","JSON","stringify","then","r","json","res","console","log","error","validator","message","value","style","emailLabel","passLabel","signin"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\n\r\nimport { Button, TextField, FormControlLabel, Checkbox, Box, Typography, Container} from '@material-ui/core';\r\nimport Config from './../EndPoint'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { useRouter } from 'next/router'\r\n\r\n\r\nimport contentFR from './../contentFR'\r\nimport contentEN from './../contentEN'\r\nimport contentAR from './../contentAR'\r\n\r\nimport {Row, Collapse, Alert} from 'react-bootstrap'\r\n\r\n\r\nconst useOutlinedInputStyles = makeStyles(theme => ({\r\n  root: {\r\n    \"& $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    },\r\n    \"&:hover $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    },\r\n    \"&$focused $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    }\r\n  },\r\n  focused: {},\r\n  notchedOutline: {}\r\n}));\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    \r\n  },\r\n\r\n  textField: {\r\n    borderRadius:13,\r\n    borderColor:\"#38869C\",\r\n    color:\"#61788E\"\r\n },\r\n text_info:{\r\n     color:\"#61788E\",\r\n     fontSize:14,fontWeight:500\r\n },\r\n notchedOutline: { borderColor: '#38869C !important',borderWidth:\"2px !important\" }\r\n}));\r\n\r\n\r\nexport default function AuthForm(props){\r\n  const classes = useStyles();\r\n  const router = useRouter();\r\n\r\n\r\n    const {locale} = router;\r\n    const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [emailError, setEmailError]= useState(false)\r\n  const [passwordError, setPasswordError]= useState(false)\r\n  const [messageError, setErrorMessage] = useState(\"Information incorrect\")\r\n\r\n  const [response, setResponse] = useState({\r\n    sending:false,\r\n    success:false,   \r\n    donneIncorecte: false                 \r\n  })\r\n\r\n  const validateField = (e) => {\r\n    if(e.target.name === \"email\"){\r\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      let emailErr = ! re.test(String(email).toLowerCase());\r\n      \r\n      setEmailError(emailErr);\r\n    }\r\n    else  if(e.target.name === \"password\"){\r\n      let passwordLeng = password.length ;\r\n      setPasswordError(passwordLeng < 8);\r\n      \r\n    }\r\n\r\n  }\r\n\r\n  const submiting = (e) => {\r\n    e.preventDefault();\r\n        setResponse(old =>  { return {...old, sending: true}});\r\nalert(\"jj\");\r\n        if(!emailError && !passwordError){\r\nalert(\"jj1\");\r\n\r\n          let data = {email, password};\r\n\r\n          fetch(`${Config.BACKEND_URL}/patient/auth`,{\r\n              method:\"post\",\r\n              headers: {\r\n                  'Content-Type': 'application/json',\r\n              },\r\n              body:JSON.stringify({...data})\r\n          })\r\n          .then(\r\n              (r) => r.json()\r\n              .then(res => {\r\n                console.log(res)\r\n                  if(!res.error){\r\n                      props.submiting(res);\r\n                      setResponse({sending: false, success:true, donneIncorecte: false});\r\n                  }else {\r\n                      setResponse({sending: false, success:false, donneIncorecte:true})\r\n                      if(res.validator){\r\n  \r\n                      }else{\r\n                        setErrorMessage(res.message)\r\n                      }\r\n                  }\r\n             \r\n              })\r\n              .catch(e =>{ \r\n                console.log(e.response)\r\n                  setResponse({sending: false, success:false, donneIncorecte:true})\r\n                  if(e.response.data.error){\r\n                    setErrorMessage(e.response.data.message)\r\n                  }else {\r\n                    setErrorMessage(\"Une éreur inconue est survenue\")\r\n                  }\r\n              })\r\n              )\r\n              .catch(e =>{ \r\n                console.log(e.response)\r\n                  setResponse({sending: false, success:false, donneIncorecte:true})\r\n                  if(e.response.data.error){\r\n                    setErrorMessage(e.response.data.message)\r\n                  }else {\r\n                    setErrorMessage(\"Une éreur inconue est survenue\")\r\n                  }\r\n              })\r\n        }\r\n        \r\n  }\r\n  return(\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <div className={classes.paper}>\r\n        {/* <Typography component=\"h1\" variant=\"h5\"> {content.new.auth} </Typography> */}\r\n        <form className={classes.form} onSubmit={(e) => submiting(e, {email, password})}>\r\n          <TextField\r\n            value= {email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            error={emailError}\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            InputProps={{\r\n              classes: {\r\n                  notchedOutline: classes.notchedOutline\r\n              },\r\n              style: {\r\n                borderRadius: \"10px\"\r\n              }\r\n            }}\r\n            InputLabelProps={{\r\n              style: { color: '#61788E' },\r\n            }}\r\n            id=\"email\"\r\n            variant=\"outlined\"\r\n            onBlur={validateField} \r\n            label={content.new.emailLabel}\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            value={password}\r\n            variant=\"outlined\"\r\n            onChange={ (e) => setPassword(e.target.value)}\r\n            error={passwordError}\r\n            required\r\n            fullWidth\r\n            onBlur={validateField} \r\n            InputProps={{\r\n              classes: {\r\n                  notchedOutline: classes.notchedOutline\r\n              },\r\n              style: {\r\n                borderRadius: \"10px\"\r\n              }\r\n            }}\r\n            InputLabelProps={{\r\n              style: { color: '#61788E' },\r\n            }}\r\n            name=\"password\"\r\n            label={content.new.passLabel}\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n           {content.new.signin}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n      <Row className=\"justify-content-center\">\r\n              <Collapse in={response.donneIncorecte} >\r\n                    <div id=\"example-collapse-text\">\r\n                      <Alert variant=\"danger\"> {messageError} </Alert>\r\n                    </div>\r\n                </Collapse>\r\n            </Row>\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
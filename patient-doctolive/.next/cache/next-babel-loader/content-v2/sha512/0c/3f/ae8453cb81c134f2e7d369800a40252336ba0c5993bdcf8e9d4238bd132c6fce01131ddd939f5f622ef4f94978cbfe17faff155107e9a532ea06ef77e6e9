{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport Config from './../../../EndPoint';\nimport { useAppContext } from './../../../context/AppointementContext';\nimport { MdVideocam } from 'react-icons/md';\nimport ReactFancyBox from './../../../components/fancyBox/fancybox/ReactFancyBox';\nimport Button from './../../../components/CustomButtons/Button';\nimport CalendarAvailability from './../../../components/MedecinWidget/CalendarAvailability';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { AiOutlineCheckCircle } from 'react-icons/ai';\nimport GraduateIcon from './../../../assets/icons/svgr/Experience';\nimport Persson from './../../../assets/icons/svgr/User';\nimport Cash from './../../../assets/icons/svgr/Money';\nimport Clock from './../../../assets/icons/svgr/Clock';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport moment from 'moment';\nimport TimeLine from './../../../components/TimeLine';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport contentFR from './../../../contentFR';\nimport contentEN from './../../../contentEN';\nimport contentAR from './../../../contentAR';\nexport default function ProfilMedecin({\n  medecinInfo\n}) {\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const {\n    0: showDisponibilite,\n    1: setShowDisponibilite\n  } = useState();\n  const {\n    0: showMap,\n    1: setShowMap\n  } = useState(false);\n  const content = locale === \"ar\" ? contentAR.profilPage : locale === \"en\" ? contentEN.profilPage : contentFR.profilPage;\n  const medecinInfos = medecinInfo ? medecinInfo : {\n    specialites: [],\n    tarifs: [],\n    diplomes: [],\n    info: {},\n    horaires: []\n  };\n  return /*#__PURE__*/_jsx(Container, {\n    children: /*#__PURE__*/_jsxs(Row, {\n      className: \"pt-5 mt-5\",\n      children: [/*#__PURE__*/_jsx(Col, {\n        xs: \"12\",\n        md: \"12\",\n        lg: \"12\",\n        xl: \"3\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"aside\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"sidebar-profil\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"profil-content\",\n              children: [/*#__PURE__*/_jsx(\"figure\", {\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: !medecinInfos.image ? \"/image/medecin/homme.jpg\" : `${Config.BACKEND_URL}/${medecinInfos.image}`,\n                  alt: \"\",\n                  className: \"img-fluid\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"medecin-details\",\n                children: [/*#__PURE__*/_jsxs(\"h3\", {\n                  children: [\"DR. \" + medecinInfos.nom + ' ' + medecinInfos.prenom, \" \"]\n                }), !medecinInfos.teleconsultationIsDisponible ? null : /*#__PURE__*/_jsxs(\"h4\", {\n                  children: [\" \", /*#__PURE__*/_jsxs(\"span\", {\n                    children: [\" \", /*#__PURE__*/_jsx(MdVideocam, {}), \" \", content.availableVideo, \" \"]\n                  }), \" \"]\n                }), /*#__PURE__*/_jsxs(\"ul\", {\n                  className: \"contacts\",\n                  children: [/*#__PURE__*/_jsxs(\"li\", {\n                    children: [/*#__PURE__*/_jsxs(\"h6\", {\n                      children: [\" \", content.profilPage, \" \"]\n                    }), !medecinInfos.adress ? \"Vous n'avez pas encore spécidier vos information d'accés\" : (medecinInfos.adress.streetName ? medecinInfos.adress.streetName : \"\") + \" \" + (medecinInfos.adress.buildingName ? medecinInfos.adress.buildingName : \"\") + \" \" + (medecinInfos.adress.floor ? \"étage \" + medecinInfos.adress.floor : \"\") + \" \" + (medecinInfos.adress.sector ? medecinInfos.adress.sector : \"\") + \", \" + (medecinInfos.adress.codePostal ? medecinInfos.adress.codePostal : \"\") + \" - \" + (medecinInfos.city ? medecinInfos.city.name : \"\")]\n                  }), /*#__PURE__*/_jsxs(\"li\", {\n                    children: [/*#__PURE__*/_jsxs(\"h6\", {\n                      children: [\" \", content.secretariat, \" \"]\n                    }), medecinInfos.phone, \" \"]\n                  })]\n                })]\n              })]\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(Col, {\n        xs: \"12\",\n        md: \"12\",\n        lg: \"12\",\n        xl: \"9\",\n        className: \"\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"box_general\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsx(Row, {\n                  className: \"justify-content-around m-0\",\n                  children: medecinInfos.pictures.map((picture, index) => {\n                    return /*#__PURE__*/_jsx(\"div\", {\n                      className: \"cabinet-img-container ml-2\",\n                      children: /*#__PURE__*/_jsx(ReactFancyBox, {\n                        thumbnail: `${Config.BACKEND_URL}/${picture.path}`,\n                        showCloseBtn: false,\n                        image: `${Config.BACKEND_URL}/${picture.path}`\n                      })\n                    }, index);\n                  })\n                }), /*#__PURE__*/_jsxs(Row, {\n                  className: \"justify-content-around m-0\",\n                  children: [/*#__PURE__*/_jsxs(Button, {\n                    onClick: () => setShowDisponibilite(medecinInfos),\n                    color: \"primary\",\n                    children: [\" \", content.seeDispo, \" \"]\n                  }), /*#__PURE__*/_jsxs(Button, {\n                    onClick: () => setShowMap(true),\n                    color: \"primary\",\n                    children: [\" \", content.seeMap, \" \"]\n                  })]\n                })]\n              })\n            }), showDisponibilite ? /*#__PURE__*/_jsx(ShowDisponibilite, {\n              showDisponibilite: showDisponibilite,\n              medecin: medecinInfos,\n              handleClose: () => setShowDisponibilite(),\n              content: content\n            }) : null]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"indent_title_in\",\n            children: [/*#__PURE__*/_jsx(Persson, {}), /*#__PURE__*/_jsxs(\"h3\", {\n              children: [\" \", content.about, \" \"]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", content.general, \" \"]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"wrapper_indent\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", medecinInfos.presentation, \" \"]\n            }), /*#__PURE__*/_jsxs(\"h6\", {\n              children: [\" \", content.specialite, \" \"]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"bullets\",\n              children: medecinInfos.specialites.map((spec, index) => {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  children: [\" \", /*#__PURE__*/_jsxs(\"span\", {\n                    children: [\" \", /*#__PURE__*/_jsx(AiOutlineCheckCircle, {}), \" \"]\n                  }), \" \", spec.name]\n                }, index);\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"indent_title_in\",\n            children: [/*#__PURE__*/_jsx(GraduateIcon, {}), /*#__PURE__*/_jsx(\"h3\", {\n              children: content.parcour\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", content.descriptionPArc, \" \"]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"wrapper_indent\",\n            children: [/*#__PURE__*/_jsxs(\"h4\", {\n              children: [\" \", content.formation, \" \"]\n            }), /*#__PURE__*/_jsx(TimeLine, {\n              items: medecinInfos.diplomes.filter(dip => dip.type === \"education\")\n            }), /*#__PURE__*/_jsx(\"h4\", {\n              children: content.award\n            }), /*#__PURE__*/_jsx(TimeLine, {\n              items: medecinInfos.diplomes.filter(dip => dip.type === \"experience\")\n            }), /*#__PURE__*/_jsxs(\"h4\", {\n              children: [\" \", content.experience, \" \"]\n            }), /*#__PURE__*/_jsx(TimeLine, {\n              items: medecinInfos.diplomes.filter(dip => dip.type === \"award\")\n            })]\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"indent_title_in\",\n            children: [/*#__PURE__*/_jsx(Cash, {}), /*#__PURE__*/_jsxs(\"h3\", {\n              children: [\" \", content.tarif, \" \"]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", content.details, \" \"]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"wrapper_indent\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", content.honore, \" \"]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxs(\"table\", {\n                className: \"table table-striped\",\n                children: [/*#__PURE__*/_jsx(\"thead\", {\n                  children: /*#__PURE__*/_jsxs(\"tr\", {\n                    children: [/*#__PURE__*/_jsxs(\"th\", {\n                      children: [\" \", content.service, \" \"]\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: content.prix\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(\"tbody\", {\n                  children: medecinInfos.tarifs.map((tarif, index) => {\n                    return /*#__PURE__*/_jsxs(\"tr\", {\n                      children: [/*#__PURE__*/_jsx(\"td\", {\n                        children: tarif.name\n                      }), /*#__PURE__*/_jsxs(\"td\", {\n                        children: [tarif.price, \" MAD \"]\n                      })]\n                    }, index);\n                  })\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"indent_title_in\",\n            children: [/*#__PURE__*/_jsx(Clock, {}), /*#__PURE__*/_jsxs(\"h3\", {\n              children: [\" \", content.horaire, \" \"]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              children: [\" \", content.detailsHeures, \" \"]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"wrapper_indent\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"table-responsive\",\n              children: medecinInfos.horaires.map((horaire, index) => {\n                return /*#__PURE__*/_jsxs(\"time\", {\n                  className: \"d-flex\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    style: {\n                      flexBasis: 82\n                    },\n                    className: \"\",\n                    children: [horaire.jour, \" : \"]\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    style: {\n                      flex: \"1 0 0%\",\n                      paddingRight: 16\n                    },\n                    children: [!horaire.is_matin ? null : /*#__PURE__*/_jsxs(\"span\", {\n                      children: [moment(horaire.debut_matin, \"HH:mm:ss\").format('HH:mm'), \" - \", moment(horaire.fin_matin, \"HH:mm:ss\").format('HH:mm')]\n                    }), !horaire.is_soir ? null : /*#__PURE__*/_jsxs(\"span\", {\n                      children: [\", \", moment(horaire.debut_soir, \"HH:mm:ss\").format('HH:mm'), \" - \", moment(horaire.fin_soir, \"HH:mm:ss\").format('HH:mm')]\n                    })]\n                  })]\n                }, index);\n              })\n            })\n          })]\n        })\n      })]\n    })\n  });\n}\nexport async function getServerSideProps(context) {\n  const res = await fetch(`${Config.BACKEND_URL}/medecin/${context.params.id}`);\n  const data = await res.json();\n  console.log(data);\n  return {\n    props: {\n      medecinInfo: data.medecin\n    }\n  };\n}\nconst Transition = /*#__PURE__*/React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/_jsx(Slide, _objectSpread({\n    direction: \"up\",\n    ref: ref\n  }, props));\n});\n\nfunction ShowDisponibilite(props) {\n  const {\n    0: selectedHour,\n    1: setSelectedHour\n  } = useState();\n  const {\n    0: selectedDate,\n    1: setSelectedDate\n  } = useState();\n  const {\n    content\n  } = props;\n  const {\n    setUserTemporary\n  } = useAppContext();\n  const router = useRouter();\n\n  const validateTime = () => {\n    setUserTemporary({\n      date: selectedDate,\n      time: selectedHour,\n      medecinId: props.medecin.id\n    });\n    return router.push({\n      pathname: `/doctor/${props.showDisponibilite.id}/appointment`\n    });\n  };\n\n  const setDetails = (day, hour) => {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsxs(Dialog, {\n      open: true,\n      maxWidth: \"lg\" // fullWidth={true}\n      ,\n      style: props.locale === \"ar\" ? {\n        direction: \"rtl\",\n        textAlign: \"right\"\n      } : {\n        direction: \"ltr\"\n      },\n      TransitionComponent: Transition,\n      keepMounted: true // onClose={props.handleClose}\n      ,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxs(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.dispo, \"  \"]\n      }), /*#__PURE__*/_jsx(DialogContent, {\n        children: /*#__PURE__*/_jsx(CalendarAvailability, _objectSpread(_objectSpread({}, props), {}, {\n          setSelectedHour: setDetails\n        }))\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          children: !selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(Button, {\n            onClick: props.handleClose,\n            color: \"transparent\",\n            children: content.cancel\n          }), /*#__PURE__*/_jsx(Button, {\n            disabled: !selectedHour,\n            onClick: validateTime,\n            color: \"primary\",\n            children: content.confirm\n          })]\n        })]\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
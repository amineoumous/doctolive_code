{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\components\\\\Documents\\\\DocumentsC.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport { Row, Col, Collapse, Alert } from 'react-bootstrap';\nimport SubmitButton from './../../components/CustomButtons/SubmitButton.js'; // import AddIcon from '@material-ui/icons/Add';\n\nimport { useDropzone } from 'react-dropzone';\nimport { useAuth } from \"../../context/AuthContext\";\nimport Config from './../../EndPoint';\nimport { Typography } from '@material-ui/core';\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox';\nimport { TiDeleteOutline } from 'react-icons/ti';\nvar baseStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '40px 20px',\n  cursor: 'pointer',\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: '#eeeeee',\n  borderStyle: 'dashed',\n  backgroundColor: '#fafafa',\n  color: '#bdbdbd',\n  outline: 'none',\n  transition: 'border .24s ease-in-out'\n};\nvar activeStyle = {\n  borderColor: '#2196f3'\n};\nvar acceptStyle = {\n  borderColor: '#00e676'\n};\nvar rejectStyle = {\n  borderColor: '#ff1744'\n};\nexport default function Images(props) {\n  _s();\n\n  var _this = this;\n\n  var _useAuth = useAuth(),\n      userData = _useAuth.userData;\n\n  var _useState = useState({\n    success: false,\n    sending: false,\n    donneIncorrect: false\n  }),\n      etatRequest = _useState[0],\n      setEtatRequest = _useState[1];\n\n  var _useState2 = useState([]),\n      files = _useState2[0],\n      setFiles = _useState2[1];\n\n  var _useState3 = useState([]),\n      rejectedFiles = _useState3[0],\n      setRejectedFiles = _useState3[1];\n\n  var _useState4 = useState([]),\n      savedPictures = _useState4[0],\n      setSavedPictures = _useState4[1];\n\n  var _useState5 = useState([]),\n      canceledPictures = _useState5[0],\n      setCanceledPictures = _useState5[1];\n\n  useEffect(function () {\n    if (props.documents) {\n      setSavedPictures(props.documents);\n    }\n\n    return function () {};\n  }, [props.documents]);\n  useEffect(function () {\n    if (props.socket) {\n      props.socket.on('newDocuments', function (response) {\n        if (response.consultationId === props.consultation.id) {\n          setSavedPictures(function (oldPic) {\n            return [].concat(_toConsumableArray(oldPic), _toConsumableArray(response.uploadedFiles));\n          });\n        }\n      });\n    }\n\n    return function () {\n      if (props.socket) {\n        props.socket.removeAllListeners('newDocuments');\n      }\n    };\n  }, [props.socket]);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setEtatRequest(function (oldData) {\n                return _objectSpread(_objectSpread({}, oldData), {}, {\n                  sending: true\n                });\n              });\n              _context.prev = 2;\n              _context.next = 5;\n              return fetch(\"\".concat(Config.BACKEND_URL, \"/upload/document\"), {\n                method: 'POST',\n                body: JSON.stringify({\n                  data: files,\n                  consultation: props.consultation,\n                  sentTo: \"medecin\"\n                }),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json',\n                  'Authorization': \"token \".concat(userData.token)\n                }\n              });\n\n            case 5:\n              response = _context.sent;\n              response.json().then(function (uploadingFile) {\n                if (!uploadingFile.error) {\n                  setEtatRequest(function (oldData) {\n                    return _objectSpread(_objectSpread({}, oldData), {}, {\n                      sending: false,\n                      success: true\n                    });\n                  });\n\n                  if (uploadingFile.savedPictures.length > 0) {\n                    setSavedPictures(function (oldPic) {\n                      return [].concat(_toConsumableArray(oldPic), _toConsumableArray(uploadingFile.savedPictures));\n                    });\n                  }\n\n                  if (uploadingFile.canceledData.length > 0) {\n                    uploadingFile.canceledData.map(function (dd) {\n                      setCanceledPictures(function (oldData) {\n                        return [].concat(_toConsumableArray(oldData), [files[dd.index]]);\n                      });\n                    });\n                    setFiles([]);\n                    setRejectedFiles([]);\n                  } else {\n                    setFiles([]);\n                    setRejectedFiles([]);\n                  }\n\n                  props.socket.emit('newDocuments', {\n                    uploadedFiles: uploadingFile.savedPictures,\n                    consultationId: props.consultation.id,\n                    selectedUser: \"m\" + props.consultation.medecin.id\n                  }, function (response) {});\n                } else {\n                  setEtatRequest(function (oldData) {\n                    return _objectSpread(_objectSpread({}, oldData), {}, {\n                      sending: false,\n                      success: false,\n                      donneIncorrect: true\n                    });\n                  });\n                }\n              })[\"catch\"](function (err) {\n                setEtatRequest(function (oldData) {\n                  return _objectSpread(_objectSpread({}, oldData), {}, {\n                    sending: false,\n                    success: false,\n                    donneIncorrect: true\n                  });\n                });\n              });\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n              setEtatRequest(function (oldData) {\n                return _objectSpread(_objectSpread({}, oldData), {}, {\n                  sending: false,\n                  success: false,\n                  donneIncorrect: true\n                });\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var deleteImageHandle = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(file) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"\".concat(Config.BACKEND_URL, \"/upload/document\"), {\n                method: 'DELETE',\n                body: JSON.stringify({\n                  path: file.path,\n                  id: file.id\n                }),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json',\n                  'Authorization': \"token \".concat(userData.token)\n                }\n              });\n\n            case 2:\n              response = _context2.sent;\n              response.json().then(function (response) {\n                var index = savedPictures.findIndex(function (fl) {\n                  return fl.id === file.id;\n                });\n                setSavedPictures(function (oldFiles) {\n                  var clone = _toConsumableArray(oldFiles);\n\n                  clone.splice(index, 1);\n                  return clone;\n                });\n              })[\"catch\"](function (error) {});\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteImageHandle(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var removeImageHandle = function removeImageHandle(file) {\n    var index = files.findIndex(function (fl) {\n      return fl.id === file.id;\n    });\n    setFiles(function (oldFiles) {\n      var clone = _toConsumableArray(oldFiles);\n\n      clone.splice(index, 1);\n      return clone;\n    });\n  };\n\n  var onDrop = useCallback(function (acceptedFiles, rejectedFiles) {\n    rejectedFiles.map(function (rejectedFile) {\n      if (rejectedFile.file.type.split('/')[0] === \"image\") {\n        var reader = new FileReader();\n        reader.readAsDataURL(rejectedFile.file);\n\n        reader.onloadend = function () {\n          var newFile = {\n            filePath: reader.result,\n            realName: rejectedFile.file.name,\n            type: 'file',\n            fileType: rejectedFile.file.type.split('/')[0]\n          };\n          setRejectedFiles(function (existing) {\n            return [].concat(_toConsumableArray(existing), [{\n              file: newFile,\n              errors: rejectedFile.errors\n            }]);\n          });\n        };\n      } else {\n        var newFile = {\n          realName: rejectedFile.file.name,\n          type: 'file',\n          fileType: rejectedFile.file.type.split('/')[0]\n        };\n        setRejectedFiles(function (existing) {\n          return [].concat(_toConsumableArray(existing), [{\n            file: newFile,\n            errors: rejectedFile.errors\n          }]);\n        });\n      }\n    });\n    acceptedFiles.forEach(function (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        var newFile = {\n          filePath: reader.result,\n          realName: file.name,\n          type: 'file',\n          fileType: \"image\",\n          kind: file.type\n        };\n        setFiles(function (existing) {\n          return [].concat(_toConsumableArray(existing), [newFile]);\n        });\n      };\n    });\n  }, []);\n\n  var _useDropzone = useDropzone({\n    onDrop: onDrop,\n    accept: 'image/jpeg, image/png, image/jpg, application/pdf'\n  }),\n      getRootProps = _useDropzone.getRootProps,\n      getInputProps = _useDropzone.getInputProps,\n      isDragActive = _useDropzone.isDragActive,\n      isDragAccept = _useDropzone.isDragAccept,\n      isDragReject = _useDropzone.isDragReject;\n\n  var style = useMemo(function () {\n    return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, baseStyle), isDragActive ? activeStyle : {}), isDragAccept ? acceptStyle : {}), isDragReject ? rejectStyle : {});\n  }, [isDragActive, isDragReject, isDragAccept]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    autoComplete: \"off\",\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      children: [savedPictures.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h5\",\n          children: \" Documents d\\xE9j\\xE0 partager dans cette consultation \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }, this) : null, savedPictures.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"images-saved\",\n        children: savedPictures.map(function (file, index) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"mt-5\",\n            lg: \"2\",\n            md: \"4\",\n            xs: \"6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-saved\",\n              children: [file.type === \"application/pdf\" ? /*#__PURE__*/_jsxDEV(\"a\", {\n                href: Config.BACKEND_URL + file.path,\n                download: file.name,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: [\"  \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/image/pdf.png\",\n                  alt: \"...\",\n                  className: \"img-fluid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 151\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 45\n              }, _this) : /*#__PURE__*/_jsxDEV(ReactFancyBox, {\n                thumbnail: \"\".concat(Config.BACKEND_URL).concat(file.path),\n                showCloseBtn: false,\n                image: \"\".concat(Config.BACKEND_URL).concat(file.path)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: function onClick() {\n                  return deleteImageHandle(file);\n                },\n                className: \"delete-button\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(TiDeleteOutline, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 118\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 45\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 41\n            }, _this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 37\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center justify-content-around mt-4 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({}, getRootProps({\n          style: style,\n          className: \"dropzone\"\n        })), {}, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", _objectSpread({}, getInputProps()), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Glisser d\\xE9poser des fichiers ici ou\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \" PARCOURIR SUR MON ORDINATEUR \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 72\n          }, this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }, this), canceledPictures.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h5\",\n          color: \"error\",\n          children: \" Ces documents n'on pas pus s'enregistrer au sein de nos serveur. essayer ult\\xE9ri\\xE9rement o\\xF9 bien essayer d'autre images \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }, this) : null, canceledPictures.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"images-canceled\",\n        children: canceledPictures.map(function (file, index) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"mt-5\",\n            lg: \"2\",\n            md: \"4\",\n            xs: \"6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-canceled\",\n              children: /*#__PURE__*/_jsxDEV(ReactFancyBox, {\n                thumbnail: file.filePath,\n                showCloseBtn: false,\n                image: file.filePath\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 49\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 45\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"error\",\n                children: \" Le serveur n'a pas pus suporter ces fichier \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 45\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 45\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 41\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center justify-content-around mt-4 \",\n        children: files.map(function (file, index) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"mt-5\",\n            lg: \"6\",\n            md: \"6\",\n            xs: \"6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selecting-img-container\",\n              children: [/*#__PURE__*/_jsxDEV(ReactFancyBox, {\n                thumbnail: file.kind === \"application/pdf\" ? '/image/fileaccepted.png' : file.filePath,\n                showCloseBtn: false,\n                image: file.kind === \"application/pdf\" ? '/image/fileaccepted.png' : file.filePath\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 44\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: function onClick() {\n                  return removeImageHandle(file);\n                },\n                className: \"delete-button\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(TiDeleteOutline, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 117\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 44\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 40\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3\",\n                children: [\" \", file.realName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 44\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 40\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 36\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }, this), rejectedFiles.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h5\",\n          color: \"error\",\n          children: \" Fichier non acc\\xE9pter ils ne seront pas enregistrer sur le serveur \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center mt-4 \",\n        children: rejectedFiles.map(function (rejectedFile, index) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"\",\n            lg: \"6\",\n            md: \"12\",\n            xs: \"12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rejected-img-container\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/img/file-rejected.png\",\n                alt: \"fichier rejeter\",\n                className: \"img-fluid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 44\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 40\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3\",\n                children: rejectedFile.errors.map(function (err, ind) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: err.code === \"file-invalid-type\" ? /*#__PURE__*/_jsxDEV(Typography, {\n                      color: \"error\",\n                      children: [\" Ce fichier \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"type-file-span\",\n                        children: [\" \", rejectedFile.file.realName, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 126\n                      }, _this), \" est de type \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"type-file-span\",\n                        children: [\" \", rejectedFile.file.fileType, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 209\n                      }, _this), \" . Seulement les images \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"type-file-span\",\n                        children: \"png, jpg et jpeg et document pdf  \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 303\n                      }, _this), \"  sont acc\\xE9pter \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 87\n                    }, _this) : \"\"\n                  }, ind, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 49\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 44\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 40\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 36\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          \"in\": etatRequest.donneIncorecte,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              children: \"Un ou plusieur document n'a pas pus enregistrer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          \"in\": etatRequest.success,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"success\",\n              children: \"Les document sont enregistrer avec succ\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center justify-content-around mt-4 \",\n        children: /*#__PURE__*/_jsxDEV(SubmitButton, {\n          disabled: files.length <= 0,\n          sending: etatRequest.sending,\n          successRequest: etatRequest.success,\n          type: \"submit\",\n          color: \"primary\",\n          children: \" Enregistrer \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Images, \"bDsWQNv8v/Ab4SSr8C9QtMbWJOI=\", false, function () {\n  return [useAuth, useDropzone];\n});\n\n_c = Images;\n\nvar _c;\n\n$RefreshReg$(_c, \"Images\");","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/components/Documents/DocumentsC.js"],"names":["React","useState","useMemo","useEffect","useCallback","Row","Col","Collapse","Alert","SubmitButton","useDropzone","useAuth","Config","Typography","ReactFancyBox","TiDeleteOutline","baseStyle","flex","display","flexDirection","alignItems","padding","cursor","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","activeStyle","acceptStyle","rejectStyle","Images","props","userData","success","sending","donneIncorrect","etatRequest","setEtatRequest","files","setFiles","rejectedFiles","setRejectedFiles","savedPictures","setSavedPictures","canceledPictures","setCanceledPictures","documents","socket","on","response","consultationId","consultation","id","oldPic","uploadedFiles","removeAllListeners","handleSubmit","e","preventDefault","oldData","fetch","BACKEND_URL","method","body","JSON","stringify","data","sentTo","headers","token","json","then","uploadingFile","error","length","canceledData","map","dd","index","emit","selectedUser","medecin","err","console","log","deleteImageHandle","file","path","findIndex","fl","oldFiles","clone","splice","removeImageHandle","onDrop","acceptedFiles","rejectedFile","type","split","reader","FileReader","readAsDataURL","onloadend","newFile","filePath","result","realName","name","fileType","existing","errors","forEach","kind","accept","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","style","className","ind","code","donneIncorecte"],"mappings":"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","sourcesContent":["import React,{useState,useMemo, useEffect, useCallback} from 'react'\r\n\r\nimport {Row, Col, Collapse, Alert} from 'react-bootstrap'\r\n\r\nimport  SubmitButton  from './../../components/CustomButtons/SubmitButton.js';\r\n\r\n// import AddIcon from '@material-ui/icons/Add';\r\n\r\nimport {useDropzone} from 'react-dropzone'\r\n\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport Config from './../../EndPoint'\r\nimport {Typography} from '@material-ui/core'\r\n\r\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox'\r\nimport {TiDeleteOutline} from 'react-icons/ti'\r\n\r\nconst baseStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '40px 20px',\r\n    cursor: 'pointer',\r\n    borderWidth: 2,\r\n    borderRadius: 2,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#bdbdbd',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n  };\r\n  \r\n  const activeStyle = {\r\n    borderColor: '#2196f3'\r\n  };\r\n  \r\n  const acceptStyle = {\r\n    borderColor: '#00e676'\r\n  };\r\n  \r\n  const rejectStyle = {\r\n    borderColor: '#ff1744'\r\n  };\r\n\r\n  \r\nexport default function Images(props) {\r\n    const {userData} = useAuth();\r\n\r\n    const [etatRequest, setEtatRequest] = useState({success: false, sending:false, donneIncorrect: false});\r\n    const [files, setFiles] = useState([])\r\n    const [rejectedFiles, setRejectedFiles] = useState([]);\r\n    const [savedPictures, setSavedPictures] = useState([]);\r\n    const [canceledPictures, setCanceledPictures] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if(props.documents){\r\n            setSavedPictures(props.documents)  \r\n        }     \r\n        return () => {\r\n            \r\n        }\r\n    }, [props.documents])\r\n    useEffect(() => {\r\n        if(props.socket){\r\n            props.socket.on('newDocuments', (response)=> { \r\n                if(response.consultationId === props.consultation.id){\r\n                    setSavedPictures( oldPic => [...oldPic, ...response.uploadedFiles]);\r\n                }\r\n            });  \r\n        }\r\n\r\n        return () => {\r\n            if(props.socket){\r\n                props.socket.removeAllListeners('newDocuments')\r\n            }\r\n        }\r\n    }, [props.socket])\r\n\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        setEtatRequest(oldData => {return {...oldData, sending:true}});\r\n\r\n        try {\r\n            let response = await fetch(`${Config.BACKEND_URL}/upload/document`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ data: files, consultation: props.consultation, sentTo: \"medecin\" }),\r\n                headers: {\r\n                  'Accept': 'application/json', \r\n                  'Content-Type': 'application/json',\r\n                  'Authorization': `token ${userData.token}`,\r\n                },\r\n            });\r\n\r\n          response.json()\r\n          .then(uploadingFile =>{\r\n            if(!uploadingFile.error){\r\n                setEtatRequest(oldData => {return {...oldData, sending:false, success:true}});\r\n    \r\n                if(uploadingFile.savedPictures.length> 0){\r\n                    setSavedPictures( oldPic => [...oldPic, ...uploadingFile.savedPictures]);\r\n                }\r\n                if (uploadingFile.canceledData.length > 0) {\r\n                    uploadingFile.canceledData.map((dd) => {\r\n                        setCanceledPictures(oldData => [...oldData, files[dd.index]]);\r\n                    })                \r\n                    setFiles([])\r\n                    setRejectedFiles([])\r\n                }else {\r\n                    setFiles([])\r\n                    setRejectedFiles([])\r\n                }\r\n                props.socket.emit('newDocuments', { uploadedFiles: uploadingFile.savedPictures , consultationId: props.consultation.id, selectedUser:  \"m\" + props.consultation.medecin.id}, (response)=> { });  \r\n\r\n                \r\n\r\n            }else{\r\n                setEtatRequest(oldData => {return {...oldData, sending:false, success:false, donneIncorrect: true}}); \r\n            }\r\n      \r\n          }).catch(err => {\r\n            setEtatRequest(oldData => {return {...oldData, sending:false, success:false, donneIncorrect: true}}); \r\n          })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n                setEtatRequest(oldData => {return {...oldData, sending:false, success:false, donneIncorrect: true}}); \r\n         \r\n        }  \r\n    }\r\n    const deleteImageHandle = async (file) => {\r\n\r\n        let response = await fetch(`${Config.BACKEND_URL}/upload/document`, {\r\n            method: 'DELETE',\r\n            body: JSON.stringify({path: file.path, id: file.id}),\r\n            headers: {\r\n              'Accept': 'application/json', \r\n              'Content-Type': 'application/json',\r\n              'Authorization': `token ${userData.token}`,\r\n            },\r\n        });\r\n\r\n        response.json()\r\n        .then(response => {\r\n            let index = savedPictures.findIndex(fl => fl.id === file.id);\r\n\r\n            setSavedPictures(oldFiles => {\r\n                let clone = [...oldFiles]\r\n                clone.splice(index, 1);\r\n                return (clone)\r\n            })\r\n        })\r\n        .catch(error => {\r\n            \r\n        })\r\n    }\r\n\r\n    const removeImageHandle =  (file) => {\r\n        let index = files.findIndex(fl => fl.id === file.id);\r\n\r\n        setFiles(oldFiles => {\r\n            let clone = [...oldFiles]\r\n            clone.splice(index, 1);\r\n            return (clone)\r\n        })\r\n      \r\n    }\r\n\r\n    const onDrop = useCallback((acceptedFiles, rejectedFiles) => {\r\n        rejectedFiles.map(rejectedFile => {\r\n\r\n            if(rejectedFile.file.type.split('/')[0] === \"image\"){\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(rejectedFile.file);\r\n                reader.onloadend = () => {                    \r\n                    let newFile =  {filePath: reader.result, realName: rejectedFile.file.name, type: 'file', fileType: rejectedFile.file.type.split('/')[0]  }\r\n                    setRejectedFiles(existing => [...existing, {file: newFile, errors: rejectedFile.errors}])          \r\n                }\r\n            }else{\r\n                let newFile =  { realName: rejectedFile.file.name, type: 'file', fileType: rejectedFile.file.type.split('/')[0]  }\r\n                setRejectedFiles(existing => [...existing, {file: newFile, errors: rejectedFile.errors}])\r\n\r\n            }\r\n        })\r\n\r\n        acceptedFiles.forEach((file) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onloadend = () => {    \r\n                let newFile =  {filePath: reader.result, realName: file.name, type: 'file', fileType: \"image\", kind: file.type  }\r\n                setFiles(existing => [...existing, newFile])          \r\n            }\r\n        })      \r\n    }, [])\r\n\r\n    const { getRootProps,\r\n        getInputProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject\r\n    } = useDropzone({onDrop, accept: 'image/jpeg, image/png, image/jpg, application/pdf'})\r\n\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n      }), [\r\n        isDragActive,\r\n        isDragReject,\r\n        isDragAccept\r\n      ]);\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} autoComplete=\"off\">\r\n            \r\n                <Col>\r\n                    {   savedPictures.length > 0 ?\r\n                        <Row className=\"mb-3\">\r\n                            <Typography variant=\"h5\" component=\"h5\" > Documents dj partager dans cette consultation </Typography>\r\n                        </Row>\r\n                        : null\r\n                    }\r\n                    {\r\n                        savedPictures.length > 0 ?\r\n                        <Row className=\"images-saved\">\r\n                            { savedPictures.map((file, index) => {\r\n                                return (\r\n                                    <Col className=\"mt-5\" lg=\"2\" md=\"4\" xs=\"6\" key={index}>\r\n                                        <div className=\"image-saved\">\r\n                                            {file.type === \"application/pdf\" ?\r\n                                            <a href={Config.BACKEND_URL + file.path} download={file.name} target=\"_blank\" rel=\"noopener noreferrer\">  <img src='/image/pdf.png' alt=\"...\" className=\"img-fluid\" /> </a>\r\n                                            :\r\n                                            <ReactFancyBox\r\n                                                thumbnail={`${Config.BACKEND_URL}${file.path}`}\r\n                                                showCloseBtn={false}\r\n                                                image={`${Config.BACKEND_URL}${file.path}`}/>\r\n                                            }\r\n                                            <span onClick={() => deleteImageHandle(file)} className=\"delete-button\"> <TiDeleteOutline /> </span>                                            \r\n                                        </div>\r\n                                    </Col>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                        : null\r\n                    }                    \r\n                    <Row className=\"align-items-center justify-content-around mt-4 \">\r\n                       <div {...getRootProps({style, className:\"dropzone\"})}>\r\n                            <input {...getInputProps()} />\r\n                            <p>Glisser dposer des fichiers ici ou</p> <h4> PARCOURIR SUR MON ORDINATEUR </h4>\r\n                        </div>\r\n                    </Row>\r\n\r\n                    {   canceledPictures.length > 0 ?\r\n                        <Row className=\"mt-5\">\r\n                            <Typography variant=\"h5\" component=\"h5\" color=\"error\"> Ces documents n'on pas pus s'enregistrer au sein de nos serveur. essayer ultrirement o bien essayer d'autre images </Typography>\r\n                        </Row>\r\n                        : null\r\n                    }\r\n                    {\r\n                        canceledPictures.length > 0 ?\r\n                        <Row className=\"images-canceled\">\r\n                            { canceledPictures.map((file, index) => {\r\n                                    return (\r\n                                        <Col className=\"mt-5\" lg=\"2\" md=\"4\" xs=\"6\" key={index}>\r\n                                            <div className=\"image-canceled\">\r\n                                                {/* <img src={file.filePath} alt={file.realName} className=\"img-fluid\" /> */}\r\n                                                <ReactFancyBox\r\n                                                thumbnail={file.filePath}\r\n                                                showCloseBtn={false}\r\n                                                image={file.filePath}/>\r\n                                            </div>\r\n                                            <div>\r\n                                            <Typography color=\"error\" > Le serveur n'a pas pus suporter ces fichier </Typography>\r\n                                            </div>\r\n                                        </Col>\r\n                                    )\r\n                            })\r\n                            }\r\n                        </Row>\r\n                        : null\r\n                    }\r\n                    <Row className=\"align-items-center justify-content-around mt-4 \">\r\n                        {\r\n                           files.map((file, index) => {\r\n                                return (\r\n                                   <Col className=\"mt-5\" lg=\"6\" md=\"6\" xs=\"6\" key={index}>\r\n                                       <div className=\"selecting-img-container\">\r\n                                           {/* <img src={ file.kind === \"application/pdf\" ? '/image/fileaccepted.png' : file.filePath } alt={file.realName} className=\"img-fluid\" /> */}\r\n                                           <ReactFancyBox\r\n                                                thumbnail={file.kind === \"application/pdf\" ? '/image/fileaccepted.png' : file.filePath}\r\n                                                showCloseBtn={false}\r\n                                                image={file.kind === \"application/pdf\" ? '/image/fileaccepted.png' : file.filePath}/>\r\n                                           <span onClick={() => removeImageHandle(file)} className=\"delete-button\"> <TiDeleteOutline /> </span>\r\n                                       </div>\r\n                                       <div>\r\n                                           <p className=\"mt-3\"> {file.realName} </p>\r\n                                       </div>\r\n                                   </Col>\r\n                                )\r\n                           })\r\n                        }\r\n                    </Row>\r\n                    {   rejectedFiles.length > 0 ?\r\n                        <Row className=\"mt-5\">\r\n                            <Typography variant=\"h5\" component=\"h5\" color=\"error\" > Fichier non accpter ils ne seront pas enregistrer sur le serveur </Typography>\r\n                        </Row>\r\n                        : null\r\n                    }\r\n                    <Row className=\"align-items-center mt-4 \">\r\n                        {\r\n                            rejectedFiles.map((rejectedFile, index) => {\r\n                                return (\r\n                                   <Col className=\"\" lg=\"6\" md=\"12\" xs=\"12\" key={index}>\r\n                                       <div className=\"rejected-img-container\">\r\n                                           <img src={\"/img/file-rejected.png\"} alt={\"fichier rejeter\"} className=\"img-fluid\" />\r\n                                       </div>\r\n                                       <div>\r\n                                           <div className=\"mt-3\"> \r\n                                            { rejectedFile.errors.map((err, ind) => {\r\n                                               return(\r\n                                                <div key={ind}>\r\n                                                    {err.code===\"file-invalid-type\" ? <Typography color=\"error\" > Ce fichier <span className=\"type-file-span\"> {rejectedFile.file.realName} </span> est de type <span className=\"type-file-span\"> {rejectedFile.file.fileType} </span> . Seulement les images <span className=\"type-file-span\">png, jpg et jpeg et document pdf  </span>  sont accpter </Typography> : \"\"}\r\n                                                </div>\r\n                                               )\r\n                                            })} \r\n                                           </div>\r\n                                       </div>\r\n                                   </Col>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Row>\r\n                    <Row>\r\n                        <Collapse in={ etatRequest.donneIncorecte}>\r\n                            <div>\r\n                                <Alert  variant=\"danger\">\r\n                                    Un ou plusieur document n'a pas pus enregistrer\r\n                                </Alert>\r\n                            </div>\r\n                        </Collapse>\r\n                    </Row>\r\n                    <Row>\r\n                        <Collapse in={etatRequest.success}>\r\n                            <div >\r\n                                <Alert  variant=\"success\">\r\n                                    Les document sont enregistrer avec succs\r\n                                </Alert>\r\n                            </div>\r\n                        </Collapse>\r\n                    </Row>\r\n                    <Row className=\"align-items-center justify-content-around mt-4 \">\r\n                        <SubmitButton disabled={files.length <= 0} sending={etatRequest.sending} successRequest={etatRequest.success} type=\"submit\" color=\"primary\"> Enregistrer </SubmitButton>\r\n                    </Row>\r\n                </Col>\r\n                \r\n            </form>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}
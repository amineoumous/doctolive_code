{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\components\\\\Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport { Button, TextField, FormControlLabel, Checkbox, Box, Typography, Container } from '@material-ui/core';\nimport Config from './../EndPoint';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRouter } from 'next/router';\nimport contentFR from './../contentFR';\nimport contentEN from './../contentEN';\nimport contentAR from './../contentAR';\nimport { Row, Collapse, Alert } from 'react-bootstrap';\nconst useOutlinedInputStyles = makeStyles(theme => ({\n  root: {\n    \"& $notchedOutline\": {\n      borderColor: \"#38869C\",\n      borderWidth: \"2px !important\"\n    },\n    \"&:hover $notchedOutline\": {\n      borderColor: \"#38869C\",\n      borderWidth: \"2px !important\"\n    },\n    \"&$focused $notchedOutline\": {\n      borderColor: \"#38869C\",\n      borderWidth: \"2px !important\"\n    }\n  },\n  focused: {},\n  notchedOutline: {}\n}));\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  textField: {\n    borderRadius: 13,\n    borderColor: \"#38869C\",\n    color: \"#61788E\"\n  },\n  text_info: {\n    color: \"#61788E\",\n    fontSize: 14,\n    fontWeight: 500\n  },\n  notchedOutline: {\n    borderColor: '#38869C !important',\n    borderWidth: \"2px !important\"\n  }\n}));\nexport default function AuthForm(props) {\n  const classes = useStyles();\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: emailError,\n    1: setEmailError\n  } = useState(false);\n  const {\n    0: passwordError,\n    1: setPasswordError\n  } = useState(false);\n  const {\n    0: messageError,\n    1: setErrorMessage\n  } = useState(\"Information incorrect\");\n  const {\n    0: response,\n    1: setResponse\n  } = useState({\n    sending: false,\n    success: false,\n    donneIncorecte: false\n  });\n\n  const validateField = e => {\n    if (e.target.name === \"email\") {\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      let emailErr = !re.test(String(email).toLowerCase());\n      setEmailError(emailErr);\n    } else if (e.target.name === \"password\") {\n      let passwordLeng = password.length;\n      setPasswordError(passwordLeng < 8);\n    }\n  };\n\n  const submiting = e => {\n    e.preventDefault();\n    setResponse(old => {\n      return _objectSpread(_objectSpread({}, old), {}, {\n        sending: true\n      });\n    });\n\n    if (!emailError && !passwordError) {\n      let data = {\n        email,\n        password\n      };\n      fetch(`${Config.BACKEND_URL}/patient/auth`, {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(_objectSpread({}, data))\n      }).then(r => r.json().then(res => {\n        console.log(res);\n\n        if (!res.error) {\n          props.submiting(res);\n          setResponse({\n            sending: false,\n            success: true,\n            donneIncorecte: false\n          });\n        } else {\n          setResponse({\n            sending: false,\n            success: false,\n            donneIncorecte: true\n          });\n\n          if (res.validator) {} else {\n            setErrorMessage(res.message);\n          }\n        }\n      }).catch(e => {\n        console.log(e.response);\n        setResponse({\n          sending: false,\n          success: false,\n          donneIncorecte: true\n        });\n\n        if (e.response.data.error) {\n          setErrorMessage(e.response.data.message);\n        } else {\n          setErrorMessage(\"Une éreur inconue est survenue\");\n        }\n      })).catch(e => {\n        console.log(e.response);\n        setResponse({\n          sending: false,\n          success: false,\n          donneIncorecte: true\n        });\n\n        if (e.response.data.error) {\n          setErrorMessage(e.response.data.message);\n        } else {\n          setErrorMessage(\"Une éreur inconue est survenue\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: e => submiting(e, {\n          email,\n          password\n        }),\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          error: emailError,\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          InputProps: {\n            classes: {\n              notchedOutline: classes.notchedOutline\n            },\n            style: {\n              borderRadius: \"10px\"\n            }\n          },\n          InputLabelProps: {\n            style: {\n              color: '#61788E'\n            }\n          },\n          id: \"email\",\n          variant: \"outlined\",\n          onBlur: validateField,\n          label: content.new.emailLabel,\n          name: \"email\",\n          autoComplete: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          value: password,\n          variant: \"outlined\",\n          onChange: e => setPassword(e.target.value),\n          error: passwordError,\n          required: true,\n          fullWidth: true,\n          onBlur: validateField,\n          InputProps: {\n            classes: {\n              notchedOutline: classes.notchedOutline\n            },\n            style: {\n              borderRadius: \"10px\"\n            }\n          },\n          InputLabelProps: {\n            style: {\n              color: '#61788E'\n            }\n          },\n          name: \"password\",\n          label: content.new.passLabel,\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          children: content.new.signin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 8,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          in: response.donneIncorecte,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"example-collapse-text\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              children: [\" \", messageError, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/components/Login.js"],"names":["React","useState","Button","TextField","FormControlLabel","Checkbox","Box","Typography","Container","Config","makeStyles","useRouter","contentFR","contentEN","contentAR","Row","Collapse","Alert","useOutlinedInputStyles","theme","root","borderColor","borderWidth","focused","notchedOutline","useStyles","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","textField","borderRadius","color","text_info","fontSize","fontWeight","AuthForm","props","classes","router","locale","content","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","messageError","setErrorMessage","response","setResponse","sending","success","donneIncorecte","validateField","e","target","name","re","emailErr","test","String","toLowerCase","passwordLeng","length","submiting","preventDefault","old","data","fetch","BACKEND_URL","method","headers","body","JSON","stringify","then","r","json","res","console","log","error","validator","message","catch","value","style","new","emailLabel","passLabel","signin"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\n\r\nimport { Button, TextField, FormControlLabel, Checkbox, Box, Typography, Container} from '@material-ui/core';\r\nimport Config from './../EndPoint'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { useRouter } from 'next/router'\r\n\r\n\r\nimport contentFR from './../contentFR'\r\nimport contentEN from './../contentEN'\r\nimport contentAR from './../contentAR'\r\n\r\nimport {Row, Collapse, Alert} from 'react-bootstrap'\r\n\r\n\r\nconst useOutlinedInputStyles = makeStyles(theme => ({\r\n  root: {\r\n    \"& $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    },\r\n    \"&:hover $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    },\r\n    \"&$focused $notchedOutline\": {\r\n      borderColor: \"#38869C\",borderWidth:\"2px !important\"\r\n    }\r\n  },\r\n  focused: {},\r\n  notchedOutline: {}\r\n}));\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    \r\n  },\r\n\r\n  textField: {\r\n    borderRadius:13,\r\n    borderColor:\"#38869C\",\r\n    color:\"#61788E\"\r\n },\r\n text_info:{\r\n     color:\"#61788E\",\r\n     fontSize:14,fontWeight:500\r\n },\r\n notchedOutline: { borderColor: '#38869C !important',borderWidth:\"2px !important\" }\r\n}));\r\n\r\n\r\nexport default function AuthForm(props){\r\n  const classes = useStyles();\r\n  const router = useRouter();\r\n\r\n\r\n    const {locale} = router;\r\n    const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [emailError, setEmailError]= useState(false)\r\n  const [passwordError, setPasswordError]= useState(false)\r\n  const [messageError, setErrorMessage] = useState(\"Information incorrect\")\r\n\r\n  const [response, setResponse] = useState({\r\n    sending:false,\r\n    success:false,   \r\n    donneIncorecte: false                 \r\n  })\r\n\r\n  const validateField = (e) => {\r\n    if(e.target.name === \"email\"){\r\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      let emailErr = ! re.test(String(email).toLowerCase());\r\n      \r\n      setEmailError(emailErr);\r\n    }\r\n    else  if(e.target.name === \"password\"){\r\n      let passwordLeng = password.length ;\r\n      setPasswordError(passwordLeng < 8);\r\n      \r\n    }\r\n\r\n  }\r\n\r\n  const submiting = (e) => {\r\n    e.preventDefault();\r\n        setResponse(old =>  { return {...old, sending: true}});\r\n\r\n        if(!emailError && !passwordError){\r\n          let data = {email, password};\r\n\r\n          fetch(`${Config.BACKEND_URL}/patient/auth`,{\r\n              method:\"post\",\r\n              headers: {\r\n                  'Content-Type': 'application/json',\r\n              },\r\n              body:JSON.stringify({...data})\r\n          })\r\n          .then(\r\n              (r) => r.json()\r\n              .then(res => {\r\n                console.log(res)\r\n                  if(!res.error){\r\n                      props.submiting(res);\r\n                      setResponse({sending: false, success:true, donneIncorecte: false});\r\n                  }else {\r\n                      setResponse({sending: false, success:false, donneIncorecte:true})\r\n                      if(res.validator){\r\n  \r\n                      }else{\r\n                        setErrorMessage(res.message)\r\n                      }\r\n                  }\r\n             \r\n              })\r\n              .catch(e =>{ \r\n                console.log(e.response)\r\n                  setResponse({sending: false, success:false, donneIncorecte:true})\r\n                  if(e.response.data.error){\r\n                    setErrorMessage(e.response.data.message)\r\n                  }else {\r\n                    setErrorMessage(\"Une éreur inconue est survenue\")\r\n                  }\r\n              })\r\n              )\r\n              .catch(e =>{ \r\n                console.log(e.response)\r\n                  setResponse({sending: false, success:false, donneIncorecte:true})\r\n                  if(e.response.data.error){\r\n                    setErrorMessage(e.response.data.message)\r\n                  }else {\r\n                    setErrorMessage(\"Une éreur inconue est survenue\")\r\n                  }\r\n              })\r\n        }\r\n        \r\n  }\r\n  return(\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <div className={classes.paper}>\r\n        {/* <Typography component=\"h1\" variant=\"h5\"> {content.new.auth} </Typography> */}\r\n        <form className={classes.form} onSubmit={(e) => submiting(e, {email, password})}>\r\n          <TextField\r\n            value= {email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            error={emailError}\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            InputProps={{\r\n              classes: {\r\n                  notchedOutline: classes.notchedOutline\r\n              },\r\n              style: {\r\n                borderRadius: \"10px\"\r\n              }\r\n            }}\r\n            InputLabelProps={{\r\n              style: { color: '#61788E' },\r\n            }}\r\n            id=\"email\"\r\n            variant=\"outlined\"\r\n            onBlur={validateField} \r\n            label={content.new.emailLabel}\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            value={password}\r\n            variant=\"outlined\"\r\n            onChange={ (e) => setPassword(e.target.value)}\r\n            error={passwordError}\r\n            required\r\n            fullWidth\r\n            onBlur={validateField} \r\n            InputProps={{\r\n              classes: {\r\n                  notchedOutline: classes.notchedOutline\r\n              },\r\n              style: {\r\n                borderRadius: \"10px\"\r\n              }\r\n            }}\r\n            InputLabelProps={{\r\n              style: { color: '#61788E' },\r\n            }}\r\n            name=\"password\"\r\n            label={content.new.passLabel}\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n           {content.new.signin}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n      <Row className=\"justify-content-center\">\r\n              <Collapse in={response.donneIncorecte} >\r\n                    <div id=\"example-collapse-text\">\r\n                      <Alert variant=\"danger\"> {messageError} </Alert>\r\n                    </div>\r\n                </Collapse>\r\n            </Row>\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\pages\\\\account\\\\appointments\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport Link from 'next/link';\nimport Config from './../../../EndPoint';\nimport moment from 'moment';\nimport Button from './../../../components/CustomButtons/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { BsX, BsFillCameraVideoFill } from 'react-icons/bs';\nimport { MdUpdate } from 'react-icons/md';\nimport { useAuth } from './../../../context/AuthContext';\nimport { useRouter } from 'next/router';\nimport MapAccess from './../../../components/MedecinWidget/MapAccess';\nimport CalendarAvailability from './../../../components/MedecinWidget/CalendarAvailability';\nimport contentFR from './../../../contentFR';\nimport contentEN from './../../../contentEN';\nimport contentAR from './../../../contentAR';\nconst Transition = /*#__PURE__*/React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, _objectSpread({\n    direction: \"up\",\n    ref: ref\n  }, props), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n});\n\nfunction CardAppointment({\n  consultation,\n  app_id,\n  content\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: app_id == consultation.id ? \"card selected\" : \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), consultation.teleconsultation ? /*#__PURE__*/_jsxDEV(BsFillCameraVideoFill, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 53\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doctor-img\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\",\n              className: \"img-fluid\",\n              alt: \"User Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doc-info-cont\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"  \", consultation.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"doc-name\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/doctor/${consultation.medecin.id}`,\n              children: [\"Dr. \", `${consultation.medecin.nom} ${consultation.medecin.prenom}`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-action justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `/account/appointments?app_id=${consultation.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link btn btn-primary\",\n            children: [\" \", content.appointments.cardApps.link, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\nexport default function Appointments() {\n  const {\n    0: consultations,\n    1: setConsultations\n  } = useState([]);\n  const {\n    0: consultation,\n    1: setConsultation\n  } = useState();\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n  const {\n    app_id\n  } = router.query;\n  const {\n    userData\n  } = useAuth();\n  console.log(userData);\n  useEffect(() => {\n    if (app_id) {\n      fetch(`${Config.BACKEND_URL}/consultation/${app_id}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `token ${userData.token}`\n        }\n      }).then(r => r.json().then(res => {\n        if (!res.error) {\n          setConsultation(res.consultation);\n        }\n      }).catch(error => {})).catch(error => {});\n    } else {\n      setConsultation();\n    }\n\n    return () => {};\n  }, [app_id]);\n  useEffect(async () => {\n    if (!userData.token) return router.push('account/new');\n    const res = await fetch(`${Config.BACKEND_URL}/patient/appointments/venir`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `token ${userData.token}`\n      }\n    });\n    const data = await res.json();\n    setConsultations(data.consultations);\n    return () => {};\n  }, []);\n\n  const handleCanceledApp = id => {\n    let index = consultations.findIndex(cns => cns.id === id);\n\n    if (index > -1) {\n      setConsultations(old => {\n        let cloneOld = [...old];\n        cloneOld.splice(index, 1);\n        return cloneOld;\n      });\n    }\n  };\n\n  const handleUpdatedApp = (id, consultation) => {\n    let index = consultations.findIndex(cns => cns.id === id);\n\n    if (index > -1) {\n      setConsultations(old => {\n        let cloneOld = [...old];\n        cloneOld[index] = consultation;\n        return cloneOld;\n      });\n    }\n  };\n\n  if (!consultations) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container section-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"  \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n\n  if (consultations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container section-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: [\" \", content.appointments.myapp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        children: [\" \", content.appointments.noApp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"m-0 justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `/account/appointments/historique`,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link black\",\n            children: [\" \", content.appointments.history, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link btn btn-primary\",\n            children: [\" \", content.appointments.takeapp, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"section-content-app\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"m-5 justify-content-center flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"item-active-r title-r\",\n        children: [\" \", content.appointments.myapp, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: `/account/appointments/historique`,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title-r \",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"link black\",\n            children: [\" \", content.appointments.history, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"m-0\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"3\",\n        className: \"apointements-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient-appointments\",\n          children: consultations.map((consultation, index) => {\n            return /*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center patient-appointment m-0\",\n              children: /*#__PURE__*/_jsxDEV(CardAppointment, {\n                content: content,\n                consultation: consultation,\n                handleUpdatedApp: handleUpdatedApp,\n                handleCanceledApp: handleCanceledApp,\n                app_id: app_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 41\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"9\",\n        children: !consultation ? null : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center patient-appointment m-0\",\n          children: /*#__PURE__*/_jsxDEV(CardDetailsAppointment, {\n            content: content,\n            consultation: consultation,\n            handleUpdatedApp: handleUpdatedApp,\n            handleCanceledApp: handleCanceledApp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 9\n  }, this);\n}\n\nfunction CardDetailsAppointment({\n  consultation,\n  handleCanceledApp,\n  content,\n  handleUpdatedApp\n}) {\n  var _consultation$medecin, _consultation$medecin2, _consultation$medecin3, _consultation$medecin4;\n\n  const {\n    userData\n  } = useAuth();\n  const {\n    0: ShowonfirmCancel,\n    1: setConfirmCancel\n  } = useState(false);\n  const {\n    0: ShowonfirmUpdate,\n    1: setConfirmUpdate\n  } = useState(false);\n  const {\n    0: selectedHour,\n    1: setSelectedHour\n  } = useState();\n  const {\n    0: selectedDate,\n    1: setSelectedDate\n  } = useState();\n\n  const setDetails = (day, hour) => {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  const cancelAppointement = () => {\n    fetch(`${Config.BACKEND_URL}/consultation/cancel/${consultation.id}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `token ${userData.token}`\n      },\n      body: JSON.stringify({})\n    }).then(r => r.json().then(res => {\n      if (!res.error) {\n        setConfirmCancel(false);\n        handleCanceledApp(consultation.id);\n      } else {\n        if (res.validator) {} else {}\n      }\n    })).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const validateTime = () => {\n    fetch(`${Config.BACKEND_URL}/consultation/deplacer/${consultation.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `token ${userData.token}`\n      },\n      body: JSON.stringify({\n        date: selectedDate,\n        time: selectedHour\n      })\n    }).then(r => r.json().then(res => {\n      if (!res.error) {\n        setConfirmUpdate(false);\n        handleUpdatedApp(consultation.id, res.consultation);\n      } else {\n        if (res.validator) {} else {}\n      }\n    })).catch(error => {\n      console.log(error); // setResponse({sending: false, success:false, donneIncorecte:true})\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), consultation.teleconsultation ? /*#__PURE__*/_jsxDEV(BsFillCameraVideoFill, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 53\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"7\",\n            md: \"12\",\n            xs: \"12\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doctor-img\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\",\n                    className: \"img-fluid\",\n                    alt: \"User Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doc-info-cont\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"  \", consultation.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"doc-name\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `/doctor/${consultation.medecin.id}`,\n                    children: [\"Dr. \", `${consultation.medecin.nom} ${consultation.medecin.prenom}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 62\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"doc-info-cont ml-5\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"contacts\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\" \", content.appointments.cardApp.accessInfos, \"   \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 49\n                    }, this), !consultation.medecin.adress ? \"Vous n'avez pas encore spécifier vos information d'accés\" : (consultation.medecin.adress.streetName ? consultation.medecin.adress.streetName : \"\") + \" \" + (consultation.medecin.adress.buildingName ? consultation.medecin.adress.buildingName : \"\") + \" \" + (consultation.medecin.adress.floor ? \"étage \" + consultation.medecin.adress.floor : \"\") + \" \" + (consultation.medecin.adress.sector ? consultation.medecin.adress.sector : \"\") + \", \" + (consultation.medecin.adress.codePostal ? consultation.medecin.adress.codePostal : \"\") + \" - \" + (consultation.medecin.city ? consultation.medecin.city.name : \"\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: [\" \", content.appointments.cardApp.secretariat, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 49\n                    }, this), consultation.medecin.phone, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"5\",\n            md: \"12\",\n            xs: \"12\",\n            className: \"order-sm-last\",\n            children: /*#__PURE__*/_jsxDEV(MapAccess, {\n              apiKey: Config.apiKey,\n              locations: [{\n                latitude: consultation === null || consultation === void 0 ? void 0 : (_consultation$medecin = consultation.medecin) === null || _consultation$medecin === void 0 ? void 0 : (_consultation$medecin2 = _consultation$medecin.adress) === null || _consultation$medecin2 === void 0 ? void 0 : _consultation$medecin2.latitude,\n                longitude: consultation === null || consultation === void 0 ? void 0 : (_consultation$medecin3 = consultation.medecin) === null || _consultation$medecin3 === void 0 ? void 0 : (_consultation$medecin4 = _consultation$medecin3.adress) === null || _consultation$medecin4 === void 0 ? void 0 : _consultation$medecin4.longitude\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this), !consultation.teleconsultation ? null : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"  \", content.appointments.cardApp.click, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: `/consultation/${consultation.id}`,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"link btn btn-primary\",\n                children: [\" \", content.appointments.cardApp.rejoindre, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-action\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setConfirmUpdate(true),\n          color: \"transparent\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(MdUpdate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 89\n          }, this), \" \", content.appointments.cardApp.deplacer, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"transparent\",\n          onClick: () => setConfirmCancel(true),\n          style: {\n            color: \"#f1000f\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(BsX, {\n            size: \"32px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 114\n          }, this), \" \", content.appointments.cardApp.annuler, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: ShowonfirmCancel,\n      maxWidth: \"lg\" // fullWidth={true}\n      ,\n      TransitionComponent: Transition,\n      keepMounted: false,\n      onClose: () => setConfirmCancel(false),\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.appointments.cardApp.confirmCancel, \"  \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [content.appointments.cardApp.wantYou, \"  \", moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar(), \" \", content.appointments.cardApp.with, \" Dr. \", `${consultation.medecin.nom} ${consultation.medecin.prenom}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setConfirmCancel(false),\n          color: \"transparent\",\n          children: content.appointments.cardApp.retour\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: cancelAppointement,\n          color: \"danger\",\n          children: content.appointments.cardApp.annuler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }, this), !ShowonfirmUpdate ? null : /*#__PURE__*/_jsxDEV(Dialog, {\n      open: ShowonfirmUpdate,\n      maxWidth: \"lg\",\n      TransitionComponent: Transition,\n      keepMounted: true,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-slide-title\",\n        children: [\" \", content.appointments.cardApp.docAvai, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(CalendarAvailability, {\n          showDisponibilite: consultation.medecin,\n          setSelectedHour: setDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: !selectedHour && !selectedDate ? null : content.appointments.cardApp.selecTtime + \" : \" + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setConfirmUpdate(false);\n            },\n            color: \"transparent\",\n            children: content.appointments.cardApp.retour\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !selectedHour,\n            onClick: validateTime,\n            color: \"primary\",\n            children: content.appointments.cardApp.confirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/pages/account/appointments/index.js"],"names":["React","useState","useEffect","Col","Row","Link","Config","moment","Button","Dialog","DialogActions","DialogContent","DialogTitle","Slide","BsX","BsFillCameraVideoFill","MdUpdate","useAuth","useRouter","MapAccess","CalendarAvailability","contentFR","contentEN","contentAR","Transition","forwardRef","props","ref","CardAppointment","consultation","app_id","content","id","date","time","calendar","teleconsultation","medecin","image","BACKEND_URL","title","nom","prenom","appointments","cardApps","link","Appointments","consultations","setConsultations","setConsultation","router","locale","query","userData","console","log","fetch","headers","token","then","r","json","res","error","catch","push","data","handleCanceledApp","index","findIndex","cns","old","cloneOld","splice","handleUpdatedApp","length","myapp","noApp","history","takeapp","map","CardDetailsAppointment","ShowonfirmCancel","setConfirmCancel","ShowonfirmUpdate","setConfirmUpdate","selectedHour","setSelectedHour","selectedDate","setSelectedDate","setDetails","day","hour","cancelAppointement","method","body","JSON","stringify","validator","validateTime","cardApp","accessInfos","adress","streetName","buildingName","floor","sector","codePostal","city","name","secretariat","phone","apiKey","latitude","longitude","click","rejoindre","deplacer","color","annuler","confirmCancel","wantYou","with","retour","docAvai","selecTtime","confirm"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport {Col, Row} from 'react-bootstrap'\r\nimport  Link  from 'next/link';\r\nimport Config from './../../../EndPoint'\r\nimport moment from 'moment'\r\nimport Button from './../../../components/CustomButtons/Button'\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n\r\nimport {BsX, BsFillCameraVideoFill} from 'react-icons/bs'\r\nimport {MdUpdate} from 'react-icons/md'\r\nimport { useAuth } from './../../../context/AuthContext';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport MapAccess from './../../../components/MedecinWidget/MapAccess'\r\nimport CalendarAvailability from './../../../components/MedecinWidget/CalendarAvailability'\r\n\r\n\r\nimport contentFR from './../../../contentFR'\r\nimport contentEN from './../../../contentEN'\r\nimport contentAR from './../../../contentAR'\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\nfunction CardAppointment({consultation, app_id, content}){\r\n\r\n    return (\r\n        <>\r\n            <div className={app_id == consultation.id ? \"card selected\" : \"card\"}>\r\n                <div className=\"card-header\">\r\n                    <h2 > {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()}</h2>\r\n                    {consultation.teleconsultation? <BsFillCameraVideoFill /> : null}\r\n                </div>\r\n                \r\n                <div className=\"card-body d-flex\">\r\n                    <div className=\"doctor-img\">\r\n                        <a >\r\n                            <img src={consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\" } className=\"img-fluid\" alt=\"User Image\" />\r\n                        </a>\r\n                    </div>\r\n                    <div  className=\"doc-info-cont\">\r\n                        <h4>  {consultation.title} </h4>\r\n                        <h5 className=\"doc-name\"><a href={`/doctor/${consultation.medecin.id}`}>Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}</a></h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-action justify-content-center\">\r\n                <Link href={`/account/appointments?app_id=${consultation.id}`}>\r\n                    <a className=\"link btn btn-primary\"> {content.appointments.cardApps.link} </a>\r\n                </Link>\r\n                </div>\r\n                {/* <div className=\"card-action\">\r\n                    <Button onClick={() => setConfirmUpdate(true)} color=\"transparent\"> <MdUpdate /> Déplacer </Button>\r\n                    <Button color=\"transparent\"onClick={() => setConfirmCancel(true)} style={{color:\"#f1000f\"}}> <BsX size= \"32px\" />  Annuler le rendez-vous </Button>\r\n                </div> */}\r\n            </div>\r\n           \r\n            \r\n        </>\r\n    )\r\n}\r\nexport default function Appointments() {\r\n    const [consultations, setConsultations ] = useState([]);\r\n    const [consultation, setConsultation ] = useState();\r\n\r\n    const router = useRouter();\r\n    const {locale} = router;\r\n    const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\r\n\r\n    const { app_id } = router.query\r\n    const {userData} = useAuth();\r\n    console.log(userData)\r\n    useEffect(() => {\r\n        if(app_id){\r\n            fetch(`${Config.BACKEND_URL}/consultation/${app_id}`,{\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `token ${userData.token}`,\r\n                }\r\n            })\r\n            .then( (r) => r.json()\r\n                .then(res => {\r\n                    if(!res.error){\r\n                        setConsultation(res.consultation)\r\n                    }\r\n                }).catch(error =>{ \r\n    \r\n                })\r\n            ).catch(error =>{ \r\n    \r\n            })\r\n            \r\n        }else {\r\n            setConsultation()\r\n        }\r\n       \r\n        return () => {\r\n            \r\n        }\r\n    }, [app_id])\r\n\r\n    useEffect( async () => {\r\n    \r\n        if(!userData.token) return router.push('account/new')\r\n\r\n        const res = await fetch(`${Config.BACKEND_URL}/patient/appointments/venir`, {\r\n            headers: {\r\n                'Accept': 'application/json', \r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n              },\r\n        })\r\n        const data = await res.json()\r\n        setConsultations(data.consultations)\r\n        return () => {\r\n            \r\n        }\r\n    }, [])\r\n    const handleCanceledApp = (id) => {\r\n        let index = consultations.findIndex(cns => cns.id === id);\r\n        if(index > -1){\r\n            setConsultations(old => {\r\n                let cloneOld = [...old];\r\n                cloneOld.splice(index, 1);\r\n                return cloneOld\r\n            })\r\n        }\r\n    }\r\n    const handleUpdatedApp = (id, consultation) => {\r\n        let index = consultations.findIndex(cns => cns.id === id);\r\n        if(index > -1){\r\n            setConsultations(old => {\r\n                let cloneOld = [...old];\r\n                cloneOld[index] = consultation;\r\n                return cloneOld\r\n            })\r\n        }\r\n    }\r\n    if( !consultations) return (\r\n        <div className=\"container section-content\">\r\n            <h1 className=\"text-center\">  </h1>\r\n            <div className=\"text-center\">\r\n               \r\n            </div>\r\n        </div>\r\n    )\r\n    if(consultations.length === 0){\r\n        return (\r\n            <div className=\"container section-content\">\r\n                <h1 className=\"text-center\"> {content.appointments.myapp} </h1>\r\n                <p className=\"text-center\"> {content.appointments.noApp} </p>\r\n                <Row className=\"m-0 justify-content-center\">\r\n                    <Link href={`/account/appointments/historique`}>\r\n                        <a className=\"link black\"> {content.appointments.history}  </a>\r\n                    </Link> \r\n                </Row>\r\n                <div className=\"text-center\">\r\n                    <Link href=\"/\">\r\n                        <a className=\"link btn btn-primary\"> {content.appointments.takeapp}  </a>\r\n                    </Link>\r\n                </div>\r\n            \r\n                \r\n                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"section-content-app\">\r\n            <Row className=\"m-5 justify-content-center flex\">\r\n                <h3 className='item-active-r title-r'> {content.appointments.myapp} </h3>\r\n                <Link href={`/account/appointments/historique`}>\r\n                <h3 className='title-r '><a className=\"link black\"> {content.appointments.history} </a></h3>\r\n                </Link> \r\n            </Row>\r\n        \r\n            \r\n            <Row className=\"m-0\">\r\n                <Col lg=\"3\" className=\"apointements-left\">\r\n                    \r\n                    <div className=\"patient-appointments\">\r\n                        {\r\n                            consultations.map((consultation, index)=> {\r\n                                return(\r\n                                    <Row className=\"justify-content-center patient-appointment m-0\" key={index}>\r\n                                        <CardAppointment content={content} consultation={consultation} handleUpdatedApp= {handleUpdatedApp} handleCanceledApp={handleCanceledApp} app_id={app_id} />\r\n                                    </Row>\r\n                                )\r\n                            })\r\n\r\n                        }\r\n                    </div>\r\n                </Col>\r\n                <Col lg=\"9\" >\r\n                    {\r\n                        ! consultation ? null :\r\n                        <Row className=\"justify-content-center patient-appointment m-0\" >\r\n                            <CardDetailsAppointment content={content} consultation={consultation} handleUpdatedApp= {handleUpdatedApp} handleCanceledApp={handleCanceledApp} />\r\n                        </Row>\r\n                    }\r\n                \r\n                </Col>\r\n            </Row>\r\n            \r\n            \r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\nfunction CardDetailsAppointment({consultation, handleCanceledApp, content, handleUpdatedApp}){\r\n    const {userData} = useAuth();\r\n    const [ShowonfirmCancel, setConfirmCancel] = useState(false);\r\n    const [ShowonfirmUpdate, setConfirmUpdate] = useState(false);\r\n    const [selectedHour, setSelectedHour] = useState()\r\n    const [selectedDate, setSelectedDate] = useState()\r\n\r\n\r\n    const setDetails = (day, hour) => {\r\n        setSelectedDate(day);\r\n        setSelectedHour(hour)\r\n    }\r\n\r\n    const cancelAppointement = () => {\r\n        fetch(`${Config.BACKEND_URL}/consultation/cancel/${consultation.id}`,{\r\n            method:\"PATCH\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n            },\r\n            body:JSON.stringify({})\r\n        })\r\n        .then(\r\n            (r) => r.json()\r\n            .then(res => {\r\n\r\n                if(!res.error){\r\n                    setConfirmCancel(false);\r\n                    handleCanceledApp(consultation.id)\r\n                }else {\r\n                    if(res.validator){\r\n\r\n                    }else{\r\n\r\n                    }\r\n                }\r\n           \r\n            })\r\n            ).catch(error =>{ \r\n                console.log(error)\r\n            })\r\n    }\r\n    const validateTime =() => {\r\n        fetch(`${Config.BACKEND_URL}/consultation/deplacer/${consultation.id}`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `token ${userData.token}`,\r\n            },\r\n            body:JSON.stringify({date: selectedDate, time: selectedHour })\r\n        })\r\n        .then(\r\n            (r) => r.json()\r\n            .then(res => {\r\n                if(!res.error){\r\n                    setConfirmUpdate(false);\r\n                    handleUpdatedApp(consultation.id, res.consultation)\r\n                }else {\r\n                    if(res.validator){\r\n\r\n                    }else{\r\n\r\n                    }\r\n                }\r\n           \r\n            })\r\n        ).catch(error =>{ \r\n            console.log(error)\r\n                // setResponse({sending: false, success:false, donneIncorecte:true})\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h2 > {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()}</h2>\r\n                    {consultation.teleconsultation? <BsFillCameraVideoFill /> : null}\r\n                </div>\r\n                \r\n                <div className=\"card-body\">\r\n                    <Row>\r\n\r\n                    \r\n                        <Col lg=\"7\" md=\"12\" xs=\"12\">\r\n                            <Row>   \r\n                                <div className=\"doctor-img\">\r\n                                    <a >\r\n                                        <img src={consultation.medecin.image ? `${Config.BACKEND_URL}/${consultation.medecin.image}` : \"/image/medecin/homme.jpg\" } className=\"img-fluid\" alt=\"User Image\" />\r\n                                    </a>\r\n                                </div>\r\n                                <div  className=\"doc-info-cont\">\r\n                                    <h4>  {consultation.title} </h4>\r\n                                    <h5 className=\"doc-name\"><a href={`/doctor/${consultation.medecin.id}`}>Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}</a></h5>\r\n                                </div>\r\n                                \r\n                                <div  className=\"doc-info-cont ml-5\">\r\n                                    <ul className=\"contacts\">\r\n                                            <li>\r\n                                                <h6> {content.appointments.cardApp.accessInfos}   </h6> \r\n                                                {\r\n                                                    !consultation.medecin.adress ? \r\n                                                    \"Vous n'avez pas encore spécifier vos information d'accés\" : \r\n                                                    (consultation.medecin.adress.streetName? consultation.medecin.adress.streetName : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.buildingName? consultation.medecin.adress.buildingName : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.floor? \"étage \" + consultation.medecin.adress.floor : \"\") + \" \" + \r\n                                                    (consultation.medecin.adress.sector? consultation.medecin.adress.sector : \"\") + \", \" + \r\n                                                    (consultation.medecin.adress.codePostal? consultation.medecin.adress.codePostal : \"\") + \" - \" + \r\n                                                    (consultation.medecin.city ? consultation.medecin.city.name  : \"\") \r\n                                                } \r\n                                            </li>\r\n                                            <li><h6> {content.appointments.cardApp.secretariat} </h6>{consultation.medecin.phone} </li>\r\n                                        </ul>\r\n                                </div>\r\n\r\n                            </Row>\r\n                            \r\n                        </Col>\r\n                            \r\n                        <Col lg=\"5\" md=\"12\" xs=\"12\" className=\"order-sm-last\">\r\n                            <MapAccess apiKey={Config.apiKey} locations={[{latitude: consultation?.medecin?.adress?.latitude, longitude: consultation?.medecin?.adress?.longitude}]} />\r\n                        </Col>\r\n                        </Row>  \r\n                        \r\n                        {! consultation.teleconsultation?  null:\r\n                            <Row className=\"mt-5\">\r\n                                <Col md=\"6\">\r\n                                    <p>  {content.appointments.cardApp.click} </p>\r\n                                </Col>\r\n                                <Col  md=\"6\">\r\n                                <Link href={`/consultation/${consultation.id}`}>\r\n                                    <a className=\"link btn btn-primary\"> {content.appointments.cardApp.rejoindre} </a>\r\n                                </Link> \r\n                                </Col>\r\n                            </Row>\r\n                        }                    \r\n                </div>\r\n                <div className=\"card-action\">\r\n                    <Button onClick={() => setConfirmUpdate(true)} color=\"transparent\"> <MdUpdate /> {content.appointments.cardApp.deplacer} </Button>\r\n                    <Button color=\"transparent\"onClick={() => setConfirmCancel(true)} style={{color:\"#f1000f\"}}> <BsX size= \"32px\" /> {content.appointments.cardApp.annuler} </Button>\r\n                </div>\r\n            </div>\r\n            <Dialog\r\n                open={ShowonfirmCancel}\r\n                maxWidth=\"lg\"\r\n                // fullWidth={true}\r\n                TransitionComponent={Transition}\r\n                keepMounted={false}\r\n                onClose={() => setConfirmCancel(false)}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-slide-title\"> {content.appointments.cardApp.confirmCancel}  </DialogTitle>\r\n                <DialogContent>\r\n                {content.appointments.cardApp.wantYou}  {moment(consultation.date + consultation.time, 'YYYY/MM/DDHH:mm').calendar()} {content.appointments.cardApp.with} Dr. {`${consultation.medecin.nom} ${consultation.medecin.prenom}`}\r\n                </DialogContent>\r\n                <DialogActions>                        \r\n                        <Button onClick={() => setConfirmCancel(false)} color=\"transparent\">\r\n                            {content.appointments.cardApp.retour}\r\n                        </Button>\r\n                        <Button onClick={cancelAppointement} color=\"danger\">\r\n                            {content.appointments.cardApp.annuler}\r\n                        </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            {\r\n                !ShowonfirmUpdate? null :\r\n                <Dialog\r\n                    open={ShowonfirmUpdate}\r\n                    maxWidth=\"lg\"\r\n                    TransitionComponent={Transition}\r\n                    keepMounted\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\"> {content.appointments.cardApp.docAvai} </DialogTitle>\r\n                    <DialogContent>\r\n                        <CalendarAvailability showDisponibilite={consultation.medecin}  setSelectedHour={setDetails} />\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <div>\r\n\r\n                            {!selectedHour && !selectedDate ? null : content.appointments.cardApp.selecTtime + \" : \" + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm' ).calendar()}\r\n                        </div>\r\n                        <div>\r\n                            <Button onClick={() => {setConfirmUpdate(false)}} color=\"transparent\">\r\n                                {content.appointments.cardApp.retour}\r\n                            </Button>\r\n                            <Button disabled={!selectedHour} onClick={validateTime} color=\"primary\">\r\n                                {content.appointments.cardApp.confirm}\r\n                            </Button>\r\n                        </div>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            }\r\n            \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}
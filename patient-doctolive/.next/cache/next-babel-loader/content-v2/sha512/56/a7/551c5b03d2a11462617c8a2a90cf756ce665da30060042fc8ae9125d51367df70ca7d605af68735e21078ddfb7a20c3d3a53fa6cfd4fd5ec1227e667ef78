{"ast":null,"code":"import _defineProperty from \"C:/app/doctolive_code/patient-doctolive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\components\\\\MedecinWidget\\\\MedecinWidget.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Config from './../../EndPoint';\nimport { useRouter } from 'next/router';\nimport { useAppContext } from './../../context/AppointementContext';\nimport { MdVideocam } from 'react-icons/md';\nimport { Row } from 'react-bootstrap';\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox';\nimport Button from './../CustomButtons/Button';\nimport Link from 'next/link';\nimport CalendarAvailability from './CalendarAvailability';\nimport moment from 'moment';\nexport default function MedecinWidget(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(false),\n      showDisponibilite = _useState[0],\n      setShowDisponibilite = _useState[1];\n\n  var content = props.content,\n      locale = props.locale;\n\n  var _useState2 = useState(),\n      selectedHour = _useState2[0],\n      setSelectedHour = _useState2[1];\n\n  var _useState3 = useState(),\n      selectedDate = _useState3[0],\n      setSelectedDate = _useState3[1];\n\n  var _useAppContext = useAppContext(),\n      setUserTemporary = _useAppContext.setUserTemporary;\n\n  var router = useRouter();\n\n  var setDetails = function setDetails(day, hour) {\n    setSelectedDate(day);\n    setSelectedHour(hour);\n  };\n\n  var validateTime = function validateTime() {\n    setUserTemporary({\n      date: selectedDate,\n      time: selectedHour,\n      medecinId: props.medecin.id\n    });\n    return router.push({\n      pathname: \"/doctor/\".concat(props.showDisponibilite.id, \"/appointment\")\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doctor-widget\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doc-info-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doctor-img\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"doctor-profile.html\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: props.medecin.image ? \"\".concat(Config.BACKEND_URL, \"/\").concat(props.medecin.image) : \"/image/medecin/homme.jpg\",\n                className: \"img-fluid img-100\",\n                alt: \"User Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-info-cont\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"doc-name\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"doctor-profile.html\",\n                className: \"doc-name\",\n                children: [\"Dr. \", \"\".concat(props.medecin.nom, \" \").concat(props.medecin.prenom)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), props.medecin.specialites.map(function (specialite, index) {\n              return /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"doc-department-md\",\n                children: [!specialite.icon ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"\".concat(Config.BACKEND_URL, \"/\").concat(specialite.icon),\n                  className: \"img-fluid\",\n                  alt: \"Speciality\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 68\n                }, _this), specialite.name]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 37\n              }, _this);\n            }), !props.medecin.teleconsultationIsDisponible ? null : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(MdVideocam, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 106\n              }, this), \" \", content.availableVideo]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 83\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clinic-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"doc-location\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-map-marker-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 61\n                }, this), !props.medecin.adress ? content.notSpecified : (props.medecin.adress.streetName ? props.medecin.adress.streetName : \"\") + \" \" + (props.medecin.adress.buildingName ? props.medecin.adress.buildingName : \"\") + \" \" + (props.medecin.adress.floor ? \"étage \" + props.medecin.adress.floor : \"\") + \" \" + (props.medecin.adress.sector ? props.medecin.adress.sector : \"\") + \", \" + (props.medecin.adress.codePostal ? props.medecin.adress.codePostal : \"\") + \" - \" + (props.medecin.city ? props.medecin.city.name : \"\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: props.medecin.pictures.map(function (picture, index) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cabinet-img-container ml-2\",\n                    children: /*#__PURE__*/_jsxDEV(ReactFancyBox, {\n                      thumbnail: \"\".concat(Config.BACKEND_URL, \"/\").concat(picture.path),\n                      showCloseBtn: false,\n                      image: \"\".concat(Config.BACKEND_URL, \"/\").concat(picture.path)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 45\n                    }, _this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 41\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: locale === \"ar\" ? \"doc-info-leftr\" : \"doc-info-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clinic-booking\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              href: \"/doctor/\" + props.medecin.id,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"view-pro-btn\",\n                children: [\" \", content.seeProfile, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: function onClick() {\n                return setShowDisponibilite(true);\n              },\n              color: \"primary\",\n              children: [\" \", content.seeDispo, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), ShowDisponibilite]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), showDisponibilite && /*#__PURE__*/_jsxDEV(ShowDisponibilite, _objectSpread(_objectSpread({\n      showDisponibilite: showDisponibilite\n    }, props), {}, {\n      handleClose: function handleClose() {\n        return setShowDisponibilite(false);\n      },\n      selectedDate: selectedDate,\n      selectedHour: selectedHour,\n      setDetails: setDetails,\n      validateTime: validateTime\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MedecinWidget, \"kbta4hz+PGOGq1OJI2ju8GVetRM=\", false, function () {\n  return [useAppContext, useRouter];\n});\n\n_c = MedecinWidget;\n\nfunction ShowDisponibilite(props) {\n  var content = props.content,\n      locale = props.locale,\n      handleClose = props.handleClose,\n      selectedDate = props.selectedDate,\n      selectedHour = props.selectedHour,\n      setDetails = props.setDetails,\n      validateTime = props.validateTime;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: locale === \"ar\" ? \"dispo-content-ar\" : \"dispo-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: content.dispo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CalendarAvailability, _objectSpread(_objectSpread({}, props), {}, {\n        setSelectedHour: setDetails\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"transparent\",\n        children: content.cancel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: !selectedHour,\n        onClick: validateTime,\n        color: \"primary\",\n        children: content.confirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = ShowDisponibilite;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MedecinWidget\");\n$RefreshReg$(_c2, \"ShowDisponibilite\");","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/components/MedecinWidget/MedecinWidget.js"],"names":["React","useState","useEffect","Config","useRouter","useAppContext","MdVideocam","Row","ReactFancyBox","Button","Link","CalendarAvailability","moment","MedecinWidget","props","showDisponibilite","setShowDisponibilite","content","locale","selectedHour","setSelectedHour","selectedDate","setSelectedDate","setUserTemporary","router","setDetails","day","hour","validateTime","date","time","medecinId","medecin","id","push","pathname","image","BACKEND_URL","nom","prenom","specialites","map","specialite","index","icon","name","teleconsultationIsDisponible","availableVideo","adress","notSpecified","streetName","buildingName","floor","sector","codePostal","city","pictures","picture","path","seeProfile","seeDispo","ShowDisponibilite","handleClose","dispo","timeSelected","calendar","cancel","confirm"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Config from './../../EndPoint';\r\nimport { useRouter } from 'next/router';\r\nimport { useAppContext } from './../../context/AppointementContext';\r\nimport { MdVideocam } from 'react-icons/md';\r\nimport { Row } from 'react-bootstrap';\r\nimport ReactFancyBox from './../fancyBox/fancybox/ReactFancyBox';\r\nimport Button from './../CustomButtons/Button';\r\nimport Link from 'next/link';\r\nimport CalendarAvailability from './CalendarAvailability';\r\nimport moment from 'moment';\r\n\r\nexport default function MedecinWidget(props) {\r\n    const [showDisponibilite, setShowDisponibilite] = useState(false);\r\n    const { content, locale } = props;\r\n    const [selectedHour, setSelectedHour] = useState();\r\n    const [selectedDate, setSelectedDate] = useState();\r\n    const { setUserTemporary } = useAppContext();\r\n    const router = useRouter();\r\n\r\n    const setDetails = (day, hour) => {\r\n        setSelectedDate(day);\r\n        setSelectedHour(hour);\r\n    };\r\n\r\n    const validateTime = () => {\r\n        setUserTemporary({ date: selectedDate, time: selectedHour, medecinId: props.medecin.id });\r\n        return router.push({\r\n            pathname: `/doctor/${props.showDisponibilite.id}/appointment`,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-body\">\r\n                <div className=\"doctor-widget\">\r\n                    <div className=\"doc-info-left\">\r\n                        <div className=\"doctor-img\">\r\n                            <a href=\"doctor-profile.html\">\r\n                                <img src={props.medecin.image ? `${Config.BACKEND_URL}/${props.medecin.image}` : \"/image/medecin/homme.jpg\"} className=\"img-fluid img-100\" alt=\"User Image\" />\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"doc-info-cont\">\r\n                            <h3 className=\"doc-name\">\r\n                                <a href=\"doctor-profile.html\" className='doc-name'>Dr. {`${props.medecin.nom} ${props.medecin.prenom}`}</a>\r\n                            </h3>\r\n                            {\r\n                                props.medecin.specialites.map((specialite, index) => (\r\n                                    <h4 key={index} className=\"doc-department-md\">\r\n                                        {!specialite.icon ? null : <img src={`${Config.BACKEND_URL}/${specialite.icon}`} className=\"img-fluid\" alt=\"Speciality\" />}\r\n                                        {specialite.name}\r\n                                    </h4>\r\n                                ))\r\n                            }\r\n                            {!props.medecin.teleconsultationIsDisponible ? null : <span className='mt-2'><MdVideocam /> {content.availableVideo}</span>}\r\n                            <div className=\"clinic-details\">\r\n                                <p className=\"doc-location\"><i className=\"fas fa-map-marker-alt\"></i>\r\n                                    {!props.medecin.adress ?\r\n                                        content.notSpecified :\r\n                                        (props.medecin.adress.streetName ? props.medecin.adress.streetName : \"\") + \" \" +\r\n                                        (props.medecin.adress.buildingName ? props.medecin.adress.buildingName : \"\") + \" \" +\r\n                                        (props.medecin.adress.floor ? \"étage \" + props.medecin.adress.floor : \"\") + \" \" +\r\n                                        (props.medecin.adress.sector ? props.medecin.adress.sector : \"\") + \", \" +\r\n                                        (props.medecin.adress.codePostal ? props.medecin.adress.codePostal : \"\") + \" - \" +\r\n                                        (props.medecin.city ? props.medecin.city.name : \"\")\r\n                                    }\r\n                                </p>\r\n                                <Row>\r\n                                    {props.medecin.pictures.map((picture, index) => (\r\n                                        <div className=\"cabinet-img-container ml-2\" key={index}>\r\n                                            <ReactFancyBox\r\n                                                thumbnail={`${Config.BACKEND_URL}/${picture.path}`}\r\n                                                showCloseBtn={false}\r\n                                                image={`${Config.BACKEND_URL}/${picture.path}`} />\r\n                                        </div>\r\n                                    ))}\r\n                                </Row>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={locale === \"ar\" ? \"doc-info-leftr\" : \"doc-info-right\"}>\r\n                        <div className=\"clinic-booking\">\r\n                            <Link href={\"/doctor/\" + props.medecin.id}>\r\n                                <a className=\"view-pro-btn\"> {content.seeProfile} </a>\r\n                            </Link>\r\n                            <Button onClick={() => setShowDisponibilite(true)} color=\"primary\"> {content.seeDispo} </Button>\r\n                        </div>\r\n\r\n                        {ShowDisponibilite}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {showDisponibilite &&\r\n                <ShowDisponibilite\r\n                    showDisponibilite={showDisponibilite}\r\n                    {...props}\r\n                    handleClose={() => setShowDisponibilite(false)}\r\n                    selectedDate={selectedDate}\r\n                    selectedHour={selectedHour}\r\n                    setDetails={setDetails}\r\n                    validateTime={validateTime}\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ShowDisponibilite(props) {\r\n    const { content, locale, handleClose, selectedDate, selectedHour, setDetails, validateTime } = props;\r\n\r\n    return (\r\n        <div className={locale === \"ar\" ? \"dispo-content-ar\" : \"dispo-content\"}>\r\n            <h3>{content.dispo}</h3>\r\n            <div>\r\n                <CalendarAvailability {...props} setSelectedHour={setDetails} />\r\n            </div>\r\n            <div>\r\n                {!selectedHour && !selectedDate ? null : content.timeSelected + moment(selectedDate + selectedHour, 'YYYY/MM/DDHH:mm').calendar()}\r\n            </div>\r\n            <div className=\"actions\">\r\n                <Button onClick={handleClose} color=\"transparent\">\r\n                    {content.cancel}\r\n                </Button>\r\n                <Button disabled={!selectedHour} onClick={validateTime} color=\"primary\">\r\n                    {content.confirm}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
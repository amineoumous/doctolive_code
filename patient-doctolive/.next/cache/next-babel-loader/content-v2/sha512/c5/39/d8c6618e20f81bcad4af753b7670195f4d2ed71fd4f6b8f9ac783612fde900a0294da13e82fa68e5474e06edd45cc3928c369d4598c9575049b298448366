{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\app\\\\doctolive_code\\\\patient-doctolive\\\\pages\\\\recherche\\\\[specialite]\\\\[ville].js\";\nimport Head from 'next/head';\nimport { useState, useEffect } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport Config from './../../../EndPoint';\nimport MedecinWidget from './../../../components/MedecinWidget/MedecinWidget';\nimport MapAccess from './../../../components/MedecinWidget/MapAccess';\nimport Search from './../../../components/Search/Search';\nimport { useRouter } from 'next/router';\nimport contentFR from './../../../contentFR';\nimport contentEN from './../../../contentEN';\nimport contentAR from './../../../contentAR';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"./../../../assets/jss/recherchePage.js\";\nconst useStyles = makeStyles(styles);\nexport default function Magasin({\n  medecins,\n  locations\n}) {\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n  const {\n    0: screenWidth,\n    1: setScreenWidth\n  } = useState(1);\n  const classes = useStyles();\n  useEffect(() => {\n    function updateSize() {\n      setScreenWidth(window.innerWidth);\n    }\n\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => {\n      window.removeEventListener('resize', updateSize);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"DOCTOLIVE - Rechercher m\\xE9decin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), medecins.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n      className: \"content-recherche m-0\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"7\",\n        md: \"12\",\n        xs: \"12\",\n        children: medecins.map((researched, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MedecinWidget, {\n            medecin: researched,\n            locale: locale,\n            content: content.resultResearch.widget\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"5\",\n        md: \"12\",\n        xs: \"12\",\n        className: \"order-sm-last\",\n        children: /*#__PURE__*/_jsxDEV(MapAccess, {\n          apiKey: Config.apiKey,\n          locations: locations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.header,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.bakgroudContainer,\n          style: locale === \"ar\" ? {\n            backgroundImage: `url(/image/search.svg)`,\n            backgroundPosition: \"bottom left\",\n            textAlign: \"right\"\n          } : {\n            backgroundImage: `url(/image/search.svg)`,\n            backgroundPosition: \"85% 75%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-fluid\",\n            id: \"recherche-medecin\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: classes.h1,\n                children: content.resultResearch.noReseault\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: classes.h2,\n                children: content.heading2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Search, {\n              content: content.resultResearch,\n              locale: locale\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\nexport async function getServerSideProps(context) {\n  try {\n    const res = await fetch(`${Config.BACKEND_URL}/medecin/${context.params.specialite}/${context.params.ville}`);\n    const data = await res.json();\n    console.log(\"Fetched data:\", data);\n    return {\n      props: {\n        medecins: data.medecins,\n        locations: data.medecins.map(medecin => medecin.adress)\n      }\n    };\n\n    if (data.error) {\n      console.error(\"Error fetching data:\", data.error);\n      return {\n        props: {\n          medecins: [],\n          locations: []\n        }\n      };\n    }\n\n    return {\n      props: {\n        medecins: data.medecins,\n        locations: data.medecins.map(medecin => medecin.adress)\n      }\n    };\n  } catch (error) {\n    console.error(\"Fetch error:\", error);\n    return {\n      props: {\n        medecins: [],\n        locations: []\n      }\n    };\n  }\n}","map":{"version":3,"sources":["C:/app/doctolive_code/patient-doctolive/pages/recherche/[specialite]/[ville].js"],"names":["Head","useState","useEffect","Row","Col","Config","MedecinWidget","MapAccess","Search","useRouter","contentFR","contentEN","contentAR","makeStyles","styles","useStyles","Magasin","medecins","locations","router","locale","content","screenWidth","setScreenWidth","classes","updateSize","window","innerWidth","addEventListener","removeEventListener","length","map","researched","index","resultResearch","widget","apiKey","header","bakgroudContainer","backgroundImage","backgroundPosition","textAlign","h1","noReseault","h2","heading2","getServerSideProps","context","res","fetch","BACKEND_URL","params","specialite","ville","data","json","console","log","props","medecin","adress","error"],"mappings":"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","sourcesContent":["import Head from 'next/head';\r\nimport { useState, useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nimport Config from './../../../EndPoint';\r\n\r\nimport MedecinWidget from './../../../components/MedecinWidget/MedecinWidget';\r\nimport MapAccess from './../../../components/MedecinWidget/MapAccess';\r\nimport Search from './../../../components/Search/Search';\r\n\r\nimport { useRouter } from 'next/router';\r\n\r\nimport contentFR from './../../../contentFR';\r\nimport contentEN from './../../../contentEN';\r\nimport contentAR from './../../../contentAR';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport styles from \"./../../../assets/jss/recherchePage.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Magasin({ medecins, locations }) {\r\n    const router = useRouter();\r\n    const { locale } = router;\r\n\r\n    const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\r\n\r\n    const [screenWidth, setScreenWidth] = useState(1);\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        function updateSize() {\r\n            setScreenWidth(window.innerWidth);\r\n        }\r\n\r\n        window.addEventListener('resize', updateSize);\r\n        updateSize();\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', updateSize);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Head>\r\n                <title>DOCTOLIVE - Rechercher médecin</title>\r\n            </Head>\r\n\r\n            {medecins.length > 0 ? (\r\n                <Row className=\"content-recherche m-0\">\r\n                    <Col lg=\"7\" md=\"12\" xs=\"12\">\r\n                        {medecins.map((researched, index) => (\r\n                            <div key={index}>\r\n                                <MedecinWidget medecin={researched} locale={locale} content={content.resultResearch.widget} />\r\n                            </div>\r\n                        ))}\r\n                    </Col>\r\n                    <Col lg=\"5\" md=\"12\" xs=\"12\" className=\"order-sm-last\">\r\n                        <MapAccess apiKey={Config.apiKey} locations={locations} />\r\n                    </Col>\r\n                </Row>\r\n            ) : (\r\n                <div>\r\n                    <section className={classes.header}>\r\n                        <div\r\n                            className={classes.bakgroudContainer}\r\n                            style={\r\n                                locale === \"ar\"\r\n                                    ? { backgroundImage: `url(/image/search.svg)`, backgroundPosition: \"bottom left\", textAlign: \"right\" }\r\n                                    : { backgroundImage: `url(/image/search.svg)`, backgroundPosition: \"85% 75%\" }\r\n                            }\r\n                        >\r\n                            <div className=\"container-fluid\" id=\"recherche-medecin\">\r\n                                <div className=\"mb-3\">\r\n                                    <h1 className={classes.h1}>{content.resultResearch.noReseault}</h1>\r\n                                    <h2 className={classes.h2}>{content.heading2}</h2>\r\n                                </div>\r\n                                <Search content={content.resultResearch} locale={locale} />\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n    try {\r\n        const res = await fetch(`${Config.BACKEND_URL}/medecin/${context.params.specialite}/${context.params.ville}`);\r\n        const data = await res.json();\r\n\r\n        console.log(\"Fetched data:\", data);\r\n        return {\r\n            props: { medecins: data.medecins, locations: data.medecins.map((medecin) => medecin.adress) },\r\n        };\r\n        if (data.error) {\r\n            console.error(\"Error fetching data:\", data.error);\r\n            return {\r\n                props: { medecins: [], locations: [] },\r\n            };\r\n        }\r\n\r\n        return {\r\n            props: { medecins: data.medecins, locations: data.medecins.map((medecin) => medecin.adress) },\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Fetch error:\", error);\r\n        return {\r\n            props: { medecins: [], locations: [] },\r\n        };\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
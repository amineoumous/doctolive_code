{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport Head from 'next/head';\nimport { useState, useEffect } from 'react';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport Config from './../../../EndPoint';\nimport MedecinWidget from './../../../components/MedecinWidget/MedecinWidget';\nimport MapAccess from './../../../components/MedecinWidget/MapAccess';\nimport Search from './../../../components/Searchtwo/Search';\nimport { useRouter } from 'next/router';\nimport contentFR from './../../../contentFR';\nimport contentEN from './../../../contentEN';\nimport contentAR from './../../../contentAR';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"./../../../assets/jss/recherchePage.js\";\nconst useStyles = makeStyles(styles);\nexport default function magasin({\n  medecins,\n  locations\n}) {\n  const router = useRouter();\n  const {\n    locale\n  } = router;\n  const content = locale === \"ar\" ? contentAR : locale === \"en\" ? contentEN : contentFR;\n  const {\n    0: screenWidth,\n    1: setScreenWidth\n  } = useState(1);\n  const classes = useStyles();\n  useEffect(() => {\n    function updateSize() {\n      setScreenWidth(window.innerWidth);\n    }\n\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => {\n      window.removeEventListener('resize', updateSize);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsxs(\"title\", {\n        children: [\" DOCTOLIVE - Rechercher m\\xE9decin\", medecins === null || medecins === void 0 ? void 0 : medecins.length, \" \"]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \" \",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \" m-0\",\n        children: /*#__PURE__*/_jsx(\"section\", {\n          className: classes.header,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: 'header-search',\n            style: locale === \"ar\" ? {\n              backgroundPosition: \"bottom left\",\n              textAlign: \"right\"\n            } : {\n              backgroundPosition: \"85% 75%\"\n            },\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"container-fluid text-center\",\n              id: \"recherche-medecin\",\n              children: /*#__PURE__*/_jsx(Search, {\n                content: content.resultResearch,\n                locale: locale\n              })\n            })\n          })\n        })\n      })\n    }), medecins.length > 0 ? /*#__PURE__*/_jsxs(Row, {\n      className: \"content-recherche m-0 bg-body-i\",\n      children: [/*#__PURE__*/_jsx(Col, {\n        lg: \"9\",\n        md: \"12\",\n        xs: \"12\",\n        children: medecins === null || medecins === void 0 ? void 0 : medecins.map((researched, index) => {\n          return /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(MedecinWidget, {\n              medecin: researched,\n              locale: locale,\n              content: content.resultResearch.widget\n            })\n          }, index);\n        })\n      }), /*#__PURE__*/_jsx(Col, {\n        lg: \"3\",\n        md: \"12\",\n        xs: \"12\",\n        className: \"order-sm-last\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"carre-map text-center\",\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            src: \"/image/pin-round.png\",\n            className: \"img-fluid mt-5\",\n            alt: \"User Image\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"J\\u2019autorise le traitement d\\u2019informations (dont mon adresse IP)\"\n          })]\n        })\n      })]\n    }) : /*#__PURE__*/_jsx(\"div\", {\n      className: \" \",\n      children: /*#__PURE__*/_jsxs(\"h1\", {\n        className: classes.h1,\n        children: [\"  \", content.resultResearch.noReseault, \" \"]\n      })\n    })]\n  });\n}\nexport async function getServerSideProps(context) {\n  const {\n    specialite,\n    ville\n  } = context.params;\n  const url = `${Config.BACKEND_URL}/medecin/${specialite}/${ville}`;\n  const res = await fetch(url, {\n    headers: {\n      'Origin': Config.CURRENT_URL // Replace with your frontend URL\n\n    }\n  });\n  const data = await res.json();\n  console.log(\"Data:\", data);\n\n  if (data.error) {\n    return {\n      props: {\n        medecins: [],\n        locations: []\n      }\n    };\n  }\n\n  return {\n    props: {\n      medecins: data.medecins,\n      locations: data.medecins.map(medecin => medecin.adress)\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}